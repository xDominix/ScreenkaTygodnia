/*! For license information please see main.0445636a.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var O,M=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ce(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return Ie(e,t,n)}finally{De=!1,(null!==_e||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oe=!1,Me=null,Ue=!1,Fe=null,ze={onError:function(e){Oe=!0,Me=e}};function Ve(e,t,n,r,i,a,o,u,s){Oe=!1,Me=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,Ct=!1,Tt=[],It=null,Nt=null,Dt=null,At=new Map,Pt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Dt&&Ut(Dt)&&(Dt=null),At.forEach(Ft),Pt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==Dt&&Vt(Dt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return Dt=Ot(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Ot(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ot(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=M({},ln,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Cn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),Rn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var On=c&&"TextEvent"in window&&!Ln,Mn=c&&(!jn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Ur(e,0)}function Yn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Dr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var jr=Ar[Rr];Pr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var c=Me;Oe=!1,Me=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,l),a=s}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Cr:case Tr:case Ir:s=yn;break;case Nr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(qr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==s&&Qr(o,u,s,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ci(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Di=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ii)}function ji(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),Ci(Ii,e)):Ei(Ni),Ci(Ni,n)}var Ui=null,Fi=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{kt=t,zi=!1}}return null}var Hi=[],Wi=0,qi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Hi[Wi++]=Gi,Hi[Wi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ja(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Di:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Di:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,u,s,l){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Ol(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ll(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ul(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ci(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,vo.lanes|=f,Ms|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,jo.bind(null,n,r,i,t),void 0,null),null===Ds)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Oo(t)&&Mo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function Uo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function Vo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function qo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),au(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ds)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Ds.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:zo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Xo,useReducer:Do,useRef:zo,useState:function(){return Do(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Do(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(js,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(js,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(js,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(js,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Cu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Di:Ii.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Iu(e,t,n,r,i){if(Pi(n)){var a=!0;Oi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),Ha(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Ai(t,l=Pi(n)?Di:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Wa(t,o,r,l),Da=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Da?("function"===typeof c&&(za(t,n,c,r),s=t.memoizedState),(u=Da||Ba(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ai(t,s=Pi(n)?Di:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Da?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(l=Da||Ba(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Cu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ro(e,t.containerInfo)}function Au(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ru,ju,Lu,Ou={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Ml(s,i,0,null),e=Ol(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Ou,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,zu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ol(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Ou,o);if(0===(1&t.mode))return zu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ds)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return ml(),zu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Fu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=jl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=jl(r,u):(u=Ol(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i}return e=(u=e.child).sibling,i=jl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ul(aa),aa=null))),Ru(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)ju(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(ul(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Hs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ci(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},ju=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){El(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){El(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){El(e,e.return,m)}try{rs(5,e,e.return)}catch(m){El(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){El(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var c=ke(s,o);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){El(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){El(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){El(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(c=Xu)||f,ms(t,e),Xu=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){El(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){El(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){El(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ls(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){El(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var l=Xu;if($u=o,(Xu=s)&&!l)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,$u=u,Xu=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){El(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){El(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){El(t,i,s)}}var a=t.return;try{as(t)}catch(s){El(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){El(t,o,s)}}}catch(s){El(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Cs=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ns=0,Ds=null,As=null,Ps=0,Rs=0,js=Si(0),Ls=0,Os=null,Ms=0,Us=0,Fs=0,zs=null,Vs=null,Bs=0,Hs=1/0,Ws=null,qs=!1,Gs=null,Ks=null,Qs=!1,Ys=null,$s=0,Xs=0,Js=null,Zs=-1,el=0;function tl(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===Ds||(e===Ds&&(0===(2&Ns)&&(Us|=n),4===Ls&&sl(e,Ps)),il(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(Hs=Xe()+500,Fi&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ds?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(ll.bind(null,e)):Vi(ll.bind(null,e)),oi((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zs=-1,el=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Ds?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ns;Ns|=2;var o=vl();for(Ds===e&&Ps===t||(Ws=null,Hs=Xe()+500,dl(e,t));;)try{kl();break}catch(s){pl(e,s)}wa(),Cs.current=o,Ns=i,null!==As?t=0:(Ds=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Os,dl(e,0),sl(e,r),il(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Os,dl(e,0),sl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xl(e,Vs,Ws);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,Vs,Ws),t);break}xl(e,Vs,Ws);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,Vs,Ws),r);break}xl(e,Vs,Ws);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Vs,Vs=n,null!==t&&ul(t)),e}function ul(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sl(e,t){for(t&=~Fs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ns))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Os,dl(e,0),sl(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Vs,Ws),il(e,Xe()),null}function cl(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Hs=Xe()+500,Fi&&Bi())}}function fl(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&_l();var t=Ns;Ns|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ns=t))&&Bi()}}function hl(){Rs=js.current,Ei(js)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ni),Ei(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ds=e,As=e=jl(e.current,null),Ps=Rs=t,Ls=0,Os=null,Fs=Us=Ms=0,Vs=zs=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Os=t,As=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ps,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Ls&&(Ls=2),null===zs?zs=[o]:zs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function vl(){var e=Cs.current;return Cs.current=ou,null===e?ou:e}function ml(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ds||0===(268435455&Ms)&&0===(268435455&Us)||sl(Ds,Ps)}function yl(e,t){var n=Ns;Ns|=2;var r=vl();for(Ds===e&&Ps===t||(Ws=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(wa(),Ns=n,Cs.current=r,null!==As)throw Error(a(261));return Ds=null,Ps=0,Ls}function gl(){for(;null!==As;)bl(As)}function kl(){for(;null!==As&&!Ye();)bl(As)}function bl(e){var t=Ss(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wl(e):As=t,Ts.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(As=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ls=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ls&&(Ls=5)}function xl(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{_l()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ds&&(As=Ds=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Dl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),Ns=s,kt=u,Is.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,$s=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&_l(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function _l(){if(null!==Ys){var e=bt($s),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,$s=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Zu=c;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===c){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){El(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function Sl(e,t,n){e=ja(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function El(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=ja(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>Xe()-Bs?dl(e,0):Fs|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(yt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Dl(e,t){return Ke(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Al(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Ol(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Pl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=o,e;case D:return(e=Pl(19,n,t,i)).elementType=D,e.lanes=o,e;case R:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case I:u=11;break e;case A:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ol(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,o,u,s){return e=new zl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,u,s){return(e=Vl(n,r,!0,e,0,a,0,u,s)).context=Bl(null),n=e.current,(a=Ra(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ja(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ci(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ci(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Au(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Au(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Cu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ci(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,Sa(t,n),Ha(t,r,i),qa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Hu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=ql(o);u.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=ql(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=ql(s);u.call(e)}}var s=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){Wl(t,s,n,r)})),s}(n,t,e,i,r);return ql(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Ns)&&(Hs=Xe()+500,Bi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},_t=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=N(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},j={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,R(x);else{var t=r(c);null!==t&&j(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&j(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function D(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=D,_=function(){P.postMessage(null)}}else _=function(){y(D,0)};function R(e){E=e,S||(S=!0,_())}function j(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(C),C=-1):m=!0,j(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),function(){var e,t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||o(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||l(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function x(e,t,n){return x=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},x.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},_(e)}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var C,T="popstate";function I(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),E({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,l=void 0!==s&&s,c=u.history,f=e.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){f=e.Pop;var t=p(),n=null==t?null:t-d;d=t,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:P(e);return I(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(E({},c.state,{idx:d}),""));var y={get action(){return f},get location(){return t(u,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(T,v),h=e,function(){u.removeEventListener(T,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=A(y.location,t,n);r&&r(i,t);var a=D(i,d=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(s){u.location.assign(o)}l&&h&&h({action:f,location:y.location,delta:1})},replace:function(t,n){f=e.Replace;var i=A(y.location,t,n);r&&r(i,t);var a=D(i,d=p()),o=y.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function L(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],Q(r));return a}function O(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(I(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=Z([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(I(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),O(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(M(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function M(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||l(n)||o(n)||u(),a=r[0],s=r.slice(1),f=a.endsWith("?"),h=a.replace(/\?$/,"");if(0===s.length)return f?[h,""]:[h];var d=M(s.join("/")),p=[];return p.push.apply(p,c(d.map((function(e){return""===e?h:[h,e].join("/")})))),f&&p.push.apply(p,c(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var U=/^:\w+$/,F=3,z=2,V=1,B=10,H=-2,W=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=z),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(U.test(t)?F:""===t?V:B)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=K({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:Z([i,c.pathname]),pathnameBase:ee(Z([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=Z([i,c.pathnameBase]))}return a}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],l=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return N(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function Q(e){try{return decodeURI(e)}catch(t){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function J(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(I(!(i=E({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),I(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),I(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:te(a),hash:ne(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(_(Error));function ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var se=t.createContext(null);var le=t.createContext(null);var ce=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext({outlet:null,matches:[],isDataRoute:!1});var pe=t.createContext(null);function ve(){return null!=t.useContext(he)}function me(){return ve()||I(!1),t.useContext(he).location}function ye(e){t.useContext(fe).static||t.useLayoutEffect(e)}function ge(){return t.useContext(de).isDataRoute?function(){var e=Ie(xe.UseNavigateStable).router,n=De(_e.UseNavigateStable),r=t.useRef(!1);ye((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ue({fromRouteId:n},i)))}),[e,n]);return i}():function(){ve()||I(!1);var e=t.useContext(fe),n=e.basename,r=e.navigator,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ye((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=J(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}()}function ke(){var e=t.useContext(de).matches,n=e[e.length-1];return n?n.params:{}}function be(n,r,i){ve()||I(!1);var a,o=t.useContext(fe).navigator,u=t.useContext(de).matches,s=u[u.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,me());if(r){var h,d="string"===typeof r?R(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||I(!1),a=d}else a=f;var p=a.pathname||"/",v=L(n,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Z([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Z([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return r&&m?t.createElement(he.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},m):m}function we(){var e=function(){var e,n=t.useContext(pe),r=Ne(_e.UseRouteError),i=De(_e.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var xe,_e,Se=t.createElement(we,null),Ee=function(e){y(r,e);var n=w(r);function r(e){var t;return f(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(de.Provider,{value:this.props.routeContext},t.createElement(pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ce(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(se);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Te(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||I(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,l=null;r&&(l=i.route.errorElement||Se);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ce,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ee,{location:r.location,revalidation:r.revalidation,component:l,error:s,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}function Ie(e){var n=t.useContext(se);return n||I(!1),n}function Ne(e){var n=t.useContext(le);return n||I(!1),n}function De(e){var n=function(e){var n=t.useContext(de);return n||I(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||I(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(xe||(xe={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(_e||(_e={}));var Ae;function Pe(e){I(!1)}function Re(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,u=n.location,s=n.navigationType,l=void 0===s?e.Pop:s,c=n.navigator,f=n.static,h=void 0!==f&&f;ve()&&I(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof u&&(u=R(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,C=t.useMemo((function(){var e=Y(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:E},navigationType:l}}),[d,y,k,w,_,E,l]);return null==C?null:t.createElement(fe.Provider,{value:p},t.createElement(he.Provider,{children:o,value:C}))}function je(e){var t=e.children,n=e.location;return be(Oe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Le=new Promise((function(){}));t.Component;function Oe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(c(n),[i]);if(e.type!==t.Fragment){e.type!==Pe&&I(!1),e.props.index&&e.props.children&&I(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Oe(e.props.children,a)),r.push(o)}else r.push.apply(r,Oe(e.props.children,a))}})),r}function Me(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),j((function(e,t){var n=R(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return A("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:P(t))}),(function(e,t){N("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var u=o.current,l=s(t.useState({action:u.action,location:u.location}),2),c=l[0],f=l[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(Re,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ue,Fe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ue||(Ue={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));var ze=n(184),Ve=function(){return(0,ze.jsx)("div",{children:(0,ze.jsx)("div",{className:"centered",children:"Page Not Found ://"})})};function Be(){Be=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new C(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==h(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function He(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){He(a,r,i,o,u,"next",e)}function u(e){He(a,r,i,o,u,"throw",e)}o(void 0)}))}}function qe(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(e){var t=e.onClick;return(0,ze.jsx)("button",{className:"button-close bcolor-dark-gray",onClick:t,children:(0,ze.jsx)("div",{className:"noselect",children:"+"})})},Ye=function(e){var t=e.onClick,n=e.disabled;return(0,ze.jsx)("button",{disabled:n,className:"button-next focus",onClick:t,children:"NEXT"})},$e=function(e){var t=e.onClick,n=e.disabled,r=e.tickets,i=e.noTicketAnimation,a=void 0!==i&&i,o=e.hashtaged?"UPLO#D":"UPLOAD";return(0,ze.jsxs)("button",{disabled:n,className:"button-upload"+(n?a?" focus opacity ":" bcolor-gray":" focus"),onClick:t,children:[a&&o,!a&&!n&&o+(r>0?"":"*"),!a&&n&&(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("span",{role:"img","aria-label":"ticket",children:"\ud83c\udf9f\ufe0f"}),"x",r]})]})},Xe=function(e){var t=e.onClick,n=e.disabled;return(0,ze.jsx)("button",{disabled:n,className:"paste",onClick:t,children:"PASTE"})},Je=function(e){var t=e.onClick,n=e.focus,r=e.disabled,i=e.children,a=ge();return(0,ze.jsxs)("span",{className:"button-page"+(!r&&n?" color-green-highlight":"")+(r&&!i?" opacity":""),onClick:r?void 0:function(){t?t():a(1)},style:Ke({float:"right"},r?{cursor:"default"}:{}),children:[i,(0,ze.jsx)("span",{style:null!=i&&r?{opacity:0}:void 0,className:"arrow",children:">"})]})},Ze=function(e){var t=e.disabled,n=e.onClick,r=void 0===n?null:n,i=e.alert,a=void 0!==i&&i,o=e.children,u=ge();return(0,ze.jsxs)("span",{className:"button-page"+(t?" opacity":""),onClick:t?void 0:function(){a&&!window.confirm("Are you sure you want to leave?")||(r?r():u(-1))},style:t?{cursor:"default"}:void 0,children:[(0,ze.jsx)("span",{style:null!=o&&t?{opacity:0}:void 0,className:"arrow",children:"<"}),o]})},et=function e(n){var r=n.autofocus,i=n.reff,a=n.placeholder,o=n.readOnly,u=void 0!==o&&o,l=n.onEnter,c=void 0===l?function(){}:l,f=n.onChange,h=void 0===f?function(){}:f,d=n.isRed,p=n.isLoading,v=n.value,m=void 0===v?void 0:v,y=n.longer,g=void 0!==y&&y,k=n.file,b=n.paste,w=void 0!==b&&b,x=s((0,t.useState)(!1),2),_=x[0],S=x[1],E=function(e){_||S(!0),"Enter"!==e.key||g||(i.current.blur(),S(!1),u||c())};if(w&&navigator.clipboard){var C=Ke(Ke({},n),{},{paste:!1});return(0,ze.jsxs)("div",{className:"input-paste",children:[(0,ze.jsx)(e,Ke({},C)),(0,ze.jsx)(Xe,{disabled:p,onClick:function(){navigator.clipboard.readText().then((function(e){i.current.value=e}))}})]})}return k?(0,ze.jsx)("input",{className:d&&!p?"bcolor-red":"",style:Ke({},p?{opacity:"0.4"}:{}),readOnly:p||u,type:"file",accept:"image/*",tilte:"file...",onChange:h}):g?(0,ze.jsx)("textarea",{className:!d||_||p?"":"bcolor-red",cols:"8",rows:"5",placeholder:a,ref:i,value:m,readOnly:p||u,style:Ke({},p?{opacity:"0.4"}:{}),autoFocus:r,onKeyDown:E,onChange:h}):(0,ze.jsx)("input",{className:!d||_||p?"":"bcolor-red",placeholder:a,readOnly:p||u,style:Ke({},p?{opacity:"0.4"}:{}),autoFocus:r,ref:i,value:m,onKeyDown:E,onChange:h})},tt=function(){return new Date(Date.now())},nt=function(e){return"".concat("/ScreenkaTygodnia","/assets/").concat(e)},rt=function(e){return nt((arguments.length>1&&void 0!==arguments[1]?arguments[1]:64)<=64?"app-logos-128/"+e.toLowerCase().replace(" ","_")+"64.jpg":"app-logos-128/"+e.toLowerCase().replace(" ","_")+".jpg")};function it(e){return new Promise((function(t){setTimeout(t,e)}))}var at={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6},ot=function(e){return"string"===typeof e?at[e]:e>=0&&e<=6?Object.keys(at).find((function(t){return at[t]===e})):void 0},ut=function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt()).getDay()+6)%7;return ot(e)},st=["January","February","March","April","May","June","July","August","September","October","November","December"],lt=function(e){return(tt().getDay()+6)%7===e};function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(e=e?new Date(e):tt()).setHours(0,0,0,0);var t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))}function ft(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function ht(e,t){return 0===vt(e,t)}var dt=function(e,t){var n=tt().getHours();return e<=n&&n<t},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&mt(e,15)?"NOW":t&&mt(e,59)?"".concat(yt(e),"MIN AGO"):t&&mt(e,119)?"1H AGO":e.getHours().toLocaleString("en-US",{minimumIntegerDigits:1,useGrouping:!1})+":"+e.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},vt=function(e,t){e=ct(e),t=ct(t);var n=Math.ceil((e.getTime()-t.getTime())/864e5);return n=Math.abs(n),Math.floor(n/7)},mt=function(e,t){if(null==e||null==t)return!1;var n=yt(e);return!(n<0)&&t>=n},yt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt())-e;return Math.floor(t/1e3/60)},gt=function(e){function t(e){return(e<10?"0":"")+e}return e||(e=tt()),e.getFullYear()%100+"_"+t(e.getMonth()+1)+t(e.getDate())+"_"+t(e.getHours())+t(e.getMinutes())},kt=function(e){return e&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Map;return Object.entries(e).forEach((function(e){var n=s(e,2),r=n[0],i=n[1];t.set(r,i)})),t},wt=function(e){var t=e.split(" ");return(t=t.map((function(e,t){return 0===t?e:e.charAt(0)+"."}))).join(" ")},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{me:!1,friends:!1,screenka:!1};return e?{me:null==e.me?t.me:!0===e.me,friends:null==e.friends?t.friends:!0===e.friends,screenka:null==e.screenka?t.screenka:!0===e.screenka}:t},_t="1.1.0",St=function(e){var t=e.logo;return void 0!==t&&t?(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,ze.jsxs)("div",{className:"centered",children:[" ",(0,ze.jsx)("img",{className:"fromdown",alt:"logo",src:nt("st-logo.png"),style:{width:"200px"}})]}),(0,ze.jsxs)("footer",{className:"center",children:["v",_t]})]}):(0,ze.jsx)("div",{children:(0,ze.jsx)("div",{className:"centered",children:"Loading..."})})},Et=v((function e(t,n,r,i,a,o,u){var s=this,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{me:!1,friends:!1,screenka:!1},c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,v=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null;f(this,e),this.toDoc=function(){return{host_id:s.host_id,week_name:s.week_name,upload_date:s.upload_date,app:s.app,content:s.content,context:s.context,permissions:s.permissions,week_tag:s.week_tag,view:null}},this.id=t,this.host_id=n,this.week_name=r,this.upload_date=i,this.app=a,this.content=o,this.context=u,this.permissions=l,this.comment=h,this.view=d,this.week_tag=c,this.top_number=p,this.is_highlighted=v}));Et.fromDoc=function(e){return e?new Et(e.id,e.host_id,e.week_name,e.upload_date.toDate(),e.app,e.content,e.context,e.permissions,e.week_tag,e.comment,e.view,e.top_number,e.is_highlighted):null};var Ct=v((function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Map,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Map,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;f(this,e),this.getFriends=function(e){var t=[];return a.groups.forEach((function(n){n.includes(e)&&n.forEach((function(n){n===e||t.includes(n)||t.push(n)}))})),t},this.getMyGroups=function(e){if(!e)return null;var t=[];return a.groups.forEach((function(n,r){n.includes(e)&&t.push(r)})),t},this.id=t,this.fullname=n,this.start_date=r,this.popular_apps=i,this.personalized_apps=o,this.group_apps=u,this.groups=s,this.subscribers=l,this.max_tickets=3,this.apps_change_date=c}));Ct.fromDoc=function(e){if(!e)return null;var t=bt(e.subscribers);return t.forEach((function(e){return e.join_date=e.join_date.toDate()})),t.forEach((function(e){var t;return e.leave_date=null===(t=e.leave_date)||void 0===t?void 0:t.toDate()})),new Ct(e.id,e.fullname,e.start_date.toDate(),e.popular_apps,e.personalized_apps,e.group_apps,bt(e.groups),t,e.apps_change_date)};var Tt=v((function e(t,n,r,i,a){var o=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];f(this,e),this.getName=function(){var e;return null===(e=o.fullname.split(" "))||void 0===e?void 0:e.at(0)},this.getShortenFullname=function(){return wt(o.fullname)},this.fullname=t,this.funnyname=n,this.username=r,this.hosts=i,this.preferences=a||{me:!1,friends:!1,screenka:!1},this.personalized_apps=u,this.super_personalized_apps=s}));Tt.fromDoc=function(e){return e?new Tt(e.id?e.id:e.fullname,e.funnyname,e.username,e.hosts,e.preferences,e.personalized_apps,e.super_personalized_apps):null};var It=v((function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];f(this,e),this.setTodayAppsCounts=function(e){if(e){a.total_uploads=Object.values(e).reduce((function(e,t){return e+Object.values(t).reduce((function(e,t){return e+t}),0)}),0),a.apps_counts=function(e){return Object.values(e).reduce((function(e,t){return Object.entries(t).forEach((function(t){var n=s(t,2),r=n[0],i=n[1];e.has(r)?e.set(r,e.get(r)+i):e.set(r,i)})),e}),new Map)}(e);var t=e[ut(tt())];return t&&(a.today_apps_counts=bt(t)),a}},this.setTodayParticipants=function(e){if(e){var t=e[ut(tt())];return t&&(a.today_participants=t),a}},this.name=t,this.start_date=n,this.description=r,this.emoji=i,this.blocked_apps=o,this.extra_apps=u,this.max_tickets=l,this.force_st=c,this.today_participants=[],this.today_apps_counts=new Map,this.apps_counts=new Map,this.total_uploads=0,this.latest={},this.screenka_views=new Map,this.screenka_comments=[],this.events=[]}));It.DefaultWeek=new It("Week",tt(),"Default Week",""),It.fromDoc=function(e){if(!e)return null;var t=bt(e.screenka_views);t.forEach((function(e){return e.view_date=e.view_date.toDate()}));var n=e.latest;n&&(n.date=n.date.toDate());var r=new It(e.id,e.start_date.toDate(),e.description,e.emoji,e.blocked_apps,e.extra_apps,e.max_tickets,e.force_st);return r.latest=n,r.screenka_views=t,r.screenka_comments=e.screenka_comments,r.events=e.events,r.setTodayAppsCounts(e.day_apps_counts),r.setTodayParticipants(e.day_participants),r};var Nt=new Date(2023,3,24,20,17),Dt="Demo User",At="demo_user",Pt=new Map([[Dt,[new Et("dsnanaaiaocsn","-1","Glassy Week",new Date(2023,3,24,14,0),"Photos",null,"To wszystko sie tu zaczelo!",{me:!0,friends:!0,screenka:!0},!0,null,"Tola Bajka",1),new Et("dsnanaaiasasa","-1","Glassy Week",new Date(2023,3,24,15,0),"Safari","https://open.spotify.com/track/2dHHgzDwk4BJdRwy9uXhTO","Ta storna to majstersztyk",!1,{me:!0,friends:!0,screenka:!1},null,null,null,null),new Et("dsnasddsxccsn","-1","Glassy Week",new Date(2023,3,24,16,16),"Word","Ciekawski","Ciekawe slowo w sumie",{me:!0,friends:!0,screenka:!0},!1,null,null,null,null)]],["Tola Bajka",[new Et("123123","-1","Glassy Week",new Date(2023,3,24,20,10),"Maps","Paryz Francja","Piekne miejsce! Polecam! Cieplutko!",{me:!0,friends:!0,screenka:!0},!1,null,Dt,2)]],["Mia Muller",[new Et("123","-1","Glassy Week",new Date(2023,3,24,14,30),"Spotify","https://open.spotify.com/track/2dHHgzDwk4BJdRwy9uXhTO","Hejka!",{me:!0,friends:!0,screenka:!0},!0,null,null,null)]]]),Rt=[new Tt(Dt,At,"demo_user",["-1"],{me:!0,friends:!0,screenka:!0},["Word"]),new Tt("Tola Bajka","bayka","bayka",["-1"],{me:!0,friends:!0,screenka:!0}),new Tt("Mia Muller","miam","miam",["-1"],{me:!0,friends:!0,screenka:!0})],jt=new It("Glassy Week",new Date(2023,3,24,8,0),"New week, new you. Have fun. We are waiting for some new fresh and dope things! Use your glasses against burning sun! ...","\ud83d\udd76\ufe0f",null,null,null,!0);jt.today_participants=[Dt,"Mia Muller"],jt.today_apps_counts=bt({Spotify:1,Maps:1,Safari:1,Photos:1}),jt.total_uploads=4,jt.apps_counts=bt({Spotify:1,Maps:1,Safari:1,Photos:1});var Lt=[jt],Ot=new Map([[Dt,{join_date:new Date(2023,3,17),role:"host"}],["Tola Bajka",{join_date:new Date(2023,3,17)}],["Mia Muller",{join_date:new Date(2023,3,17)}]]),Mt=[new Ct("-1",Dt,new Date(2023,3,10),["Notes","Safari","Photos","Youtube","Spotify","Contacts"],["Maps","Instagram","Word","Camera"],null,new Map([["SuperGroup",[Dt,"Tola Bajka"]]]),Ot)],Ut=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ut(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new zt;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zt=function(e){y(n,e);var t=w(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(_(Error)),Vt=function(e){return function(e){var t=Ut(e);return Ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bt=function(e){try{return Ft.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Ht=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Wt=function(){try{return Ht()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ScreenkaTygodnia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Bt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},qt=function(e){var t=function(e){var t,n;return null===(n=null===(t=Wt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Gt=function(){var e;return null===(e=Wt())||void 0===e?void 0:e.config},Kt=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vt(JSON.stringify({alg:"none",type:"JWT"})),Vt(JSON.stringify(a)),""].join(".")}function Yt(){var e,t=null===(e=Wt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function $t(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Xt=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),Jt.prototype.create),a}return v(n)}(_(Error)),Jt=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Zt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Xt(n,a,t)}}]),e}();var Zt=/\{\$([^}]+)}/g;function en(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(tn(u)&&tn(s)){if(!en(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function tn(e){return null!==e&&"object"===typeof e}function nn(e){return e&&e._delegate?e._delegate:e}var rn=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),an="[DEFAULT]",on=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Kt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:an})}catch(l){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),l=u[0],c=u[1];r===this.normalizeInstanceIdentifier(l)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Cp){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===an?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Cp){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an;return this.component?this.component.multipleInstances?e:an:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var un,sn,ln=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new on(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),cn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));var fn={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},hn=sn.INFO,dn=(qe(un={},sn.DEBUG,"log"),qe(un,sn.VERBOSE,"log"),qe(un,sn.INFO,"info"),qe(un,sn.WARN,"warn"),qe(un,sn.ERROR,"error"),un),pn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},vn=function(){function e(t){f(this,e),this.name=t,this._logLevel=hn,this._logHandler=pn,this._userLogHandler=null,cn.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.DEBUG].concat(t)),this._logHandler.apply(this,[this,sn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,sn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.INFO].concat(t)),this._logHandler.apply(this,[this,sn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.WARN].concat(t)),this._logHandler.apply(this,[this,sn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,sn.ERROR].concat(t)),this._logHandler.apply(this,[this,sn.ERROR].concat(t))}}]),e}();var mn,yn,gn=function(e,t){return t.some((function(t){return e instanceof t}))};var kn=new WeakMap,bn=new WeakMap,wn=new WeakMap,xn=new WeakMap,_n=new WeakMap;var Sn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function En(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(In(this),n),Tn(kn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tn(e.apply(In(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[In(this),t].concat(r));return wn.set(a,t.sort?t.sort():[t]),Tn(a)}}function Cn(e){return"function"===typeof e?En(e):(e instanceof IDBTransaction&&function(e){if(!bn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bn.set(e,t)}}(e),gn(e,mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sn):e)}function Tn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Tn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&kn.set(t,e)})).catch((function(){})),_n.set(t,e),t}(e);if(xn.has(e))return xn.get(e);var t=Cn(e);return t!==e&&(xn.set(e,t),_n.set(t,e)),t}var In=function(e){return _n.get(e)};var Nn,Dn,An=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],Rn=new Map;function jn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Rn.get(t))return Rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||An.includes(n))){var a=function(){var e=We(Be().mark((function e(t){var a,o,u,s,l,c,f=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Rn.set(t,a),a}}}Sn=function(e){return Ke(Ke({},e),{},{get:function(t,n,r){return jn(t,n)||e.get(t,n,r)},has:function(t,n){return!!jn(t,n)||e.has(t,n)}})}(Sn);var Ln=function(){function e(t){f(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var On="@firebase/app",Mn="0.9.8",Un=new vn("@firebase/app"),Fn="[DEFAULT]",zn=(qe(Nn={},On,"fire-core"),qe(Nn,"@firebase/app-compat","fire-core-compat"),qe(Nn,"@firebase/analytics","fire-analytics"),qe(Nn,"@firebase/analytics-compat","fire-analytics-compat"),qe(Nn,"@firebase/app-check","fire-app-check"),qe(Nn,"@firebase/app-check-compat","fire-app-check-compat"),qe(Nn,"@firebase/auth","fire-auth"),qe(Nn,"@firebase/auth-compat","fire-auth-compat"),qe(Nn,"@firebase/database","fire-rtdb"),qe(Nn,"@firebase/database-compat","fire-rtdb-compat"),qe(Nn,"@firebase/functions","fire-fn"),qe(Nn,"@firebase/functions-compat","fire-fn-compat"),qe(Nn,"@firebase/installations","fire-iid"),qe(Nn,"@firebase/installations-compat","fire-iid-compat"),qe(Nn,"@firebase/messaging","fire-fcm"),qe(Nn,"@firebase/messaging-compat","fire-fcm-compat"),qe(Nn,"@firebase/performance","fire-perf"),qe(Nn,"@firebase/performance-compat","fire-perf-compat"),qe(Nn,"@firebase/remote-config","fire-rc"),qe(Nn,"@firebase/remote-config-compat","fire-rc-compat"),qe(Nn,"@firebase/storage","fire-gcs"),qe(Nn,"@firebase/storage-compat","fire-gcs-compat"),qe(Nn,"@firebase/firestore","fire-fst"),qe(Nn,"@firebase/firestore-compat","fire-fst-compat"),qe(Nn,"fire-js","fire-js"),qe(Nn,"firebase","fire-js-all"),Nn),Vn=new Map,Bn=new Map;function Hn(e,t){try{e.container.addComponent(t)}catch(n){Un.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wn(e){var t=e.name;if(Bn.has(t))return Un.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bn.set(t,e);var n,r=S(Vn.values());try{for(r.s();!(n=r.n()).done;){Hn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Gn=(qe(Dn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),qe(Dn,"bad-app-name","Illegal App name: '{$appName}"),qe(Dn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),qe(Dn,"app-deleted","Firebase App named '{$appName}' already deleted"),qe(Dn,"no-options","Need to provide options, when not being deployed to hosting via source."),qe(Dn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qe(Dn,"invalid-log-argument","First argument to `onLog` must be null or a function."),qe(Dn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),qe(Dn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),qe(Dn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),qe(Dn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Dn),Kn=new Jt("app","Firebase",Gn),Qn=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}]),e}(),Yn="9.20.0";function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=Gt()),!n)throw Kn.create("no-options");var a=Vn.get(i);if(a){if(en(n,a.options)&&en(r,a.config))return a;throw Kn.create("duplicate-app",{appName:i})}var o,u=new ln(i),s=S(Bn.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new Qn(n,r,u);return Vn.set(i,c),c}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=Vn.get(e);if(!t&&e===Fn)return $n();if(!t)throw Kn.create("no-app",{appName:e});return t}function Jn(e,t,n){var r,i=null!==(r=zn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Un.warn(u.join(" "))}Wn(new rn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Zn="firebase-heartbeat-database",er=1,tr="firebase-heartbeat-store",nr=null;function rr(){return nr||(nr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Tn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Tn(u.result),e.oldVersion,e.newVersion,Tn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Zn,er,{upgrade:function(e,t){if(0===t)e.createObjectStore(tr)}}).catch((function(e){throw Kn.create("idb-open",{originalErrorMessage:e.message})}))),nr}function ir(e){return ar.apply(this,arguments)}function ar(){return ar=We(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rr();case 3:return n=e.sent,e.abrupt("return",n.transaction(tr).objectStore(tr).get(sr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Xt?Un.warn(e.t0.message):(r=Kn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Un.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ar.apply(this,arguments)}function or(e,t){return ur.apply(this,arguments)}function ur(){return ur=We(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rr();case 3:return r=e.sent,i=r.transaction(tr,"readwrite"),a=i.objectStore(tr),e.next=8,a.put(n,sr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Xt?Un.warn(e.t0.message):(o=Kn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Un.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ur.apply(this,arguments)}function sr(e){return"".concat(e.name,"!").concat(e.options.appId)}var lr=function(){function e(t){var n=this;f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new dr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=We(Be().mark((function e(){var t,n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=cr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=We(Be().mark((function e(){var t,n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=cr(),n=fr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Vt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cr(){return(new Date).toISOString().substring(0,10)}function fr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var hr,dr=function(){function e(t){f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($t()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ir(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=We(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=We(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pr(e){return Vt(JSON.stringify({version:2,heartbeats:e})).length}hr="",Wn(new rn("platform-logger",(function(e){return new Ln(e)}),"PRIVATE")),Wn(new rn("heartbeat",(function(e){return new lr(e)}),"PRIVATE")),Jn(On,Mn,hr),Jn(On,Mn,"esm2017"),Jn("fire-js","");function vr(){return vr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vr.apply(this,arguments)}Jn("firebase","9.20.0","app");var mr,yr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gr={},kr=kr||{},br=yr||self;function wr(){}function xr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _r(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sr="closure_uid_"+(1e9*Math.random()>>>0),Er=0;function Cr(e,t,n){return e.call.apply(e.bind,arguments)}function Tr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ir(e,t,n){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cr:Tr).apply(null,arguments)}function Nr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ar(){this.s=this.s,this.o=this.o}Ar.prototype.s=!1,Ar.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Sr)&&e[Sr]||(e[Sr]=++Er))},Ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Lr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Lr.prototype.h=function(){this.defaultPrevented=!0};var Or=function(){if(!br.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{br.addEventListener("test",wr,t),br.removeEventListener("test",wr,t)}catch(n){}return e}();function Mr(e){return/^[\s\xa0]*$/.test(e)}var Ur=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fr(e,t){return e<t?-1:e>t?1:0}function zr(){var e=br.navigator;return e&&(e=e.userAgent)?e:""}function Vr(e){return-1!=zr().indexOf(e)}function Br(e){return Br[" "](e),e}Br[" "]=wr;var Hr,Wr=Vr("Opera"),qr=Vr("Trident")||Vr("MSIE"),Gr=Vr("Edge"),Kr=Gr||qr,Qr=Vr("Gecko")&&!(-1!=zr().toLowerCase().indexOf("webkit")&&!Vr("Edge"))&&!(Vr("Trident")||Vr("MSIE"))&&!Vr("Edge"),Yr=-1!=zr().toLowerCase().indexOf("webkit")&&!Vr("Edge");function $r(){var e=br.document;return e?e.documentMode:void 0}e:{var Xr="",Jr=function(){var e=zr();return Qr?/rv:([^\);]+)(\)|;)/.exec(e):Gr?/Edge\/([\d\.]+)/.exec(e):qr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yr?/WebKit\/(\S+)/.exec(e):Wr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jr&&(Xr=Jr?Jr[1]:""),qr){var Zr=$r();if(null!=Zr&&Zr>parseFloat(Xr)){Hr=String(Zr);break e}}Hr=Xr}var ei,ti={};function ni(){return function(e){var t=ti;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ur(String(Hr)).split("."),n=Ur("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Fr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Fr(0==a[2].length,0==o[2].length)||Fr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(br.document&&qr){var ri=$r();ei=ri||(parseInt(Hr,10)||void 0)}else ei=void 0;var ii=ei;function ai(e,t){if(Lr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qr){e:{try{Br(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ai.X.h.call(this)}}Dr(ai,Lr);var oi={2:"touch",3:"pen",4:"mouse"};ai.prototype.h=function(){ai.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ui="closure_listenable_"+(1e6*Math.random()|0),si=0;function li(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++si,this.ba=this.ea=!1}function ci(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function fi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hi(e){var t={};for(var n in e)t[n]=e[n];return t}var di="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<di.length;a++)n=di[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vi(e){this.src=e,this.g={},this.h=0}function mi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ci(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}vi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=yi(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new li(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var gi="closure_lm_"+(1e6*Math.random()|0),ki={};function bi(e,t,n,r,i){if(r&&r.once)return xi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bi(e,t[a],n,r,i);return null}return n=Ni(n),e&&e[ui]?e.N(t,n,_r(r)?!!r.capture:!!r,i):wi(e,t,n,!1,r,i)}function wi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=_r(i)?!!i.capture:!!i,u=Ti(e);if(u||(e[gi]=u=new vi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ci;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Or||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ei(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xi(e,t[a],n,r,i);return null}return n=Ni(n),e&&e[ui]?e.O(t,n,_r(r)?!!r.capture:!!r,i):wi(e,t,n,!0,r,i)}function _i(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_i(e,t[a],n,r,i);else r=_r(r)?!!r.capture:!!r,n=Ni(n),e&&e[ui]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yi(a=e.g[t],n,r,i))&&(ci(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ti(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yi(t,n,r,i)),(n=-1<e?t[e]:null)&&Si(n))}function Si(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ui])mi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ei(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ti(t))?(mi(n,e),0==n.h&&(n.src=null,t[gi]=null)):ci(e)}}}function Ei(e){return e in ki?ki[e]:ki[e]="on"+e}function Ci(e,t){if(e.ba)e=!0;else{t=new ai(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Si(e),e=n.call(r,t)}return e}function Ti(e){return(e=e[gi])instanceof vi?e:null}var Ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ni(e){return"function"===typeof e?e:(e[Ii]||(e[Ii]=function(t){return e.handleEvent(t)}),e[Ii])}function Di(){Ar.call(this),this.i=new vi(this),this.P=this,this.I=null}function Ai(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Lr(t,e);else if(t instanceof Lr)t.target=t.target||e;else{var i=t;pi(t=new Lr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Pi(o,r,!0,t)&&i}if(i=Pi(o=t.g=e,r,!0,t)&&i,i=Pi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Pi(o=t.g=n[a],r,!1,t)&&i}function Pi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&mi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dr(Di,Ar),Di.prototype[ui]=!0,Di.prototype.removeEventListener=function(e,t,n,r){_i(this,e,t,n,r)},Di.prototype.M=function(){if(Di.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ci(n[r]);delete t.g[e],t.h--}}this.I=null},Di.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Di.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ri=br.JSON.stringify;function ji(){var e=Bi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Li,Oi=function(){function e(){f(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=Mi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Mi=new(function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ui}),(function(e){return e.reset()})),Ui=function(){function e(){f(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Fi(e){br.setTimeout((function(){throw e}),0)}function zi(e,t){Li||function(){var e=br.Promise.resolve(void 0);Li=function(){e.then(Hi)}}(),Vi||(Li(),Vi=!0),Bi.add(e,t)}var Vi=!1,Bi=new Oi;function Hi(){for(var e;e=ji();){try{e.h.call(e.g)}catch(n){Fi(n)}var t=Mi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vi=!1}function Wi(e,t){Di.call(this),this.h=e||1,this.g=t||br,this.j=Ir(this.lb,this),this.l=Date.now()}function qi(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Gi(e,t,n){if("function"===typeof e)n&&(e=Ir(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ir(e.handleEvent,e)}return 2147483647<Number(t)?-1:br.setTimeout(e,t||0)}function Ki(e){e.g=Gi((function(){e.g=null,e.i&&(e.i=!1,Ki(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dr(Wi,Di),(mr=Wi.prototype).ca=!1,mr.R=null,mr.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ai(this,"tick"),this.ca&&(qi(this),this.start()))}},mr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mr.M=function(){Wi.X.M.call(this),qi(this),delete this.g};var Qi=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ki(this)}},{key:"M",value:function(){vr(g(n.prototype),"M",this).call(this),this.g&&(br.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ar);function Yi(e){Ar.call(this),this.h=e,this.g={}}Dr(Yi,Ar);var $i=[];function Xi(e,t,n,r){Array.isArray(n)||(n&&($i[0]=n.toString()),n=$i);for(var i=0;i<n.length;i++){var a=bi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ji(e){fi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Si(e)}),e),e.g={}}function Zi(){this.g=!0}function ea(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ri(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Yi.prototype.M=function(){Yi.X.M.call(this),Ji(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Aa=function(){this.g=!1},Zi.prototype.info=function(){};var ta={},na=null;function ra(){return na=na||new Di}function ia(e){Lr.call(this,ta.Pa,e)}function aa(e){var t=ra();Ai(t,new ia(t))}function oa(e,t){Lr.call(this,ta.STAT_EVENT,e),this.stat=t}function ua(e){var t=ra();Ai(t,new oa(t,e))}function sa(e,t){Lr.call(this,ta.Qa,e),this.size=t}function la(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return br.setTimeout((function(){e()}),t)}ta.Pa="serverreachability",Dr(ia,Lr),ta.STAT_EVENT="statevent",Dr(oa,Lr),ta.Qa="timingevent",Dr(sa,Lr);var ca={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},fa={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ha(){}function da(e){return e.h||(e.h=e.i())}function pa(){}ha.prototype.h=null;var va,ma={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ya(){Lr.call(this,"d")}function ga(){Lr.call(this,"c")}function ka(){}function ba(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Yi(this),this.O=xa,e=Kr?125:void 0,this.T=new Wi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}Dr(ya,Lr),Dr(ga,Lr),Dr(ka,ha),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},va=new ka;var xa=45e3,_a={},Sa={};function Ea(e,t,n){e.K=1,e.v=Wa(Fa(t)),e.s=n,e.P=!0,Ca(e,null)}function Ca(e,t){e.F=Date.now(),Da(e),e.A=Fa(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ro(n.i,"t",r),e.C=0,n=e.l.H,e.h=new wa,e.g=au(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Qi(Ir(e.La,e,e.g),e.N)),Xi(e.S,e.g,"readystatechange",e.ib),t=e.H?hi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),aa(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ta(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ia(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Na(e,n))==Sa){4==t&&(e.o=4,ua(14),i=!1),ea(e.j,e.m,null,"[Incomplete Response]");break}if(r==_a){e.o=4,ua(15),ea(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ea(e.j,e.m,r,null),La(e,r)}Ta(e)&&r!=Sa&&r!=_a&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ua(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xo(t),t.K=!0,ua(11))):(ea(e.j,e.m,n,"[Invalid Chunked Response]"),ja(e),Ra(e))}function Na(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Sa:(n=Number(t.substring(n,r)),isNaN(n)?_a:(r+=1)+n>t.length?Sa:(t=t.substr(r,n),e.C=r+n,t))}function Da(e){e.V=Date.now()+e.O,Aa(e,e.O)}function Aa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=la(Ir(e.gb,e),t)}function Pa(e){e.B&&(br.clearTimeout(e.B),e.B=null)}function Ra(e){0==e.l.G||e.I||eu(e.l,e)}function ja(e){Pa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qi(e.T),Ji(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function La(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fo(n.h,e)))if(!e.J&&fo(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zo(n),Ho(n)}$o(n),ua(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=la(Ir(n.cb,n),6e3));if(1>=co(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else nu(n,11)}else if((e.J||n.g==e)&&Zo(n),!Mr(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ho(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ha(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=iu(r,r.H?r.ka:null,r.V),d.J){po(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Pa(p),Da(p)),r.g=d}else Yo(r);0<n.i.length&&qo(n)}else"stop"!=a[0]&&"close"!=a[0]||nu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nu(n,7):Bo(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}aa()}catch(a){}}function Oa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(mr=ba.prototype).setTimeout=function(e){this.O=e},mr.ib=function(e){e=e.target;var t=this.L;t&&3==Oo(e)?t.l():this.La(e)},mr.La=function(e){try{if(e==this.g)e:{var t=Oo(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Kr||this.g&&(this.h.h||this.g.fa()||Mo(this.g)))){this.I||4!=t||7==n||aa(),Pa(this);var r=this.g.aa();this.Y=r;t:if(Ta(this)){var i=Mo(this.g);e="";var a=i.length,o=4==Oo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ja(this),Ra(this);var u="";break t}this.h.i=new br.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mr(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,ua(12),ja(this),Ra(this);break e}ea(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,La(this,r)}this.P?(Ia(this,t,u),Kr&&this.i&&3==t&&(Xi(this.S,this.T,"tick",this.hb),this.T.start())):(ea(this.j,this.m,u,null),La(this,u)),4==t&&ja(this),this.i&&!this.I&&(4==t?eu(this.l,this):(this.i=!1,Da(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,ua(12)):(this.o=0,ua(13)),ja(this),Ra(this)}}}catch(t){}},mr.hb=function(){if(this.g){var e=Oo(this.g),t=this.g.fa();this.C<t.length&&(Pa(this),Ia(this,e,t),this.i&&4!=e&&Da(this))}},mr.cancel=function(){this.I=!0,ja(this)},mr.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(aa(),ua(17)),ja(this),this.o=2,Ra(this)):Aa(this,this.V-e)};var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ua){this.h=void 0!==t?t:e.h,za(this,e.j),this.s=e.s,this.g=e.g,Va(this,e.m),this.l=e.l,t=e.i;var n=new Za;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ba(this,n),this.o=e.o}else e&&(n=String(e).match(Ma))?(this.h=!!t,za(this,n[1]||"",!0),this.s=qa(n[2]||""),this.g=qa(n[3]||"",!0),Va(this,n[4]),this.l=qa(n[5]||"",!0),Ba(this,n[6]||"",!0),this.o=qa(n[7]||"")):(this.h=!!t,this.i=new Za(null,this.h))}function Fa(e){return new Ua(e)}function za(e,t,n){e.j=n?qa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Va(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ba(e,t,n){t instanceof Za?(e.i=t,function(e,t){t&&!e.j&&(eo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(to(this,t),ro(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ga(t,Xa)),e.i=new Za(t,e.h))}function Ha(e,t,n){e.i.set(t,n)}function Wa(e){return Ha(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ga(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ka),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ka(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ua.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ga(t,Qa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ga(t,Qa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ga(n,"/"==n.charAt(0)?$a:Ya,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ga(n,Ja)),e.join("")};var Qa=/[#\/\?@]/g,Ya=/[#\?:]/g,$a=/[#\?]/g,Xa=/[#\?@]/g,Ja=/#/g;function Za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function eo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function to(e,t){eo(e),t=io(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function no(e,t){return eo(e),t=io(e,t),e.g.has(t)}function ro(e,t,n){to(e,t),0<n.length&&(e.i=null,e.g.set(io(e,t),Rr(n)),e.h+=n.length)}function io(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(mr=Za.prototype).add=function(e,t){eo(this),this.i=null,e=io(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},mr.forEach=function(e,t){eo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},mr.oa=function(){eo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},mr.W=function(e){eo(this);var t=[];if("string"===typeof e)no(this,e)&&(t=t.concat(this.g.get(io(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},mr.set=function(e,t){return eo(this),this.i=null,no(this,e=io(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},mr.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},mr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ao=v((function e(t,n){f(this,e),this.h=t,this.g=n}));function oo(e){this.l=e||so,br.PerformanceNavigationTiming?e=0<(e=br.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(br.g&&br.g.Ga&&br.g.Ga()&&br.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uo,so=10;function lo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function co(e){return e.h?1:e.g?e.g.size:0}function fo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ho(e,t){e.g?e.g.add(t):e.h=t}function po(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vo(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Rr(e.i)}function mo(){}function yo(){this.g=new mo}function go(e,t,n){var r=n||"";try{Oa(e,(function(e,n){var i=e;_r(e)&&(i=Ri(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ko(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bo(e){this.l=e.ac||null,this.j=e.jb||!1}function wo(e,t){Di.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oo.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mo.prototype.stringify=function(e){return br.JSON.stringify(e,void 0)},mo.prototype.parse=function(e){return br.JSON.parse(e,void 0)},Dr(bo,ha),bo.prototype.g=function(){return new wo(this.l,this.j)},bo.prototype.i=(uo={},function(){return uo}),Dr(wo,Di);var xo=0;function _o(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function So(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eo(e)}function Eo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(mr=wo.prototype).open=function(e,t){if(this.readyState!=xo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eo(this)},mr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||br).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},mr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,So(this)),this.readyState=xo},mr.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof br.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_o(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},mr.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?So(this):Eo(this),3==this.readyState&&_o(this)}},mr.Va=function(e){this.g&&(this.response=this.responseText=e,So(this))},mr.Ua=function(e){this.g&&(this.response=e,So(this))},mr.ga=function(){this.g&&So(this)},mr.setRequestHeader=function(e,t){this.v.append(e,t)},mr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},mr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Co=br.JSON.parse;function To(e){Di.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Io,this.K=this.L=!1}Dr(To,Di);var Io="",No=/^https?$/i,Do=["POST","PUT"];function Ao(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Po(e),jo(e)}function Po(e){e.D||(e.D=!0,Ai(e,"complete"),Ai(e,"error"))}function Ro(e){if(e.h&&"undefined"!=typeof kr&&(!e.C[1]||4!=Oo(e)||2!=e.aa()))if(e.v&&4==Oo(e))Gi(e.Ha,0,e);else if(Ai(e,"readystatechange"),4==Oo(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ma)[1]||null;if(!a&&br.self&&br.self.location){var o=br.self.location.protocol;a=o.substr(0,o.length-1)}i=!No.test(a?a.toLowerCase():"")}t=i}if(t)Ai(e,"complete"),Ai(e,"success");else{e.m=6;try{var u=2<Oo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Po(e)}}finally{jo(e)}}}function jo(e,t){if(e.g){Lo(e);var n=e.g,r=e.C[0]?wr:null;e.g=null,e.C=null,t||Ai(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Lo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(br.clearTimeout(e.A),e.A=null)}function Oo(e){return e.g?e.g.readyState:0}function Mo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Io:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xu){return null}}function Uo(e){var t="";return fi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Fo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Uo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ha(e,t,n))}function zo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vo(e){this.Ca=0,this.i=[],this.j=new Zi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zo("baseRetryDelayMs",5e3,e),this.bb=zo("retryDelaySeedMs",1e4,e),this.$a=zo("forwardChannelMaxRetries",2,e),this.ta=zo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new oo(e&&e.concurrentRequestLimit),this.Fa=new yo,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Bo(e){if(Wo(e),3==e.G){var t=e.U++,n=Fa(e.F);Ha(n,"SID",e.I),Ha(n,"RID",t),Ha(n,"TYPE","terminate"),Ko(e,n),(t=new ba(e,e.j,t,void 0)).K=2,t.v=Wa(Fa(n)),n=!1,br.navigator&&br.navigator.sendBeacon&&(n=br.navigator.sendBeacon(t.v.toString(),"")),!n&&br.Image&&((new Image).src=t.v,n=!0),n||(t.g=au(t.l,null),t.g.da(t.v)),t.F=Date.now(),Da(t)}ru(e)}function Ho(e){e.g&&(Xo(e),e.g.cancel(),e.g=null)}function Wo(e){Ho(e),e.u&&(br.clearTimeout(e.u),e.u=null),Zo(e),e.h.cancel(),e.m&&("number"===typeof e.m&&br.clearTimeout(e.m),e.m=null)}function qo(e){lo(e.h)||e.m||(e.m=!0,zi(e.Ja,e),e.C=0)}function Go(e,t){var n;n=t?t.m:e.U++;var r=Fa(e.F);Ha(r,"SID",e.I),Ha(r,"RID",n),Ha(r,"AID",e.T),Ko(e,r),e.o&&e.s&&Fo(r,e.o,e.s),n=new ba(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Qo(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ho(e.h,n),Ea(n,r,t)}function Ko(e,t){e.ia&&fi(e.ia,(function(e,n){Ha(t,n,e)})),e.l&&Oa({},(function(e,n){Ha(t,n,e)}))}function Qo(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ir(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{go(c,o,"req"+l+"_")}catch(Pu){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Yo(e){e.g||e.u||(e.Z=1,zi(e.Ia,e),e.A=0)}function $o(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=la(Ir(e.Ia,e),tu(e,e.A)),e.A++,!0)}function Xo(e){null!=e.B&&(br.clearTimeout(e.B),e.B=null)}function Jo(e){e.g=new ba(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Fa(e.sa);Ha(t,"RID","rpc"),Ha(t,"SID",e.I),Ha(t,"CI",e.L?"0":"1"),Ha(t,"AID",e.T),Ha(t,"TYPE","xmlhttp"),Ko(e,t),e.o&&e.s&&Fo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Wa(Fa(t)),n.s=null,n.P=!0,Ca(n,e)}function Zo(e){null!=e.v&&(br.clearTimeout(e.v),e.v=null)}function eu(e,t){var n=null;if(e.g==t){Zo(e),Xo(e),e.g=null;var r=2}else{if(!fo(e.h,t))return;n=t.D,po(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ai(r=ra(),new sa(r,n)),qo(e)}else Yo(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(co(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=la(Ir(e.Ja,e,t),tu(e,e.C)),e.C++,!0))}(e,t)||2==r&&$o(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nu(e,5);break;case 4:nu(e,10);break;case 3:nu(e,6);break;default:nu(e,2)}}function tu(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function nu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ir(e.kb,e);n||(n=new Ua("//www.google.com/images/cleardot.gif"),br.location&&"http"==br.location.protocol||za(n,"https"),Wa(n)),function(e,t){var n=new Zi;if(br.Image){var r=new Image;r.onload=Nr(ko,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nr(ko,n,r,"TestLoadImage: error",!1,t),r.onabort=Nr(ko,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nr(ko,n,r,"TestLoadImage: timeout",!1,t),br.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ua(2);e.G=0,e.l&&e.l.va(t),ru(e),Wo(e)}function ru(e){if(e.G=0,e.la=[],e.l){var t=vo(e.h);0==t.length&&0==e.i.length||(jr(e.la,t),jr(e.la,e.i),e.h.i.length=0,Rr(e.i),e.i.length=0),e.l.ua()}}function iu(e,t,n){var r=n instanceof Ua?Fa(n):new Ua(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Va(r,r.m);else{var i=br.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ua(null,void 0);r&&za(a,r),t&&(a.g=t),i&&Va(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ha(r,n,t),Ha(r,"VER",e.ma),Ko(e,r),r}function au(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new To(new bo({jb:!0})):new To(e.ra)).Ka(e.H),t}function ou(){}function uu(){if(qr&&!(10<=Number(ii)))throw Error("Environmental error: no available transport.")}function su(e,t){Di.call(this),this.g=new Vo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Mr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fu(this)}function lu(e){ya.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cu(){ga.call(this),this.status=1}function fu(e){this.g=e}(mr=To.prototype).Ka=function(e){this.L=e},mr.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():va.g(),this.C=this.u?da(this.u):da(va),this.g.onreadystatechange=Ir(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Ao(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=br.FormData&&e instanceof br.FormData,!(0<=Pr(Do,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=S(n);try{for(c.s();!(l=c.n()).done;){var f=s(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Lo(this),0<this.B&&((this.K=function(e){return qr&&ni()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.qa,this)):this.A=Gi(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ao(this,u)}},mr.qa=function(){"undefined"!=typeof kr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ai(this,"timeout"),this.abort(8))},mr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ai(this,"complete"),Ai(this,"abort"),jo(this))},mr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jo(this,!0)),To.X.M.call(this)},mr.Ha=function(){this.s||(this.F||this.v||this.l?Ro(this):this.fb())},mr.fb=function(){Ro(this)},mr.aa=function(){try{return 2<Oo(this)?this.g.status:-1}catch(uo){return-1}},mr.fa=function(){try{return this.g?this.g.responseText:""}catch(uo){return""}},mr.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Co(t)}},mr.Ea=function(){return this.m},mr.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(mr=Vo.prototype).ma=8,mr.G=1,mr.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ba(this,this.j,e,void 0),n=this.s;if(this.S&&(n?pi(n=hi(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qo(this,t,r),Ha(i=Fa(this.F),"RID",e),Ha(i,"CVER",22),this.D&&Ha(i,"X-HTTP-Session-Id",this.D),Ko(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Uo(n)))+"&"+r:this.o&&Fo(i,this.o,n)),ho(this.h,t),this.Ya&&Ha(i,"TYPE","init"),this.O?(Ha(i,"$req",r),Ha(i,"SID","null"),t.Z=!0,Ea(t,i,null)):Ea(t,i,r),this.G=2}}else 3==this.G&&(e?Go(this,e):0==this.i.length||lo(this.h)||Go(this))},mr.Ia=function(){if(this.u=null,Jo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=la(Ir(this.eb,this),e)}},mr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ua(10),Ho(this),Jo(this))},mr.cb=function(){null!=this.v&&(this.v=null,Ho(this),$o(this),ua(19))},mr.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ua(2)):(this.j.info("Failed to ping google.com"),ua(1))},(mr=ou.prototype).xa=function(){},mr.wa=function(){},mr.va=function(){},mr.ua=function(){},mr.Ra=function(){},uu.prototype.g=function(e,t){return new su(e,t)},Dr(su,Di),su.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ua(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=iu(e,null,e.V),qo(e)},su.prototype.close=function(){Bo(this.g)},su.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ri(e),e=n);t.i.push(new ao(t.ab++,e)),3==t.G&&qo(t)},su.prototype.M=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,su.X.M.call(this)},Dr(lu,ya),Dr(cu,ga),Dr(fu,ou),fu.prototype.xa=function(){Ai(this.g,"a")},fu.prototype.wa=function(e){Ai(this.g,new lu(e))},fu.prototype.va=function(e){Ai(this.g,new cu)},fu.prototype.ua=function(){Ai(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,su.prototype.send=su.prototype.u,su.prototype.open=su.prototype.m,su.prototype.close=su.prototype.close,ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,fa.COMPLETE="complete",pa.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Di.prototype.listen=Di.prototype.N,To.prototype.listenOnce=To.prototype.O,To.prototype.getLastError=To.prototype.Oa,To.prototype.getLastErrorCode=To.prototype.Ea,To.prototype.getStatus=To.prototype.aa,To.prototype.getResponseJson=To.prototype.Sa,To.prototype.getResponseText=To.prototype.fa,To.prototype.send=To.prototype.da,To.prototype.setWithCredentials=To.prototype.Ka;var hu=gr.createWebChannelTransport=function(){return new uu},du=gr.getStatEventTarget=function(){return ra()},pu=gr.ErrorCode=ca,vu=gr.EventType=fa,mu=gr.Event=ta,yu=gr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gu=gr.FetchXmlHttpFactory=bo,ku=gr.WebChannel=pa,bu=gr.XhrIo=To,wu="@firebase/firestore",xu=function(){function e(t){f(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xu.UNAUTHENTICATED=new xu(null),xu.GOOGLE_CREDENTIALS=new xu("google-credentials-uid"),xu.FIRST_PARTY=new xu("first-party-uid"),xu.MOCK_USER=new xu("mock-user");var _u="9.20.0",Su=new vn("@firebase/firestore");function Eu(){return Su.logLevel}function Cu(e){if(Su.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Su.debug.apply(Su,["Firestore (".concat(_u,"): ").concat(e)].concat(c(i)))}}function Tu(e){if(Su.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Su.error.apply(Su,["Firestore (".concat(_u,"): ").concat(e)].concat(c(i)))}}function Iu(e){if(Su.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nu);Su.warn.apply(Su,["Firestore (".concat(_u,"): ").concat(e)].concat(c(i)))}}function Nu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_u,") INTERNAL ASSERTION FAILED: ")+e;throw Tu(t),new Error(t)}function Au(e,t){e||Du()}function Pu(e,t){return e}var Ru={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ju=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(Xt),Lu=v((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ou=v((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Mu=function(){function e(){f(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Uu=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fu=function(){function e(t){f(this,e),this.t=t,this.currentUser=xu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Lu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Lu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Cu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Cu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Au("string"==typeof n.accessToken),new Ou(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Au(null===e||"string"==typeof e),new xu(e)}}]),e}(),zu=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=xu.FIRST_PARTY,this.g=new Map}return v(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Vu=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new zu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Bu=v((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hu=function(){function e(t){f(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Cu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Cu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Cu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Cu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Au("string"==typeof t.token),e.T=t.token,new Bu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qu=function(){function e(){f(this,e)}return v(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gu(e,t){return e<t?-1:e>t?1:0}function Ku(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Qu=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ju(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ju(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ju(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ju(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gu(this.nanoseconds,e.nanoseconds):Gu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yu=function(){function e(t){f(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Qu(0,0))}},{key:"max",value:function(){return new e(new Qu(253402300799,999999999))}}]),e}(),$u=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&Du(),void 0===r?r=t.length-n:r>t.length-n&&Du(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Xu=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ju(Ru.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,c(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($u),Ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zu=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ju.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ju(Ru.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ju(Ru.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ju(Ru.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ju(Ru.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($u),es=function(){function e(t){f(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Xu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Xu.fromString(t))}},{key:"fromName",value:function(t){return new e(Xu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Xu.emptyPath())}},{key:"comparator",value:function(e,t){return Xu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Xu(t.slice()))}}]),e}(),ts=v((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));ts.UNKNOWN_ID=-1;function ns(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yu.fromTimestamp(1e9===r?new Qu(n+1,0):new Qu(n,r));return new is(i,es.empty(),t)}function rs(e){return new is(e.readTime,e.key,-1)}var is=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Yu.min(),es.empty(),-1)}},{key:"max",value:function(){return new e(Yu.max(),es.empty(),-1)}}]),e}();function as(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=es.comparator(e.documentKey,t.documentKey))?n:Gu(e.largestBatchId,t.largestBatchId)}var os="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",us=function(){function e(){f(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ss(e){return ls.apply(this,arguments)}function ls(){return ls=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ru.FAILED_PRECONDITION&&t.message===os){e.next=2;break}throw t;case 2:Cu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}var cs=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Du(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function fs(e){return"IndexedDbTransactionError"===e.name}var hs=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function ds(e){return null==e}function ps(e){return 0===e&&1/e==-1/0}function vs(e){return"number"==typeof e&&Number.isInteger(e)&&!ps(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}hs.ct=-1;var ms=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ys=([].concat(c(ms),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),gs=ys;[].concat(gs,["indexConfiguration","indexState","indexEntries"]);function ks(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ws(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var xs=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||Ss.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ss.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ss.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _s(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _s(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _s(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _s(this.root,e,this.comparator,!0)}}]),e}(),_s=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ss=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Du();if(this.right.isRed())throw Du();var e=this.left.check();if(e!==this.right.check())throw Du();return e+(this.isRed()?0:1)}}]),e}();Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new(function(){function e(){f(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw Du()}},{key:"value",get:function(){throw Du()}},{key:"color",get:function(){throw Du()}},{key:"left",get:function(){throw Du()}},{key:"right",get:function(){throw Du()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ss(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Es=function(){function e(t){f(this,e),this.comparator=t,this.data=new xs(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cs=function(){function e(t){f(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Ts=function(){function e(t){f(this,e),this.fields=t,t.sort(Zu.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new Es(Zu.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=S(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ku(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Is=function(e){y(n,e);var t=w(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return v(n)}(_(Error));var Ns=function(e){function t(e){f(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Is("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ns.EMPTY_BYTE_STRING=new Ns("");var Ds=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(e){if(Au(!!e),"string"==typeof e){var t=0,n=Ds.exec(e);if(Au(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ps(e.seconds),nanos:Ps(e.nanos)}}function Ps(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rs(e){return"string"==typeof e?Ns.fromBase64String(e):Ns.fromUint8Array(e)}function js(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ls(e){var t=e.mapValue.fields.__previous_value__;return js(t)?Ls(t):t}function Os(e){var t=As(e.mapValue.fields.__local_write_time__.timestampValue);return new Qu(t.seconds,t.nanos)}var Ms=v((function e(t,n,r,i,a,o,u,s){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Us=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?js(e)?4:el(e)?9007199254740991:10:Du()}function Vs(e,t){if(e===t)return!0;var n=zs(e);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Os(e).isEqual(Os(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=As(e.timestampValue),r=As(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rs(e.bytesValue).isEqual(Rs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ps(e.geoPointValue.latitude)===Ps(t.geoPointValue.latitude)&&Ps(e.geoPointValue.longitude)===Ps(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ps(e.integerValue)===Ps(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ps(e.doubleValue),r=Ps(t.doubleValue);return n===r?ps(n)===ps(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ku(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ks(n)!==ks(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vs(n[i],r[i])))return!1;return!0}(e,t);default:return Du()}}function Bs(e,t){return void 0!==(e.values||[]).find((function(e){return Vs(e,t)}))}function Hs(e,t){if(e===t)return 0;var n=zs(e),r=zs(t);if(n!==r)return Gu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ps(e.integerValue||e.doubleValue),r=Ps(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ws(e.timestampValue,t.timestampValue);case 4:return Ws(Os(e),Os(t));case 5:return Gu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rs(e),r=Rs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gu(n[i],r[i]);if(0!==a)return a}return Gu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gu(Ps(e.latitude),Ps(t.latitude));return 0!==n?n:Gu(Ps(e.longitude),Ps(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hs(n[i],r[i]);if(a)return a}return Gu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fs.mapValue&&t===Fs.mapValue)return 0;if(e===Fs.mapValue)return 1;if(t===Fs.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Gu(r[o],a[o]);if(0!==u)return u;var s=Hs(n[r[o]],i[a[o]]);if(0!==s)return s}return Gu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Du()}}function Ws(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gu(e,t);var n=As(e),r=As(t),i=Gu(n.seconds,r.seconds);return 0!==i?i:Gu(n.nanos,r.nanos)}function qs(e){return Gs(e)}function Gs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=As(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,es.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Gs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Gs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Du();var t,n}function Ks(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qs(e){return!!e&&"integerValue"in e}function Ys(e){return!!e&&"arrayValue"in e}function $s(e){return!!e&&"nullValue"in e}function Xs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Js(e){return!!e&&"mapValue"in e}function Zs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Zs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function el(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var tl=function(){function e(t){f(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Js(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zs(t)}},{key:"setAll",value:function(e){var t=this,n=Zu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Zs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Js(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Js(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bs(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Zs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function nl(e){var t=[];return bs(e.fields,(function(e,n){var r=new Zu([e]);if(Js(n)){var i=nl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ts(t)}var rl=function(){function e(t,n,r,i,a,o,u){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Yu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=tl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=tl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yu.min(),Yu.min(),Yu.min(),tl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Yu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yu.min(),Yu.min(),tl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yu.min(),Yu.min(),tl.empty(),2)}}]),e}(),il=v((function e(t,n){f(this,e),this.position=t,this.inclusive=n}));function al(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?es.comparator(es.fromName(o.referenceValue),n.key):Hs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ol(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}var ul=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function sl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ll=v((function e(){f(this,e)})),cl=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hs(t,this.value)):null!==t&&zs(this.value)===zs(t)&&this.matchesComparison(Hs(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Du()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gl(e,t,r):"array-contains"===t?new xl(e,r):"in"===t?new _l(e,r):"not-in"===t?new Sl(e,r):"array-contains-any"===t?new El(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new kl(e,n):new bl(e,n)}}]),n}(ll),fl=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return v(n,[{key:"matches",value:function(e){return hl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ll);function hl(e){return"and"===e.op}function dl(e){return pl(e)&&hl(e)}function pl(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof fl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function vl(e){if(e instanceof cl)return e.field.canonicalString()+e.op.toString()+qs(e.value);if(dl(e))return e.filters.map((function(e){return vl(e)})).join(",");var t=e.filters.map((function(e){return vl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ml(e,t){return e instanceof cl?function(e,t){return t instanceof cl&&e.op===t.op&&e.field.isEqual(t.field)&&Vs(e.value,t.value)}(e,t):e instanceof fl?function(e,t){return t instanceof fl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ml(n,t.filters[r])}),!0)}(e,t):void Du()}function yl(e){return e instanceof cl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(qs(e.value))}(e):e instanceof fl?function(e){return e.op.toString()+" {"+e.getFilters().map(yl).join(" ,")+"}"}(e):"Filter"}var gl=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=es.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=es.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(cl),kl=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=wl("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cl),bl=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=wl("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cl);function wl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return es.fromName(e.referenceValue)}))}var xl=function(e){y(n,e);var t=w(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ys(t)&&Bs(t.arrayValue,this.value)}}]),n}(cl),_l=function(e){y(n,e);var t=w(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bs(this.value.arrayValue,t)}}]),n}(cl),Sl=function(e){y(n,e);var t=w(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bs(this.value.arrayValue,t)}}]),n}(cl),El=function(e){y(n,e);var t=w(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ys(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bs(t.value.arrayValue,e)}))}}]),n}(cl),Cl=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Tl(e){return new Cl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Il(e){var t=Pu(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return vl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ds(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qs(e)})).join(",")),t.ft=n}return t.ft}function Nl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ml(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ol(e.startAt,t.startAt)&&ol(e.endAt,t.endAt)}function Dl(e){return es.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Al=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt}));function Pl(e,t,n,r,i,a,o,u){return new Al(e,t,n,r,i,a,o,u)}function Rl(e){return new Al(e)}function jl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ll(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ol(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Ml(e){return null!==e.collectionGroup}function Ul(e){var t=Pu(e);if(null===t.dt){t.dt=[];var n=Ol(t),r=Ll(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ul(n)),t.dt.push(new ul(Zu.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ul(Zu.keyField(),s))}}}return t.dt}function Fl(e){var t=Pu(e);if(!t.wt)if("F"===t.limitType)t.wt=Tl(t.path,t.collectionGroup,Ul(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(Ul(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ul(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new il(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new il(t.startAt.position,t.startAt.inclusive):null;t.wt=Tl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function zl(e,t){t.getFirstInequalityField(),Ol(e);var n=e.filters.concat([t]);return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vl(e,t,n){return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bl(e,t){return Nl(Fl(e),Fl(t))&&e.limitType===t.limitType}function Hl(e){return"".concat(Il(Fl(e)),"|lt:").concat(e.limitType)}function Wl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return yl(e)})).join(", "),"]")),ds(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qs(e)})).join(",")),"Target(".concat(t,")")}(Fl(e)),"; limitType=").concat(e.limitType,")")}function ql(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):es.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(Ul(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=al(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ul(e),t))&&!(e.endAt&&!function(e,t,n){var r=al(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ul(e),t))}(e,t)}function Gl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kl(e){return function(t,n){var r,i=!1,a=S(Ul(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ql(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ql(e,t,n){var r=e.field.isKeyField()?es.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hs(r,i):Du()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Du()}}var Yl=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bs(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ws(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),$l=new xs(es.comparator);function Xl(){return $l}var Jl=new xs(es.comparator);function Zl(){for(var e=Jl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ec(e){var t=Jl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function tc(){return rc()}function nc(){return rc()}function rc(){return new Yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ic=new xs(es.comparator),ac=new Es(es.comparator);function oc(){for(var e=ac,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var uc=new Es(Gu);function sc(){return uc}function lc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ps(t)?"-0":t}}function cc(e){return{integerValue:""+e}}function fc(e,t){return vs(t)?cc(t):lc(e,t)}var hc=v((function e(){f(this,e),this._=void 0}));function dc(e,t,n){return e instanceof mc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yc?gc(e,t):e instanceof kc?bc(e,t):function(e,t){var n=vc(e,t),r=xc(n)+xc(e._t);return Qs(n)&&Qs(e._t)?cc(r):lc(e.serializer,r)}(e,t)}function pc(e,t,n){return e instanceof yc?gc(e,t):e instanceof kc?bc(e,t):n}function vc(e,t){return e instanceof wc?Qs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var mc=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(hc),yc=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return v(n)}(hc);function gc(e,t){var n,r=_c(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kc=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return v(n)}(hc);function bc(e,t){var n,r=_c(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wc=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return v(n)}(hc);function xc(e){return Ps(e.integerValue||e.doubleValue)}function _c(e){return Ys(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Sc=v((function e(t,n){f(this,e),this.field=t,this.transform=n}));var Ec=v((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),Cc=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Tc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ic=v((function e(){f(this,e)}));function Nc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vc(e.key,Cc.none()):new jc(e.key,e.data,Cc.none());var n,r=e.data,i=tl.empty(),a=new Es(Zu.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new Lc(e.key,i,new Ts(a.toArray()),Cc.none())}function Dc(e,t,n){e instanceof jc?function(e,t,n){var r=e.value.clone(),i=Mc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lc?function(e,t,n){if(Tc(e.precondition,t)){var r=Mc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Oc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ac(e,t,n,r){return e instanceof jc?function(e,t,n,r){if(!Tc(e.precondition,t))return n;var i=e.value.clone(),a=Uc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lc?function(e,t,n,r){if(!Tc(e.precondition,t))return n;var i=Uc(e.fieldTransforms,r,t),a=t.data;return a.setAll(Oc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Tc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pc(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=vc(a.transform,o||null);null!=u&&(null===r&&(r=tl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Rc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ku(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yc&&t instanceof yc||e instanceof kc&&t instanceof kc?Ku(e.elements,t.elements,Vs):e instanceof wc&&t instanceof wc?Vs(e._t,t._t):e instanceof mc&&t instanceof mc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var jc=function(e){y(n,e);var t=w(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ic),Lc=function(e){y(n,e);var t=w(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Ic);function Oc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Mc(e,t,n){var r=new Map;Au(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pc(o,u,n[i]))}return r}function Uc(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,dc(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Fc,zc,Vc=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ic),Bc=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Ic),Hc=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Dc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ac(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ac(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=nc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Nc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Yu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),oc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,(function(e,t){return Rc(e,t)}))&&Ku(this.baseMutations,e.baseMutations,(function(e,t){return Rc(e,t)}))}}]),e}(),Wc=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){Au(t.mutations.length===r.length);for(var i=ic,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qc=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Gc=v((function e(t){f(this,e),this.count=t}));function Kc(e){switch(e){default:return Du();case Ru.CANCELLED:case Ru.UNKNOWN:case Ru.DEADLINE_EXCEEDED:case Ru.RESOURCE_EXHAUSTED:case Ru.INTERNAL:case Ru.UNAVAILABLE:case Ru.UNAUTHENTICATED:return!1;case Ru.INVALID_ARGUMENT:case Ru.NOT_FOUND:case Ru.ALREADY_EXISTS:case Ru.PERMISSION_DENIED:case Ru.FAILED_PRECONDITION:case Ru.ABORTED:case Ru.OUT_OF_RANGE:case Ru.UNIMPLEMENTED:case Ru.DATA_LOSS:return!0}}function Qc(e){if(void 0===e)return Tu("GRPC error has no .code"),Ru.UNKNOWN;switch(e){case Fc.OK:return Ru.OK;case Fc.CANCELLED:return Ru.CANCELLED;case Fc.UNKNOWN:return Ru.UNKNOWN;case Fc.DEADLINE_EXCEEDED:return Ru.DEADLINE_EXCEEDED;case Fc.RESOURCE_EXHAUSTED:return Ru.RESOURCE_EXHAUSTED;case Fc.INTERNAL:return Ru.INTERNAL;case Fc.UNAVAILABLE:return Ru.UNAVAILABLE;case Fc.UNAUTHENTICATED:return Ru.UNAUTHENTICATED;case Fc.INVALID_ARGUMENT:return Ru.INVALID_ARGUMENT;case Fc.NOT_FOUND:return Ru.NOT_FOUND;case Fc.ALREADY_EXISTS:return Ru.ALREADY_EXISTS;case Fc.PERMISSION_DENIED:return Ru.PERMISSION_DENIED;case Fc.FAILED_PRECONDITION:return Ru.FAILED_PRECONDITION;case Fc.ABORTED:return Ru.ABORTED;case Fc.OUT_OF_RANGE:return Ru.OUT_OF_RANGE;case Fc.UNIMPLEMENTED:return Ru.UNIMPLEMENTED;case Fc.DATA_LOSS:return Ru.DATA_LOSS;default:return Du()}}(zc=Fc||(Fc={}))[zc.OK=0]="OK",zc[zc.CANCELLED=1]="CANCELLED",zc[zc.UNKNOWN=2]="UNKNOWN",zc[zc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zc[zc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zc[zc.NOT_FOUND=5]="NOT_FOUND",zc[zc.ALREADY_EXISTS=6]="ALREADY_EXISTS",zc[zc.PERMISSION_DENIED=7]="PERMISSION_DENIED",zc[zc.UNAUTHENTICATED=16]="UNAUTHENTICATED",zc[zc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zc[zc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zc[zc.ABORTED=10]="ABORTED",zc[zc.OUT_OF_RANGE=11]="OUT_OF_RANGE",zc[zc.UNIMPLEMENTED=12]="UNIMPLEMENTED",zc[zc.INTERNAL=13]="INTERNAL",zc[zc.UNAVAILABLE=14]="UNAVAILABLE",zc[zc.DATA_LOSS=15]="DATA_LOSS";var Yc=function(){function e(){f(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return v(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return $c}},{key:"getOrCreateInstance",value:function(){return null===$c&&($c=new e),$c}}]),e}(),$c=null,Xc=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Jc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Yu.min(),i,sc(),Xl(),oc())}}]),e}(),Jc=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,oc(),oc(),oc())}}]),e}(),Zc=v((function e(t,n,r,i){f(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),ef=v((function e(t,n){f(this,e),this.targetId=t,this.Et=n})),tf=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ns.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),nf=function(){function e(){f(this,e),this.At=0,this.Rt=of(),this.vt=Ns.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return v(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=oc(),t=oc(),n=oc();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Du()}})),new Jc(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=of()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),rf=function(){function e(t){f(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Xl(),this.qt=af(),this.Ut=new Es(Gu)}return v(e,[{key:"Kt",value:function(e){var t,n=S(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Du()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(Dl(a))if(0===r){var o=new es(a.path);this.Qt(n,o,rl.newNoDocument(o,Yu.min()))}else Au(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Yc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Dl(a.target)){var o=new es(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,rl.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=oc();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Xc(e,n,this.Ut,this.Lt,r);return this.Lt=Xl(),this.qt=af(),this.Ut=new Es(Gu),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new nf,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Es(Gu),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Cu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new nf),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function af(){return new xs(es.comparator)}function of(){return new xs(es.comparator)}var uf={asc:"ASCENDING",desc:"DESCENDING"},sf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lf={and:"AND",or:"OR"},cf=v((function e(t,n){f(this,e),this.databaseId=t,this.useProto3Json=n}));function ff(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function df(e,t){return ff(e,t.toTimestamp())}function pf(e){return Au(!!e),Yu.fromTimestamp(function(e){var t=As(e);return new Qu(t.seconds,t.nanos)}(e))}function vf(e,t){return function(e){return new Xu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mf(e){var t=Xu.fromString(e);return Au(Of(t)),t}function yf(e,t){return vf(e.databaseId,t.path)}function gf(e,t){var n=mf(t);if(n.get(1)!==e.databaseId.projectId)throw new ju(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ju(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new es(xf(n))}function kf(e,t){return vf(e.databaseId,t)}function bf(e){var t=mf(e);return 4===t.length?Xu.emptyPath():xf(t)}function wf(e){return new Xu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xf(e){return Au(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _f(e,t,n){return{name:yf(e,t),fields:n.value.mapValue.fields}}function Sf(e,t){var n;if(t instanceof jc)n={update:_f(e,t.key,t.value)};else if(t instanceof Vc)n={delete:yf(e,t.key)};else if(t instanceof Lc)n={update:_f(e,t.key,t.data),updateMask:Lf(t.fieldMask)};else{if(!(t instanceof Bc))return Du();n={verify:yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof mc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Du()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:df(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Du()}(e,t.precondition)),n}function Ef(e,t){return{documents:[kf(e,t.path)]}}function Cf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return jf(fl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pf(e.field),direction:Nf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.useProto3Json||ds(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Tf(e){var t=bf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Au(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=If(e);return t instanceof fl&&dl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ul(Rf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ds(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new il(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new il(n,t)}(n.endAt)),Pl(t,i,u,o,s,"F",l,c)}function If(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Rf(e.unaryFilter.field);return cl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Rf(e.unaryFilter.field);return cl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rf(e.unaryFilter.field);return cl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Rf(e.unaryFilter.field);return cl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Du()}}(e):void 0!==e.fieldFilter?function(e){return cl.create(Rf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Du()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fl.create(e.compositeFilter.filters.map((function(e){return If(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Du()}}(e.compositeFilter.op))}(e):Du()}function Nf(e){return uf[e]}function Df(e){return sf[e]}function Af(e){return lf[e]}function Pf(e){return{fieldPath:e.canonicalString()}}function Rf(e){return Zu.fromServerFormat(e.fieldPath)}function jf(e){return e instanceof cl?function(e){if("=="===e.op){if(Xs(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NAN"}};if($s(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xs(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NAN"}};if($s(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pf(e.field),op:Df(e.op),value:e.value}}}(e):e instanceof fl?function(e){var t=e.getFilters().map((function(e){return jf(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Af(e.op),filters:t}}}(e):Du()}function Lf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Of(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Mf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ns.EMPTY_BYTE_STRING;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Uf=v((function e(t){f(this,e),this.se=t}));function Ff(e){var t=Tf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vl(t,t.limit,"L"):t}var zf=function(){function e(){f(this,e)}return v(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Ps(e.integerValue));else if("doubleValue"in e){var n=Ps(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),ps(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Rs(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?el(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Du()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),es.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();zf.pe=new zf;var Vf=function(){function e(){f(this,e),this.He=new Bf}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),cs.resolve()}},{key:"getCollectionParents",value:function(e,t){return cs.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return cs.resolve(null)}},{key:"getIndexType",value:function(e,t){return cs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return cs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return cs.resolve(is.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return cs.resolve(is.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return cs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cs.resolve()}}]),e}(),Bf=function(){function e(){f(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Es(Xu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Es(Xu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Hf=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Hf.DEFAULT_COLLECTION_PERCENTILE=10,Hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hf.DEFAULT=new Hf(41943040,Hf.DEFAULT_COLLECTION_PERCENTILE,Hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hf.DISABLED=new Hf(-1,0,0);var Wf=function(){function e(t){f(this,e),this.Rn=t}return v(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var qf=function(){function e(){f(this,e),this.changes=new Yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,rl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Gf=v((function e(t,n){f(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Kf=function(){function e(t,n,r,i){f(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ac(r.mutation,e,Ts.empty(),Qu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,oc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oc(),i=tc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Zl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=tc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,oc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Xl(),a=rc(),o=rc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Lc)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ac(o.mutation,t,o.mutation.getFieldMask(),Qu.now())):a.set(t.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Gf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=rc(),i=new xs((function(e,t){return e-t})),a=oc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ts.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||oc()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=nc();l.forEach((function(e){if(!a.has(e)){var n=Nc(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return cs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return es.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):cs.resolve(tc()),u=-1,s=a;return o.next((function(t){return cs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?cs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,oc())})).next((function(e){return{batchId:u,changes:ec(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new es(t)).next((function(e){var t=Zl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Zl();return this.indexManager.getCollectionParents(e,i).next((function(o){return cs.forEach(o,(function(o){var u=function(e,t){return new Al(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,rl.newInvalidDocument(r)))}));var n=Zl();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ac(a.mutation,i,Ts.empty(),Qu.now()),ql(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Qf=function(){function e(t){f(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return cs.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:pf(n.createTime)}),cs.resolve()}},{key:"getNamedQuery",value:function(e,t){return cs.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Ff(e.bundledQuery),readTime:pf(e.readTime)}}(t)),cs.resolve()}}]),e}(),Yf=function(){function e(){f(this,e),this.overlays=new xs(es.comparator),this.ts=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return cs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=tc();return cs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),cs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),cs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=tc(),i=t.length+1,a=new es(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return cs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=tc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=tc(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return cs.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qc(t,n));var a=this.ts.get(t);void 0===a&&(a=oc(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),$f=function(){function e(){f(this,e),this.es=new Es(Xf.ns),this.ss=new Es(Xf.rs)}return v(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xf(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new Xf(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new es(new Xu([])),r=new Xf(n,e),i=new Xf(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new es(new Xu([])),n=new Xf(t,e),r=new Xf(t,e+1),i=oc();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xf(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xf=function(){function e(t,n){f(this,e),this.key=t,this.ds=n}return v(e,null,[{key:"ns",value:function(e,t){return es.comparator(e.key,t.key)||Gu(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Gu(e.ds,t.ds)||es.comparator(e.key,t.key)}}]),e}(),Jf=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Es(Xf.ns)}return v(e,[{key:"checkEmpty",value:function(e){return cs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Hc(i,t,n,r);this.mutationQueue.push(a);var o,u=S(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new Xf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return cs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cs.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return cs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cs.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return cs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xf(t,0),i=new Xf(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),cs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Es(Gu);return t.forEach((function(e){var t=new Xf(e,0),i=new Xf(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),cs.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;es.isDocumentKey(i)||(i=i.child(""));var a=new Xf(new es(i),0),o=new Es(Gu);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),cs.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Au(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return cs.forEach(t.mutations,(function(i){var a=new Xf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xf(t,0),r=this._s.firstAfterOrEqual(n);return cs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,cs.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Zf=function(){function e(t){f(this,e),this.Ts=t,this.docs=new xs(es.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cs.resolve(n?n.document.mutableCopy():rl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Xl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rl.newInvalidDocument(e))})),cs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Xl(),a=t.path,o=new es(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||as(rs(c),n)<=0||(r.has(c.key)||ql(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return cs.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Du()}},{key:"Es",value:function(e,t){return cs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eh(this)}},{key:"getSize",value:function(e){return cs.resolve(this.size)}}]),e}(),eh=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this)).Jn=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),cs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(qf),th=function(){function e(t){f(this,e),this.persistence=t,this.As=new Yl((function(e){return Il(e)}),Nl),this.lastRemoteSnapshotVersion=Yu.min(),this.highestTargetId=0,this.Rs=0,this.vs=new $f,this.targetCount=0,this.bs=Wf.vn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),cs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cs.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),cs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),cs.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Wf(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,cs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),cs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,cs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),cs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return cs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),cs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),cs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return cs.resolve(n)}},{key:"containsKey",value:function(e,t){return cs.resolve(this.vs.containsKey(t))}}]),e}(),nh=function(){function e(t,n){var r=this;f(this,e),this.Ps={},this.overlays={},this.Vs=new hs(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new th(this),this.indexManager=new Vf,this.remoteDocumentCache=new Zf((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new Uf(n),this.xs=new Qf(this.serializer)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Yf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new Jf(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Cu("MemoryPersistence","Starting transaction:",e);var i=new rh(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return cs.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rh=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(us),ih=function(){function e(t){f(this,e),this.persistence=t,this.$s=new $f,this.Ms=null}return v(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw Du()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),cs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),cs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),cs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cs.forEach(this.Bs,(function(r){var i=es.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,Yu.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return cs.or([function(){return cs.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var ah=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return v(e,null,[{key:"Di",value:function(t,n){var r,i=oc(),a=oc(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),oh=function(){function e(){f(this,e),this.Ci=!1}return v(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(jl(t))return cs.resolve(null);var r=Fl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Vl(t,null,"F"),r=Fl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=oc.apply(void 0,c(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,Vl(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return jl(t)||r.isEqual(Yu.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(Eu()<=sn.DEBUG&&Cu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wl(t)),i.Fi(e,o,t,ns(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new Es(Kl(e));return t.forEach((function(t,r){ql(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Eu()<=sn.DEBUG&&Cu("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.xi.getDocumentsMatchingQuery(e,t,is.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),uh=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new xs(Gu),this.qi=new Yl((function(e){return Il(e)}),Nl),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return v(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kf(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function sh(e,t,n,r){return new uh(e,t,n,r)}function lh(e,t){return ch.apply(this,arguments)}function ch(){return ch=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=oc(),s=S(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=S(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=S(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function fh(e,t){var n=Pu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Au(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=oc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function hh(e){var t=Pu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function dh(e,t){var n=Pu(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(Ns.EMPTY_BYTE_STRING,Yu.min()).withLastLimboFreeSnapshotVersion(Yu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Ds.updateTargetData(e,l))}}));var u=Xl(),s=oc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ph(e,a,t.documentUpdates).next((function(e){u=e.zi,s=e.ji}))),!r.isEqual(Yu.min())){var l=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return cs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Li=i,e}))}function ph(e,t,n){var r=oc(),i=oc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Xl();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Cu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function vh(e,t){var n=Pu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function mh(e,t){var n=Pu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,cs.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new Mf(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=We(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pu(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fs(e.t1)){e.next=12;break}throw e.t1;case 12:Cu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),gh.apply(this,arguments)}function kh(e,t,n){var r=Pu(e),i=Yu.min(),a=oc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Pu(e),i=r.qi.get(n);return void 0!==i?cs.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,Fl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:Yu.min(),n?a:oc())})).next((function(e){return bh(r,Gl(t),e),{documents:e,Wi:a}}))}))}function bh(e,t,n){var r=e.Ui.get(t)||Yu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var wh=function(){function e(){f(this,e),this.activeTargetIds=sc()}return v(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xh=function(){function e(){f(this,e),this.Br=new wh,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new wh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_h=function(){function e(){f(this,e)}return v(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sh=function(){function e(){var t=this;f(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return v(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Cu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Cu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Eh=null;function Ch(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}var Th={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ih=function(){function e(t){f(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return v(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),Nh="WebChannelConnection",Dh=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return v(n,[{key:"lo",value:function(e,t,n,r){var i=Ch();return new Promise((function(a,o){var u=new bu;u.setWithCredentials(!0),u.listenOnce(vu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case pu.NO_ERROR:var t=u.getResponseJson();Cu(Nh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case pu.TIMEOUT:Cu(Nh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ju(Ru.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:var n=u.getStatus();if(Cu(Nh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ru).indexOf(t)>=0?t:Ru.UNKNOWN}(s.status);o(new ju(l,s.message))}else o(new ju(Ru.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new ju(Ru.UNAVAILABLE,"Connection failed."));break;default:Du()}}finally{Cu(Nh,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Cu(Nh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=Ch(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hu(),o=du(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new gu({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Cu(Nh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var l=a.createWebChannel(s,u),c=!1,f=!1,h=new Ih({Wr:function(t){f?Cu(Nh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(Cu(Nh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Hr:function(){return l.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(l,ku.EventType.OPEN,(function(){f||Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(l,ku.EventType.CLOSE,(function(){f||(f=!0,Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(l,ku.EventType.ERROR,(function(t){f||(f=!0,Iu(Nh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new ju(Ru.UNAVAILABLE,"The operation could not be completed")))})),d(l,ku.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Au(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Fc[e];if(void 0!==t)return Qc(t)}(u),c=o.message;void 0===s&&(s=Ru.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new ju(s,c)),l.close()}else Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,mu.STAT_EVENT,(function(t){t.stat===yu.PROXY?Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===yu.NOPROXY&&Cu(Nh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=Ch(),o=this.ao(e,t);Cu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.ho(u,r,i),this.lo(e,o,u,n).then((function(t){return Cu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Iu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Th[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function Ah(){return"undefined"!=typeof document?document:null}function Ph(e){return new cf(e,!0)}var Rh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Cu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),jh=function(){function e(t,n,r,i,a,o,u,s){f(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Rh(t,n)}return v(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===Ru.RESOURCE_EXHAUSTED?(Tu(n.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===Ru.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new ju(Ru.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(We(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Cu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Cu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Lh=function(e){y(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return v(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Du()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Au(void 0===t||"string"==typeof t),Ns.fromBase64String(t||"")):(Au(void 0===t||t instanceof Uint8Array),Ns.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ru.UNKNOWN:Qc(e.code);return new ju(t,e.message||"")}(o);n=new tf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=gf(e,s.document.name),c=pf(s.document.updateTime),f=s.document.createTime?pf(s.document.createTime):Yu.min(),h=new tl({mapValue:{fields:s.document.fields}}),d=rl.newFoundDocument(l,c,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Zc(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=gf(e,m.document),g=m.readTime?pf(m.readTime):Yu.min(),k=rl.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Zc([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=gf(e,w.document),_=w.removedTargetIds||[];n=new Zc([],_,x,null)}else{if(!("filter"in t))return Du();t.filter;var S=t.filter;S.targetId;var E=S.count||0,C=new Gc(E),T=S.targetId;n=new ef(T,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Yu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yu.min():t.readTime?pf(t.readTime):Yu.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=wf(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Dl(r)?{documents:Ef(e,r)}:{query:Cf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hf(e,t.resumeToken):t.snapshotVersion.compareTo(Yu.min())>0&&(n.readTime=ff(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Du()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=wf(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(jh),Oh=function(e){y(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.Ho=!1,s}return v(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,vr(g(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Au(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(Au(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pf(e.updateTime):pf(t);return n.isEqual(Yu.min())&&(n=pf(t)),new Ec(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pf(e.commitTime);return this.listener.Zo(n,t)}return Au(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=wf(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sf(t.serializer,e)}))};this.Fo(n)}}]),n}(jh),Mh=function(e){y(n,e);var t=w(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return v(n,[{key:"nu",value:function(){if(this.eu)throw new ju(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.connection.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ju(Ru.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],l=o[1];return i.connection.fo(e,t,n,u,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ju(Ru.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return v((function e(){f(this,e)}))}());var Uh=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return v(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Tu(t),this.ru=!1):Cu("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),Fh=v((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$h(o),!e.t0){e.next=5;break}return Cu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pu(t)).du.add(4),e.next=4,Bh(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,zh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new Uh(r,i)}));function zh(e){return Vh.apply(this,arguments)}function Vh(){return Vh=We(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$h(t)){e.next=18;break}n=S(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vh.apply(this,arguments)}function Bh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=We(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Hh.apply(this,arguments)}function Wh(e,t){var n=Pu(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Yh(n)?Qh(n):Ed(n).No()&&Gh(n,t))}function qh(e,t){var n=Pu(e),r=Ed(n);n.fu.delete(t),r.No()&&Kh(n,t),0===n.fu.size&&(r.No()?r.$o():$h(n)&&n.mu.set("Unknown"))}function Gh(e,t){e.gu.Ot(t.targetId),Ed(e).jo(t)}function Kh(e,t){e.gu.Ot(t),Ed(e).Wo(t)}function Qh(e){e.gu=new rf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),Ed(e).start(),e.mu.ou()}function Yh(e){return $h(e)&&!Ed(e).xo()&&e.fu.size>0}function $h(e){return 0===Pu(e).du.size}function Xh(e){e.gu=void 0}function Jh(e){return Zh.apply(this,arguments)}function Zh(){return Zh=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){Gh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return td=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xh(t),Yh(t)?(t.mu.au(n),Qh(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof tf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=We(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,id(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zc?t.gu.Kt(n):n instanceof ef?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Yu.min())){e.next=29;break}return e.prev=14,e.next=17,hh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Ns.EMPTY_BYTE_STRING,n.snapshotVersion)),Kh(e,t);var r=new Mf(n.target,t,1,n.sequenceNumber);Gh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Cu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,id(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=We(Be().mark((function e(t,n,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fs(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,Bh(t);case 5:t.mu.set("Offline"),r||(r=function(){return hh(t.localStore)}),t.asyncQueue.enqueueRetryable(We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,zh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return t().catch((function(n){return id(e,n,t)}))}function ud(e){return sd.apply(this,arguments)}function sd(){return sd=We(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pu(t),r=Cd(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!ld(n)){e.next=19;break}return e.prev=3,e.next=6,vh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,cd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,id(n,e.t0);case 17:e.next=2;break;case 19:fd(n)&&hd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sd.apply(this,arguments)}function ld(e){return $h(e)&&e.lu.length<10}function cd(e,t){e.lu.push(t);var n=Cd(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function fd(e){return $h(e)&&!Cd(e).xo()&&e.lu.length>0}function hd(e){Cd(e).start()}function dd(e){return pd.apply(this,arguments)}function pd(){return pd=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cd(t).tu();case 1:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e){return md.apply(this,arguments)}function md(){return md=We(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cd(t),r=S(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(e,t,n){return gd.apply(this,arguments)}function gd(){return gd=We(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=Wc.from(i,n,r),e.next=3,od(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ud(t);case 5:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e,t){return bd.apply(this,arguments)}function bd(){return bd=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Cd(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kc(i=n.code)||i===Ru.ABORTED){e.next=7;break}return r=t.lu.shift(),Cd(t).Oo(),e.next=5,od(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ud(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fd(t)&&hd(t);case 5:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(e,t){return xd.apply(this,arguments)}function xd(){return xd=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Pu(t)).asyncQueue.verifyOperationInProgress(),Cu("RemoteStore","RemoteStore received new credentials"),i=$h(r),r.du.add(3),e.next=6,Bh(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,zh(r);case 12:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function _d(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pu(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,zh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,Bh(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Ed(e){return e.yu||(e.yu=function(e,t,n){var r=Pu(e);return r.nu(),new Lh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Jh.bind(null,e),Zr:ed.bind(null,e),zo:nd.bind(null,e)}),e.wu.push(function(){var t=We(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Yh(e)?Qh(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Xh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function Cd(e){return e.pu||(e.pu=function(e,t,n){var r=Pu(e);return r.nu(),new Oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:dd.bind(null,e),Zr:kd.bind(null,e),Xo:vd.bind(null,e),Zo:yd.bind(null,e)}),e.wu.push(function(){var t=We(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,ud(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Cu("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var Td=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ju(Ru.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Id(e,t){if(Tu("AsyncQueue","".concat(t,": ").concat(e)),fs(e))return new ju(Ru.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Nd=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||es.comparator(e.key,n.key)}:function(e,t){return es.comparator(e.key,t.key)},this.keyedMap=Zl(),this.sortedSet=new xs(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Dd=function(){function e(){f(this,e),this.Iu=new xs(es.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Du():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ad=function(){function e(t,n,r,i,a,o,u,s,l){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Nd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Pd=v((function e(){f(this,e),this.Eu=void 0,this.listeners=[]})),Rd=v((function e(){f(this,e),this.queries=new Yl((function(e){return Hl(e)}),Bl),this.onlineState="Unknown",this.Au=new Set}));function jd(e,t){return Ld.apply(this,arguments)}function Ld(){return Ld=We(Be().mark((function e(t,n){var r,i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Id(e.t0,"Initialization of query '".concat(Wl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&zd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ld.apply(this,arguments)}function Od(e,t){return Md.apply(this,arguments)}function Md(){return Md=We(Be().mark((function e(t,n){var r,i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Ud(e,t){var n,r=Pu(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=S(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.vu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&zd(r)}function Fd(e,t,n){var r=Pu(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function zd(e){e.Au.forEach((function(e){e.next()}))}var Vd=function(){function e(t,n,r){f(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ad(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var Bd=v((function e(t){f(this,e),this.key=t})),Hd=v((function e(t){f(this,e),this.key=t})),Wd=function(){function e(t,n){f(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=oc(),this.mutatedKeys=oc(),this.Ku=Kl(t),this.Gu=new Nd(this.Ku)}return v(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new Dd,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=ql(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||l&&n.Ku(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:u,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Du()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Ad(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Dd,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=oc(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new Hd(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new Bd(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=oc();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return Ad.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),qd=v((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),Gd=v((function e(t){f(this,e),this.key=t,this.ec=!1})),Kd=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Yl((function(e){return Hl(e)}),Bl),this.ic=new Map,this.rc=new Set,this.oc=new xs(es.comparator),this.uc=new Map,this.cc=new $f,this.ac={},this.hc=new Map,this.lc=Wf.bn(),this.onlineState="Unknown",this.fc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Qd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=We(Be().mark((function e(t,n){var r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_p(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,mh(r.localStore,Fl(n));case 8:return u=e.sent,r.isPrimaryClient&&Wh(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$d(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function $d(e,t,n,r,i){return Xd.apply(this,arguments)}function Xd(){return Xd=We(Be().mark((function e(t,n,r,i,a){var o,u,s,l,c,f;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=We(Be().mark((function e(t,n,r,i){var a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,kh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vp(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,kh(t.localStore,n,!0);case 3:return o=e.sent,u=new Wd(n,o.Wi),s=u.zu(o.documents),l=Jc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=u.applyChanges(s,t.isPrimaryClient,l),vp(t,r,c.Yu),f=new qd(n,r,u),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=We(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pu(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Bl(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qh(r.remoteStore,i.targetId),dp(r,i.targetId)})).catch(ss);case 9:e.next=14;break;case 11:return dp(r,i.targetId),e.next=14,yh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=We(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sp(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Pu(e),a=Qu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),oc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Xl(),s=oc();return i.Ki.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=S(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=Pc(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new Lc(l.key,c,nl(c.value.mapValue),Cc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ec(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new xs(Gu)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gp(i,a.changes);case 9:return e.next=11,ud(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Id(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.prev=1,e.next=4,dh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Au(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Au(n.ec):e.removedDocuments.size>0&&(Au(n.ec),n.ec=!1))})),e.next=8,gp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ss(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rp.apply(this,arguments)}function ip(e,t,n){var r=Pu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Pu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zd(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ap(e,t,n){return op.apply(this,arguments)}function op(){return op=We(Be().mark((function e(t,n,r){var i,a,o,u,s,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Pu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new xs(es.comparator)).insert(o,rl.newNoDocument(o,Yu.min())),s=oc().add(o),l=new Xc(Yu.min(),new Map,new Es(Gu),u,s),e.next=9,np(i,l);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),yp(i),e.next=16;break;case 14:return e.next=16,yh(i.localStore,n,!1).then((function(){return dp(i,n,r)})).catch(ss);case 16:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=We(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),i=n.batch.batchId,e.prev=1,e.next=4,fh(r.localStore,n);case 4:return a=e.sent,hp(r,i,null),fp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ss(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sp.apply(this,arguments)}function lp(e,t,n){return cp.apply(this,arguments)}function cp(){return cp=We(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),e.prev=1,e.next=4,function(e,t){var n=Pu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Au(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hp(i,n,r),fp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ss(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cp.apply(this,arguments)}function fp(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function hp(e,t,n){var r=Pu(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function dp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||pp(e,t)}))}function pp(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(qh(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),yp(e))}function vp(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Bd?(e.cc.addReference(a.key,t),mp(e,a)):a instanceof Hd?(Cu("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||pp(e,a.key)):Du()}}catch(o){i.e(o)}finally{i.f()}}function mp(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Cu("SyncEngine","New document in limbo: "+n),e.rc.add(r),yp(e))}function yp(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new es(Xu.fromString(t)),r=e.lc.next();e.uc.set(r,new Gd(n)),e.oc=e.oc.insert(n,r),Wh(e.remoteStore,new Mf(Fl(Rl(n.path)),r,2,hs.ct))}}function gp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=We(Be().mark((function e(t,n,r){var i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pu(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ah.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.zo(a),e.next=9,function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s,l,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cs.forEach(n,(function(t){return cs.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cs.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fs(e.t0)){e.next=10;break}throw e.t0;case 10:Cu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.Li=r.Li.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t){return wp.apply(this,arguments)}function wp(){return wp=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Pu(t)).currentUser.isEqual(n)){e.next=11;break}return Cu("SyncEngine","User change. New user:",n.toKey()),e.next=5,lh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new ju(Ru.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gp(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e,t){var n=Pu(e),r=n.uc.get(t);if(r&&r.ec)return oc().add(r.key);var i=oc(),a=n.ic.get(t);if(!a)return i;var o,u=S(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.sc.get(s);i=i.unionWith(l.view.Qu)}}catch(c){u.e(c)}finally{u.f()}return i}function _p(e){var t=Pu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=np.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ap.bind(null,t),t.nc.zo=Ud.bind(null,t.eventManager),t.nc.wc=Fd.bind(null,t.eventManager),t}function Sp(e){var t=Pu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=up.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lp.bind(null,t),t}var Ep=function(){function e(){f(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return sh(this.persistence,new oh,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new nh(ih.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new xh}},{key:"terminate",value:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cp=function(){function e(){f(this,e)}return v(e,[{key:"initialize",value:function(){var e=We(Be().mark((function e(t,n){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ip(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bp.bind(null,this.syncEngine),e.next=12,_d(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Rd}},{key:"createDatastore",value:function(e){var t,n=Ph(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Dh(t));return function(e,t,n,r){return new Mh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ip(o.syncEngine,e,0)},a=Sh.D()?new Sh:new _h,new Fh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Kd(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pu(t),Cu("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,Bh(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Tp=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Tu("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ip=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xu.UNAUTHENTICATED,this.clientId=qu.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Cu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ju(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(We(Be().mark((function n(){var r;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Id(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Np(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function Ap(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jp(t);case 3:return r=e.sent,Cu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wd(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Rp(e){return"FirebaseError"===e.name?e.code===Ru.FAILED_PRECONDITION||e.code===Ru.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function jp(e){return Lp.apply(this,arguments)}function Lp(){return Lp=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Cu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Np(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Rp(n=e.t0)){e.next=13;break}throw n;case 13:return Iu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Np(t,new Ep);case 16:e.next=21;break;case 18:return Cu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Np(t,new Ep);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Lp.apply(this,arguments)}function Op(e){return Mp.apply(this,arguments)}function Mp(){return Mp=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Cu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Ap(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Cu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Ap(t,new Cp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function Up(e){return Op(e).then((function(e){return e.syncEngine}))}function Fp(e){return zp.apply(this,arguments)}function zp(){return zp=We(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Qd.bind(null,n.syncEngine),r.onUnlisten=Jd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Vp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lu;return e.asyncQueue.enqueueAndForget(We(Be().mark((function i(){return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Tp({next:function(a){t.enqueueAndForget((function(){return Od(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ju(Ru.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ju(Ru.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vd(Rl(n.path),a,{includeMetadataChanges:!0,xu:!0});return jd(e,o)},i.next=3,Fp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Bp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lu;return e.asyncQueue.enqueueAndForget(We(Be().mark((function i(){return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Tp({next:function(n){t.enqueueAndForget((function(){return Od(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ju(Ru.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vd(n,a,{includeMetadataChanges:!0,xu:!0});return jd(e,o)},i.next=3,Fp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Hp=new Map;function Wp(e,t,n){if(!n)throw new ju(Ru.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qp(e){if(!es.isDocumentKey(e))throw new ju(Ru.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Gp(e){if(es.isDocumentKey(e))throw new ju(Ru.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Du()}function Qp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ju(Ru.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kp(e);throw new ju(Ru.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Yp(e,t){if(t<=0)throw new ju(Ru.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var $p=function(){function e(t){var n;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ju(Ru.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ju(Ru.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ju(Ru.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Xp=function(){function e(t,n,r,i){f(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new ju(Ru.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ju(Ru.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mu;switch(e.type){case"firstParty":return new Vu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ju(Ru.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Hp.get(e);t&&(Cu("ComponentProvider","Removing Datastore"),Hp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Jp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Qp(e,Xp))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=xu.MOCK_USER;else{o=Qt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ju(Ru.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xu(s)}e._authCredentials=new Uu(new Ou(o,u))}}var Zp=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ev=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tv=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,Rl(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Zp(this.firestore,null,new es(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ev);function nv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),Wp("collection","path",t),e instanceof Xp){var a=Xu.fromString.apply(Xu,[t].concat(r));return Gp(a),new tv(e,null,a)}if(!(e instanceof Zp||e instanceof tv))throw new ju(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xu.fromString.apply(Xu,[t].concat(r)));return Gp(o),new tv(e.firestore,null,o)}function rv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nn(e),1===arguments.length&&(t=qu.A()),Wp("doc","path",t),e instanceof Xp){var a=Xu.fromString.apply(Xu,[t].concat(r));return qp(a),new Zp(e,null,new es(a))}if(!(e instanceof Zp||e instanceof tv))throw new ju(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xu.fromString.apply(Xu,[t].concat(r)));return qp(o),new Zp(e.firestore,e instanceof tv?e.converter:null,new es(o))}var iv=function(){function e(){var t=this;f(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Rh(this,"async_queue_retry"),this.qc=function(){var e=Ah();e&&Cu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=Ah();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return v(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=Ah();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new Lu;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=We(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fs(e.t0)){e.next=12;break}throw e.t0;case 12:Cu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=Td.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&Du()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=S(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function av(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=S(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ov=function(e){y(n,e);var t=w(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new iv,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||sv(this),this._firestoreClient.terminate()}}]),n}(Xp);function uv(e){return e._firestoreClient||sv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sv(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Ms(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ip(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var lv=function(){function e(t){f(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ns.fromBase64String(t))}catch(t){throw new ju(Ru.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ns.fromUint8Array(t))}}]),e}(),cv=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ju(Ru.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zu(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fv=v((function e(t){f(this,e),this._methodName=t})),hv=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new ju(Ru.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ju(Ru.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gu(this._lat,e._lat)||Gu(this._long,e._long)}}]),e}(),dv=/^__.*__$/,pv=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}]),e}(),vv=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Du()}}var yv=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return Lv(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(mv(this.Yc)&&dv.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),gv=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(t)}return v(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yv({Yc:e,methodName:t,oa:n,path:Zu.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function kv(e){var t=e._freezeSettings(),n=Ph(e._databaseId);return new gv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);Av("Data must be an object, but it was:",o,r);var u,s,l=Nv(r,o);if(a.merge)u=new Ts(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=S(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=Pv(t,c.value,n);if(!o.contains(d))throw new ju(Ru.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Ov(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Ts(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new pv(new tl(l),u,s)}var wv=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fv);function xv(e,t,n){return new yv({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var _v=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).ca=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=xv(this,e,!0),n=this.ca.map((function(e){return Iv(e,t)})),r=new yc(n);return new Sc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fv),Sv=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).aa=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new wc(e.serializer,fc(e.serializer,this.aa));return new Sc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fv);function Ev(e,t,n,r){var i=e.ua(1,t,n);Av("Data must be an object, but it was:",i,r);var a=[],o=tl.empty();bs(r,(function(e,r){var u=jv(t,e,n);r=nn(r);var s=i.na(u);if(r instanceof wv)a.push(u);else{var l=Iv(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new Ts(a);return new vv(o,u,i.fieldTransforms)}function Cv(e,t,n,r,i,a){var o=e.ua(1,t,n),u=[Pv(t,r,n)],s=[i];if(a.length%2!=0)throw new ju(Ru.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(Pv(t,a[l])),s.push(a[l+1]);for(var c=[],f=tl.empty(),h=u.length-1;h>=0;--h)if(!Ov(c,u[h])){var d=u[h],p=s[h];p=nn(p);var v=o.na(d);if(p instanceof wv)c.push(d);else{var m=Iv(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new Ts(c);return new vv(f,y,o.fieldTransforms)}function Tv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Iv(n,e.ua(r?4:3,t))}function Iv(e,t){if(Dv(e=nn(e)))return Av("Unsupported field value:",t,e),Nv(e,t);if(e instanceof fv)return function(e,t){if(!mv(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=Iv(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=nn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Qu.fromDate(e);return{timestampValue:ff(t.serializer,n)}}if(e instanceof Qu){var r=new Qu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ff(t.serializer,r)}}if(e instanceof hv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lv)return{bytesValue:hf(t.serializer,e._byteString)};if(e instanceof Zp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(Kp(e)))}(e,t)}function Nv(e,t){var n={};return ws(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(e,(function(e,r){var i=Iv(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qu||e instanceof hv||e instanceof lv||e instanceof Zp||e instanceof fv)}function Av(e,t,n){if(!Dv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kp(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Pv(e,t,n){if((t=nn(t))instanceof cv)return t._internalPath;if("string"==typeof t)return jv(e,t);throw Lv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Rv=new RegExp("[~\\*/\\[\\]]");function jv(e,t,n){if(t.search(Rv)>=0)throw Lv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(cv,c(t.split(".")))._internalPath}catch(r){throw Lv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Lv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ju(Ru.INVALID_ARGUMENT,u+e+s)}function Ov(e,t){return e.some((function(e){return e.isEqual(t)}))}var Mv=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Zp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Fv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Uv=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return vr(g(n.prototype),"data",this).call(this)}}]),n}(Mv);function Fv(e,t){return"string"==typeof t?jv(e,t):t instanceof cv?t._internalPath:t._delegate._internalPath}function zv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ju(Ru.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vv=v((function e(){f(this,e)})),Bv=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(Vv);function Hv(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Vv&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Gv})).length,n=e.filter((function(e){return e instanceof Wv})).length;if(t>1||t>0&&n>0)throw new ju(Ru.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=S(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var Wv=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Zv(e._query,t),new ev(e.firestore,e.converter,zl(e._query,t))}},{key:"_parse",value:function(e){var t=kv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ju(Ru.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Jv(o,a);var s,l=[],c=S(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(Xv(r,e,f))}}catch(h){c.e(h)}finally{c.f()}u={arrayValue:{values:l}}}else u=Xv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Jv(o,a),u=Tv(n,"where",o,"in"===a||"not-in"===a);return cl.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Bv);function qv(e,t,n){var r=t,i=Fv("where",e);return Wv._create(i,r,n)}var Gv=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:fl.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Zv(r,a),r=zl(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new ev(e.firestore,e.converter,zl(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Vv);var Kv=function(e){y(n,e);var t=w(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ul(t,n);return function(e,t){if(null===Ll(e)){var n=Ol(e);null!==n&&em(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ev(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Al(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Bv);function Qv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Fv("orderBy",e);return Kv._create(n,t)}var Yv=function(e){y(n,e);var t=w(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return v(n,[{key:"_apply",value:function(e){return new ev(e.firestore,e.converter,Vl(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Bv);function $v(e){return Yp("limit",e),Yv._create("limit",e,"F")}function Xv(e,t,n){if("string"==typeof(n=nn(n))){if(""===n)throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ml(t)&&-1!==n.indexOf("/"))throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Xu.fromString(n));if(!es.isDocumentKey(r))throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ks(e,new es(r))}if(n instanceof Zp)return Ks(e,n._key);throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kp(n),"."))}function Jv(e,t){if(!Array.isArray(e)||0===e.length)throw new ju(Ru.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Zv(e,t){if(t.isInequality()){var n=Ol(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Ll(e);null!==i&&em(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ju(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ju(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function em(e,t,n){if(!n.isEqual(t))throw new ju(Ru.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tm=function(){function e(){f(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Du()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new hv(Ps(e.latitude),Ps(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ls(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Os(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=As(e);return new Qu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Xu.fromString(e);Au(Of(n));var r=new Us(n.get(1),n.get(3)),i=new es(n.popFirst(5));return r.isEqual(t)||Tu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rm=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),im=function(e){y(n,e);var t=w(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return vr(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Mv),am=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vr(g(n.prototype),"data",this).call(this,e)}}]),n}(im),om=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new rm(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new am(n._firestore,n._userDataWriter,r.key,r,new rm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ju(Ru.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new am(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new am(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:um(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function um(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Du()}}function sm(e){e=Qp(e,Zp);var t=Qp(e.firestore,ov);return Vp(uv(t),e._key).then((function(n){return pm(t,e,n)}))}var lm=function(e){y(n,e);var t=w(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new lv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zp(this.firestore,null,t)}}]),n}(tm);function cm(e){e=Qp(e,ev);var t=Qp(e.firestore,ov),n=uv(t),r=new lm(t);return zv(e._query),Bp(n,e._query).then((function(n){return new om(t,r,e,n)}))}function fm(e,t,n){e=Qp(e,Zp);var r=Qp(e.firestore,ov),i=nm(e.converter,t,n);return dm(r,[bv(kv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cc.none())])}function hm(e,t,n){e=Qp(e,Zp);for(var r=Qp(e.firestore,ov),i=kv(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dm(r,[("string"==typeof(t=nn(t))||t instanceof cv?Cv(i,"updateDoc",e._key,t,n,o):Ev(i,"updateDoc",e._key,t)).toMutation(e._key,Cc.exists(!0))])}function dm(e,t){return function(e,t){var n=new Lu;return e.asyncQueue.enqueueAndForget(We(Be().mark((function r(){return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ep,r.next=3,Up(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(uv(e),t)}function pm(e,t,n){var r=n.docs.get(t._key),i=new lm(e);return new im(e,i,t._key,r,new rm(n.hasPendingWrites,n.fromCache),t.converter)}function vm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _v("arrayUnion",t)}function mm(e){return new Sv("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_u=e}(Yn),Wn(new rn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ov(new Fu(e.getProvider("auth-internal")),new Hu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ju(Ru.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Jn(wu,"3.10.1",e),Jn(wu,"3.10.1","esm2017")}();var ym,gm="firebasestorage.googleapis.com",km="storageBucket",bm=function(e){y(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=t.call(this,wm(e),"Firebase Storage: ".concat(r," (").concat(wm(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return v(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return wm(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Xt);function wm(e){return"storage/"+e}function xm(){return new bm(ym.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _m(){return new bm(ym.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sm(){return new bm(ym.CANCELED,"User canceled the upload/download.")}function Em(){return new bm(ym.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cm(e){return new bm(ym.INVALID_ARGUMENT,e)}function Tm(){return new bm(ym.APP_DELETED,"The Firebase app was deleted.")}function Im(e,t){return new bm(ym.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Nm(e){throw new bm(ym.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ym||(ym={}));var Dm,Am=function(){function e(t,n){f(this,e),this.bucket=t,this.path_=n}return v(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new bm(ym.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===gm?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<s.length;l++){var c=s[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new bm(ym.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Pm=function(){function e(t){f(this,e),this.promise_=Promise.reject(t)}return v(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Rm(e){return"string"===typeof e||e instanceof String}function jm(e){return Lm()&&e instanceof Blob}function Lm(){return"undefined"!==typeof Blob&&!Yt()}function Om(e,t,n,r){if(r<t)throw Cm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Cm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Mm(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Um(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Fm(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Dm||(Dm={}));var zm=function(){function e(t,n,r,i,a,o,u,s,l,c,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];f(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return v(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=xm();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Tm():Sm());else i(_m())}};this.canceled_?t(0,new Vm(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(s()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Vm(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Dm.NO_ERROR,a=r.getStatus();if(!n||Fm(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Dm.ABORT;t(!1,new Vm(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new Vm(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Vm=v((function e(t,n,r){f(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Bm(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Hm(){for(var e=Bm(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Lm())return new Blob(n);throw new bm(ym.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Wm(e){if("undefined"===typeof atob)throw t="base-64",new bm(ym.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var qm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gm=v((function e(t,n){f(this,e),this.data=t,this.contentType=n||null}));function Km(e,t){switch(e){case qm.RAW:return new Gm(Qm(t));case qm.BASE64:case qm.BASE64URL:return new Gm(Ym(e,t));case qm.DATA_URL:return new Gm(function(e){var t=new $m(e);return t.base64?Ym(qm.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Im(qm.DATA_URL,"Malformed data URL.")}return Qm(t)}(t.rest)}(t),new $m(t).contentType)}throw xm()}function Qm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ym(e,t){switch(e){case qm.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Im(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case qm.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Im(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Wm(t)}catch(l){if(l.message.includes("polyfill"))throw l;throw Im(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var $m=v((function e(t){f(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Im(qm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Xm=function(){function e(t,n){f(this,e);var r=0,i="";jm(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return v(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(jm(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Lm()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Hm.apply(null,i))}var a=n.map((function(e){return Rm(e)?Km(qm.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Jm(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Zm(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ey(e,t){return t}var ty=v((function e(t,n,r,i){f(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ey})),ny=null;function ry(){if(ny)return ny;var e=[];e.push(new ty("bucket")),e.push(new ty("generation")),e.push(new ty("metageneration")),e.push(new ty("name","fullPath",!0));var t=new ty("name");t.xform=function(e,t){return function(e){return!Rm(e)||e.length<2?e:Zm(e)}(t)},e.push(t);var n=new ty("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ty("timeCreated")),e.push(new ty("updated")),e.push(new ty("md5Hash",null,!0)),e.push(new ty("cacheControl",null,!0)),e.push(new ty("contentDisposition",null,!0)),e.push(new ty("contentEncoding",null,!0)),e.push(new ty("contentLanguage",null,!0)),e.push(new ty("contentType",null,!0)),e.push(new ty("metadata","customMetadata",!0)),ny=e}function iy(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Am(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ay(e,t,n){var r=Jm(t);return null===r?null:iy(e,r,n)}function oy(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var uy=v((function e(t,n,r,i){f(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function sy(e){if(!e)throw xm()}function ly(e,t){return function(n,r){var i=ay(e,r,t);return sy(null!==i),i}}function cy(e,t){return function(n,r){var i=ay(e,r,t);return sy(null!==i),function(e,t,n,r){var i=Jm(t);if(null===i)return null;if(!Rm(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Mm("/b/"+o(i)+"/o/"+o(a),n,r)+Um({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function fy(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new bm(ym.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new bm(ym.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new bm(ym.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new bm(ym.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function hy(e){var t=fy(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new bm(ym.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function dy(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function py(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=dy(t,r,i),l="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+oy(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",c="\r\n--"+u+"--",f=Xm.getBlob(l,r,c);if(null===f)throw Em();var h={name:s.fullPath},d=Mm(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new uy(d,"POST",ly(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=fy(t),v}var vy=null,my=function(){function e(){var t=this;f(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Dm.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Dm.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return v(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Nm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Nm("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Nm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Nm("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Nm("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),yy=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(my);function gy(){return vy?vy():new yy}var ky=function(){function e(t,n){f(this,e),this._service=t,this._location=n instanceof Am?n:Am.makeFromUrl(n,t.host)}return v(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Am(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Zm(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Am(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new bm(ym.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function by(e,t,n){e._throwIfRoot("uploadBytes");var r=py(e.storage,e._location,ry(),new Xm(t,!0),n);return e.storage.makeRequestWithTokens(r,gy).then((function(t){return{metadata:t,ref:e}}))}function wy(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Mm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new uy(r,"GET",cy(e,n),i);return a.errorHandler=hy(t),a}(e.storage,e._location,ry());return e.storage.makeRequestWithTokens(t,gy).then((function(e){if(null===e)throw new bm(ym.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xy(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Am(e._location.bucket,n);return new ky(e.storage,r)}function _y(e,t){if(e instanceof Cy){var n=e;if(null==n._bucket)throw new bm(ym.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+km+"' property when initializing the app?");var r=new ky(n,n._bucket);return null!=t?_y(r,t):r}return void 0!==t?xy(e,t):e}function Sy(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Cy)return new ky(e,t);throw Cm("To use ref(service, url), the first argument must be a Storage instance.")}return _y(e,t)}function Ey(e,t){var n=null===t||void 0===t?void 0:t[km];return null==n?null:Am.makeFromBucketSpec(n,e)}var Cy=function(){function e(t,n,r,i,a){f(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=gm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Am.makeFromBucketSpec(i,this._host):Ey(this._host,this.app.options)}return v(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Am.makeFromBucketSpec(this._url,e):this._bucket=Ey(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Om("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Om("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=We(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=We(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ky(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Pm(Tm());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=Um(e.urlParams),s=e.url+u,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new zm(s,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ty="@firebase/storage",Iy="0.11.2",Ny="storage";function Dy(e,t,n){return by(e=nn(e),t,n)}function Ay(e){return wy(e=nn(e))}function Py(e,t){return Sy(e=nn(e),t)}function Ry(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Qt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function jy(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Cy(r,i,a,n,Yn)}Wn(new rn(Ny,jy,"PUBLIC").setMultipleInstances(!0)),Jn(Ty,Iy,""),Jn(Ty,Iy,"esm2017");var Ly=$n({apiKey:"AIzaSyAegBj5gvK08FHBAoB1B8FgSm_bgAGla5o",authDomain:"screenka-app.firebaseapp.com",projectId:"screenka-app",storageBucket:"screenka-app.appspot.com",messagingSenderId:"269459460789",appId:"1:269459460789:web:dd0c0760a3d01dcfd864fc",measurementId:"G-2VX4EY9R84"}),Oy=function(e,t){var n="string"==typeof e?e:t||"(default)",r=qn("object"==typeof e?e:Xn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=qt("firestore");i&&Jp.apply(void 0,[r].concat(c(i)))}return r}(Ly),My=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0,n=qn(e=nn(e),Ny).getImmediate({identifier:t}),r=qt("storage");return r&&Ry.apply(void 0,[n].concat(c(r))),n}(Ly);function Uy(e,t){return Fy.apply(this,arguments)}function Fy(){return(Fy=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getDoc "+t+"/"+n),null!=t&&null!=n){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,sm(rv(Oy,t,n));case 6:if(!(r=e.sent).exists()){e.next=14;break}if(null!=(i=r.data())){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",Ke({id:r.id},i));case 14:return e.abrupt("return",null);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(3),console.error("Error getting object document:",e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}var zy=function(e){y(n,e);var t=w(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(_(Error));function Vy(e,t,n){return By.apply(this,arguments)}function By(){return By=We(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getDocWhere from "+t+" => "+r),null!=t&&null!=n){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,i=Hv(nv(Oy,t),qv(n,"==",r)),e.next=7,cm(i);case 7:if(a=e.sent,o=[],a.forEach((function(e){var t=e.data();o.push(Ke({id:e.id},t))})),o.length>2&&new zy,0!==o.length){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",o[0]);case 16:return e.prev=16,e.t0=e.catch(3),console.error("Error getting document:",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),By.apply(this,arguments)}function Hy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=We(Be().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:for(e.prev=2,n=s.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=s[i];return a=Hv.apply(void 0,[nv(Oy,t)].concat(r)),e.next=7,cm(a);case 7:return o=e.sent,u=[],o.forEach((function(e){var t=e.data();u.push(Ke({id:e.id},t))})),console.log("getDocs from "+t+". Count: "+u.length),e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(2),console.error("Error getting document:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),Wy.apply(this,arguments)}var qy=function(e,t){return console.log(e+"/"+t+" from Storage"),Ay(Py(My,e+"/"+t))},Gy={getHost:function(){var e=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Uy("hosts",t);case 4:return n=e.sent,e.abrupt("return",Ct.fromDoc(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentWeekNumber:function(e){return null==e?0:vt(e,tt())}},Ky={getHost:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,it(500);case 4:return e.abrupt("return",Mt.find((function(e){return e.id===t})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentWeekNumber:function(e){return null==e?0:vt(e,Nt)}},Qy={getUser:function(){var e=We(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:if(!sessionStorage.getItem("users/"+t)){e.next=5;break}return n=JSON.parse(sessionStorage.getItem("users/"+t)),e.abrupt("return",Tt.fromDoc(n));case 5:return e.next=7,Uy("users",t);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",null);case 10:return sessionStorage.setItem("users/"+t,JSON.stringify(r)),i=Tt.fromDoc(r),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserByFunnyname:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",Vy("users","funnyname",t).then(Tt.fromDoc));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changeUserPreferences:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return console.log("user "+t+" change preferences"),e.abrupt("return",hm(rv(Oy,"users",t),"preferences",n).then((function(){if(sessionStorage.getItem("users/"+t)){var e=JSON.parse(sessionStorage.getItem("users/"+t)),r=Tt.fromDoc(e);r.preferences=xt(n,r.preferences),sessionStorage.setItem("users/"+t,JSON.stringify(r))}})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),trySetUsername:function(){var e=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==n||n.length<=3||n.length>20)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Qy.getUser(t);case 4:if(null!=(r=e.sent)){e.next=7;break}throw new Error("Wrong your fullname");case 7:if(r.hosts&&0!==r.hosts.length){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,Hy("users",qv("hosts","array-contains-any",r.hosts),qv("username","==",r.username));case 11:if((i=e.sent)&&0===i.length){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",hm(rv(Oy,"users",t),{username:n}).then((function(){if(sessionStorage.getItem("users/"+t)){var e=JSON.parse(sessionStorage.getItem("users/"+t)),r=Tt.fromDoc(e);r.username=n,sessionStorage.setItem("users/"+t,JSON.stringify(r))}})).then((function(){return!0})));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),trySetPersonalizedApps:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!=n){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",hm(rv(Oy,"users",t),{personalized_apps:n}).then((function(){if(sessionStorage.getItem("users/"+t)){var e=JSON.parse(sessionStorage.getItem("users/"+t)),r=Tt.fromDoc(e);r.personalized_apps=n,sessionStorage.setItem("users/"+t,JSON.stringify(r))}})).then((function(){return!0})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserSrcUrl:function(){var e=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:if(!(n=sessionStorage.getItem(t+"_src"))){e.next=5;break}return e.abrupt("return",new Promise((function(e){return e(n)})));case 5:return e.abrupt("return",(r=t,console.log("_user_src/"+r+".jpg"),Ay(Py(My,"_user_src/"+r+".jpg"))).then((function(e){return sessionStorage.setItem(t+"_src",e),e})).catch((function(e){if("storage/object-not-found"===e.code)return nt("default_profile_picture.png");throw e})));case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},Yy={getUser:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:if(null!=t){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",Rt.find((function(e){return e.fullname.toLowerCase()===t.toLowerCase()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserByFunnyname:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:if(t){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",Rt.find((function(e){return e.funnyname.toLowerCase()===At.toLowerCase()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changeUserPreferences:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user "+t+" change preferences"),e.next=3,it(500);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),trySetUsername:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==n||n.length<=3||n.length>20)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Yy.getUser(t);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Wrong your fullname");case 7:return e.next=9,it(500);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),trySetPersonalizedApps:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserSrcUrl:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt("default_profile_picture.png"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$y={onWeekSnapshot:function(e,t,n){return e&&t?function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=nn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||av(n[s])||(u=n[s],s++);var l,c,f,h={includeMetadataChanges:u.includeMetadataChanges};if(av(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Zp)c=Qp(e.firestore,ov),f=Rl(e._key.path),l={next:function(t){n[s]&&n[s](pm(c,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Qp(e,ev);c=Qp(p.firestore,ov),f=p._query;var v=new lm(c);l={next:function(e){n[s]&&n[s](new om(c,v,p,e))},error:n[s+1],complete:n[s+2]},zv(e._query)}return function(e,t,n,r){var i=new Tp(r),a=new Vd(t,i,n);return e.asyncQueue.enqueueAndForget(We(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jd,t.next=3,Fp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.yc(),e.asyncQueue.enqueueAndForget(We(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Od,t.next=3,Fp(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(uv(c),f,h,l)}(rv(Oy,"hosts",e,"weeks",t),(function(e){console.log("Week updated");var t=e.data();t.id=e.id,n(It.fromDoc(t))})):function(){}},getWeek:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],null!=t&&(null!=n||r)){e.next=3;break}return e.abrupt("return",null);case 3:if(!r){e.next=12;break}return i=ct(),a=tt(),e.next=8,Hy("hosts/".concat(t,"/weeks"),qv("start_date",">=",i),qv("start_date","<=",a),Qv("start_date","desc"),$v(1));case 8:if(0!==(o=e.sent).length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",It.fromDoc(o.at(0)));case 12:return e.next=14,Uy("hosts/".concat(t,"/weeks"),n);case 14:return u=e.sent,e.abrupt("return",It.fromDoc(u));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getHostLastWeekName:function(){var e=We(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return(r=tt()).setDate(r.getDate()-7),i=ct(r),e.next=7,Hy("hosts/".concat(t,"/weeks"),qv("start_date",">=",i),qv("start_date","<=",r),Qv("start_date","desc"),$v(1));case 7:if(a=e.sent,!((null===(n=a)||void 0===n?void 0:n.length)<1)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",a.at(0).id);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),trySetHostWeekScreenkaView:function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i["screenka_views.".concat(r)]={view_date:Qu.fromDate(tt())},e.next=3,hm(rv(Oy,"hosts/".concat(t,"/weeks/").concat(n)),i);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},Xy={onWeekSnapshot:function(e,t,n){var r=!0;function i(){return(i=We(Be().mark((function i(){var a;return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=19;break}return i.next=3,Xy.getWeek(e,t);case 3:return a=i.sent,a=Object.assign({},a),n(a),i.next=8,Xy.getWeek(e,t);case 8:return a=i.sent,a=Object.assign({},a),i.next=12,it(3e3);case 12:a.today_apps_counts=bt({Spotify:2,Maps:1,Safari:1,Photos:1}),a.latest={user:"Tola Bajka",date:Nt,app:"Spotify"},a.today_participants=[Dt,"Mia Muller","Tola Bajka"],n(a),r=!1,i.next=0;break;case 19:case"end":return i.stop()}}),i)})))).apply(this,arguments)}return function(){i.apply(this,arguments)}(),function(){r=!1}},getWeek:function(){var e=We(Be().mark((function e(t,n){var r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]&&r[2],e.next=3,it(500);case 3:return e.abrupt("return",Lt[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getHostLastWeekName:function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:return e.abrupt("return",Lt[0].name);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),trySetHostWeekScreenkaView:function(){var e=We(Be().mark((function e(t,n,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},Jy={getPost:function(){var e=We(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uy("users/".concat(t,"/posts"),n);case 2:if(r=e.sent,(i=Et.fromDoc(r)).permissions.me){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPostAndTrySetView:function(){var e=We(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Uy("users/".concat(t,"/posts"),n);case 4:if(i=e.sent,(a=Et.fromDoc(i)).permissions.me){e.next=8;break}return e.abrupt("return",null);case 8:if(null==a||t===r||null!==a.view){e.next=12;break}return e.next=11,hm(rv(Oy,"users/".concat(t,"/posts"),n),{view:r});case 11:a.view=r;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getUserCurrentDayRandomPost:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s,l,c,f=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:null,i=f.length>3&&void 0!==f[3]?f[3]:[],null!=t&&null!=n){e.next=4;break}return e.abrupt("return",null);case 4:return(a=tt()).setHours(0,0,0,0),o=a,u=tt(),s=[qv("upload_date",">=",o),qv("upload_date","<=",u),qv("host_id","==",n),qv("permissions.me","==",!0)],null!==r&&s.push(qv("permissions.friends","==",r)),i&&i.length>0&&s.push(qv("app","in",i)),e.next=13,Hy.apply(void 0,["users/".concat(t,"/posts")].concat(s,[$v(10)]));case 13:return l=e.sent,c=kt(l),e.abrupt("return",Et.fromDoc(c));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserLatestPost:function(){var e=We(Be().mark((function e(t,n,r){var i,a,o,u=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.length>3&&void 0!==u[3]?u[3]:[],null!=t&&null!=n){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,Hy("users/".concat(t,"/posts"),qv("host_id","==",n),Qv("upload_date","desc"),$v(1));case 5:if(a=e.sent,(o=Et.fromDoc(null===a||void 0===a?void 0:a.at(0))).permissions.me){e.next=9;break}return e.abrupt("return",null);case 9:if(!r||o.permissions.friends){e.next=11;break}return e.abrupt("return",null);case 11:if(i.includes(o.app)){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getPostTicketsUsed:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jy.getUserCurrentDayPosts(t,n,!0).then((function(e){return e.length})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserCurrentDayPosts:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:null,t){e.next=3;break}return e.abrupt("return",[]);case 3:return i=new Date(tt().setHours(0,0,0,0)),a=tt(),o=[qv("upload_date",">=",i),qv("upload_date","<=",a),qv("permissions.me","==",!0)],n&&o.push(qv("host_id","==",n)),null!==r&&o.push(qv("permissions.screenka","==",r)),o.push(Qv("upload_date"),$v(20)),e.next=11,Hy.apply(void 0,["users/".concat(t,"/posts")].concat(o));case 11:return u=e.sent,e.abrupt("return",u?u.map((function(e){return Et.fromDoc(e)})):[]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserCurrentWeekPosts:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return i=ct(),a=tt(),r=[qv("upload_date",">=",i),qv("upload_date","<=",a),qv("permissions.me","==",!0)],null!==n&&r.push(qv("host_id","==",n)),r.push(Qv("upload_date"),$v(30)),e.next=8,Hy.apply(void 0,["users/".concat(t,"/posts")].concat(c(r)));case 8:return o=e.sent,e.abrupt("return",o?o.map((function(e){return Et.fromDoc(e)})):[]);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserPastWeekPosts:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:null,i=!(l.length>3&&void 0!==l[3])||l[3],a=l.length>4&&void 0!==l[4]?l[4]:[],o=l.length>5&&void 0!==l[5]&&l[5],null!=t&&null!=n){e.next=6;break}return e.abrupt("return",null);case 6:return n&&(u=[qv("week_name","==",n)]),null!==r&&u.push(qv("host_id","==",r)),u.push(qv("permissions.me","==",!0)),i&&u.push(qv("permissions.friends","==",!0)),o&&u.push(qv("view","==",null)),a&&a.length>0&&u.push(qv("app","in",a)),u.push(Qv("upload_date"),$v(30)),e.next=15,Hy.apply(void 0,["users/".concat(t,"/posts")].concat(c(u)));case 15:return s=e.sent,e.abrupt("return",s?s.map((function(e){return Et.fromDoc(e)})):[]);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserYesterdayRandomPost:function(){var e=We(Be().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,t){e.next=3;break}return e.abrupt("return",null);case 3:return(r=tt()).setDate(r.getDate()-1),r.setHours(0,0,0,0),(i=new Date(r.getTime())).setHours(23,59,59),a=[qv("upload_date",">=",r),qv("upload_date","<=",i),qv("permissions.me","==",!0)],n&&a.push(qv("host_id","==",n)),e.next=12,Hy.apply(void 0,["users/".concat(t,"/posts")].concat(a,[$v(10)]));case 12:return o=e.sent,u=kt(o),e.abrupt("return",Et.fromDoc(u));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPathPostContentUrl:function(){var e=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=2;break}return e.abrupt("return",null);case 2:if(!(r=sessionStorage.getItem(n))){e.next=5;break}return e.abrupt("return",new Promise((function(e){return e(r)})));case 5:return e.abrupt("return",qy(t,n).then((function(e){return sessionStorage.setItem(n,e),e})).catch((function(e){if("storage/object-not-found"===e.code)return nt("no_picture.png");throw e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),changePostPermissions:function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return console.log("post "+n+" change permissions"),i={},null!=r.me&&(i["permissions.me"]=r.me),null!=r.friends&&(i["permissions.friends"]=r.friends),null!=r.screenka&&(i["permissions.screenka"]=r.screenka),e.abrupt("return",hm(rv(Oy,"users",t,"posts",n),i));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),postPost:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:null,i=function(){var e=We(Be().mark((function e(){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!(r.size>4e6)){e.next=4;break}throw new Error("Please upload a file smaller than 4MB");case 4:return i=gt(n.upload_date)+(n.context?"_"+n.context.replace(/[^a-z0-9]/gi,"_").toLowerCase().substring(0,25):""),n.content=i,a=Py(My,t+"/"+i),e.abrupt("return",Dy(a,r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=We(Be().mark((function e(){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(n.upload_date),u=r,e.abrupt("return",fm(rv(Oy,"users",t,"posts",r),n.toDoc()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=We(Be().mark((function e(){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.host_id,i=n.week_name,null!=r&&i){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return a={},(n.permissions.friends||n.permission.screenka)&&(a.latest=n.permissions.friends?{user:t,app:n.app,date:tt()}:{app:n.app,date:tt()}),a["day_participants.".concat(ut(tt()))]=vm(t),(n.permissions.friends||n.permission.screenka)&&(a["day_apps_counts.".concat(ut(tt()),".").concat(n.app)]=mm(1)),e.abrupt("return",hm(rv(Oy,"hosts",r,"weeks",i),a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),null!==n&&void 0!==n&&n.content){e.next=6;break}throw new Error;case 6:if(n.permissions.me){e.next=8;break}throw new Error;case 8:return u=null,e.abrupt("return",i().then(a).then(o).then((function(){return u})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zy={getPost:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:return e.abrupt("return",Pt.get(t).find((function(e){return e.id===n})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPostAndTrySetView:function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(1e3);case 2:if(null==(i=Pt.get(t).find((function(e){return e.id===n})))||t===r||null!==i.view){e.next=7;break}return e.next=6,hm(rv(Oy,"users/".concat(t,"/posts"),n),{view:r});case 6:i.view=r;case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getUserCurrentDayRandomPost:function(){var e=We(Be().mark((function e(t,n){var r,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>2&&void 0!==i[2]?i[2]:null,i.length>3&&void 0!==i[3]?i[3]:[],e.next=4,Zy.getUserCurrentDayPosts(t,null);case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return r.sort((function(){return.5-Math.random()})),e.abrupt("return",null===r||void 0===r?void 0:r.at(0));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserLatestPost:function(){var e=We(Be().mark((function e(t,n){var r,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>2&&void 0!==i[2]?i[2]:[],e.next=3,Zy.getUserCurrentDayPosts(t);case 3:return null===(r=e.sent)||void 0===r||r.sort((function(e,t){return e.upload_date-t.upload_date})),e.abrupt("return",null===r||void 0===r?void 0:r[0]);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPostTicketsUsed:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zy.getUserCurrentDayPosts(t,null);case 2:return e.abrupt("return",e.sent.filter((function(e){return!0===e.permissions.screenka})).length);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserCurrentDayPosts:function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(500);case 2:if(null!=t){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",null===(i=Pt.get(t))||void 0===i?void 0:i.filter((function(e){return ft(e.upload_date,Nt)})).filter((function(e){return!0===e.permissions.me})).sort((function(e,t){return t.upload_date-e.upload_date})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getUserCurrentWeekPosts:function(){var e=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",null===(r=Pt.get(t))||void 0===r?void 0:r.filter((function(e){return ht(e.upload_date,Nt)})).filter((function(e){return!0===e.permissions.me&&e.host_id===n})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserPastWeekPosts:function(){var e=We(Be().mark((function e(t,n){var r,i,a=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:null,a.length>3?a[3]:void 0,a.length>4&&void 0!==a[4]?a[4]:[],a.length>5?a[5]:void 0,e.next=6,it(1e3);case 6:if(null!=t&&null!=i&&null!=n){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",null===(r=Pt.get(t))||void 0===r?void 0:r.filter((function(e){return e.host_id===i&&e.week_name===n})));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserYesterdayRandomPost:function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(500);case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getPathPostContentUrl:function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt("no_picture.png"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),changePostPermissions:function(){var e=We(Be().mark((function e(t,n,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,it(200);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),postPost:function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:null,i=function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!(r.size>4e6)){e.next=4;break}throw new Error("Please upload a file smaller than 4MB");case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=gt(n.upload_date),u=t,e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=null,null!==n&&void 0!==n&&n.content){e.next=7;break}throw new Error;case 7:return e.next=9,it(1e3);case 9:return e.abrupt("return",i().then(a).then(o).then((function(){return u})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function eg(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var tg=0;function ng(e){return"__private_"+tg+++"_"+e}var rg=0,ig=1,ag=2,og=0,ug=1,sg=2,lg={None:0,Informative:1,Interactive:2,Full:3},cg=ng("experience"),fg=v((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lg.None,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),Object.defineProperty(this,cg,{writable:!0,value:void 0}),this.checkPermissions=function(e){var t=e.me,r=e.friends,i=e.screenka;return n.for===rg&&!0===t||n.for===ig&&!0===r||n.for===ag&&!0===i},this.isTime=function(){return!1},this.toString=function(){return n.name.replace("-","").replace(" ","").toLowerCase()},this.getSubtitle=function(){return""},this.getNote=function(){return null},this.isAvailable=function(e,t){return!!t&&(e>=n.fromWeekNumber&&n.checkPermissions(t))},this.isInformative=function(){return[lg.Informative,lg.Full].includes(eg(n,cg)[cg])},this.isInteractive=function(){return[lg.Interactive,lg.Full].includes(eg(n,cg)[cg])},this.name=t,this.description=r,this.for=i,this.fromWeekNumber=a,eg(this,cg)[cg]=o,this.max_views=u,this.views_till=s}));fg.canInteract=function(e,t){if(!e||!e.isInteractive())return!1;if(!e.isTime(t))return!1;if(null==e.max_views||null==e.views_till)return!0;if(e.max_views>1){var n=localStorage.getItem("".concat(e,"_count"));if(!n||Number(n)<e.max_views)return!0}return hg(e)},fg.setInteraction=function(e){if(!e||!e.isInteractive())return!1;if(e.max_views&&localStorage.setItem("".concat(e,"_view"),tt()),e.max_views&&e.max_views>1){var t=hg(e),n=localStorage.getItem("".concat(e,"_count"));return localStorage.setItem("".concat(e,"_count"),n&&!t?Number(n)+1:1),!n||t}return!1};var hg=function(e){var t=localStorage.getItem("".concat(e,"_view"));if(!t)return!0;switch(t=new Date(t),e.views_till){case og:return!ht(t,tt());case ug:return!ft(t,tt());case sg:return!mt(t,15);default:return!1}},dg=function(e){y(n,e);var t=w(n);function n(e,r,i,a,o,u,s){var l;return f(this,n),(l=t.call(this,e,r,i,0,a,u,s)).isTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.isTime?l.isTime(e):null},l.isTime="function"===typeof o?o:null,l}return v(n)}(fg),pg=function(e){y(n,e);var t=w(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24,u=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7?arguments[7]:void 0;return f(this,n),(i=t.call(this,e,u,s,l,c,1,null===r?ug:og)).isTime=function(){return function(e,t,n){return null==e?dt(t,n):!!lt(e)&&!!dt(t,n)}(i.weekDay,i.fromHour,i.toHour)},i.isAfterTime=function(){return function(e,t){return!(null!=e&&!lt(e))&&tt().getHours()>=t}(i.weekDay,i.toHour)},i.getSubtitle=function(){if(null===i.weekDay&&0===i.fromHour&&24===i.toHour)return"*";var e=i.weekDay?ot(i.weekDay).substring(0,3).toUpperCase():"*";return 24===i.toHour?0===i.fromHour?"".concat(e):"".concat(e," ").concat(i.fromHour):"".concat(e," ").concat(i.fromHour," - ").concat(i.toHour)},i.getNote=function(){return null===i.weekDay&&0===i.fromHour&&24===i.toHour?"* - all the time":0===i.fromHour&&24===i.toHour?"* - whole day":null===i.weekDay?"* - everyday":null},i.weekDay=r,i.fromHour=a,i.toHour=o,i}return v(n)}(fg),vg=0,mg=1,yg=2,gg=3,kg="none",bg="string",wg="long_string",xg="url",_g="path",Sg=v((function e(t,n,r,i,a){var o=this;f(this,e),this.getGroup=function(){return o.label/10|0},this.toString=function(){return o.name},this.valueOf=function(){return o.name},this.name=t,this.miniDescription=n,this.description=r,this.format=i,this.label=a}));Sg.Default=new Sg("Default","","",kg,100);var Eg={Word:new Sg("Word","","write down a word, a pharse or an emoji that describes your day.",bg,1),Sentence:new Sg("Sentence","","write a sentence, quote, feeling or a thought that is on your mind.",wg,2),Notes:new Sg("Notes","note","write longer about anything.",wg,3),Photos:new Sg("Photos","photo, video","share a photo from your gallery.",_g,4),Safari:new Sg("Safari","page","read some interesting content? saw some pretty layout? Share a website!",xg,5),Maps:new Sg("Maps","place","recommend new places you recently visited, your favorite spots to hang out.",bg,11),News:new Sg("News","story","tell others what happened in the world recently, something new - around you.",wg,12),Camera:new Sg("Camera","photo, video","share your photographic sessions. Selfies, portraits, panoramas etc.",_g,13),Contacts:new Sg("Contacts","person","suggest a friend you want to add to the community!",xg,18),Ideas:new Sg("Ideas","idea","suggest a new week motive, new app to add, a special event or an additional app features.",wg,19),Diary:new Sg("Diary","note","describe your day. Your thoughts about how it is now.",wg,21),Spotify:new Sg("Spotify","song, podcast","share your favorite song or podcast.",xg,22),Youtube:new Sg("Youtube","video, short","share a video that makes you happy!",xg,23),Netflix:new Sg("Netflix","movie, tv series","share the title of a movie or TV series you watched recently.",xg,24),Instagram:new Sg("Instagram","post, account","paste the URL of your favorite account or post on Instagram.",xg,25),Pinterest:new Sg("Pinterest","post, account","share recipes, ideas for the home, style inspiration, and other ideas to experiment with.",xg,26),LouisVuitton:new Sg("Louis Vuitton","collection","share collections from the fashion world.",_g,27),DonutekGng:new Sg("DonutekGng","pic","share some brudy rodzinne.~",_g,30),Default:new Sg("Default","","",kg,100)},Cg=[Eg.Notes,Eg.Safari,Eg.Photos,Eg.Contacts,Eg.Ideas],Tg={ClearMind:new pg("Clear-Mind",at.Monday,8,24," - oczy\u015b\u0107 sw\xf3j umys\u0142. To nowy tydzie\u0144, nowy motyw i nowe doznania. Upload czas start!",rg,1,lg.Informative),OhPreview:new pg("Oh-Preview",at.Wednesday,20,22," - OH! To podgl\u0105d poprzedniego tygodnia jednego z uczestnik\xf3w.",ig,2,lg.Full),ThrowBack:new pg("Throw-Back",at.Thursday,20,22," - OW! Cofnijmy si\u0119 do twojego poprzedniego tygodnia...",ig,2,lg.Full),DeadLine:new pg("Dead-Line",at.Saturday,20,24," - upload's OFF, Screenka Tygodnia ju\u017c w drodze! W mi\u0119dzyczasie mo\u017cesz powspomina\u0107 sw\xf3j tydzie\u0144.",ag,1,lg.Informative),DeadLineForMe:new pg("Dead-Line",at.Saturday,20,24," - upload's OFF, w tym czasie mo\u017cesz powspomina\u0107 sw\xf3j tydzie\u0144.",rg,1,lg.Informative),WeekUploads:new pg("Week Uploads",at.Saturday,20,24," - powspominaj sw\xf3j tydzie\u0144.",rg,1,lg.Interactive),STHere:new pg("ST-Here",at.Sunday,8,24," - przeczytaj najnowsze wydanie Screenki Tygodnia! Powspominaj tydzie\u0144 sw\xf3j i innych. Oczy\u015b\u0107 sw\xf3j umys\u0142 przed nowym...",ag,2,lg.Informative),STHereForMe:new pg("ST-Here",at.Sunday,0,24," - dzie\u0144 relaksu. Powspominaj ten tydzie\u0144 i oczy\u015b\u0107 sw\xf3j umys\u0142 przed nowym...",rg,0,lg.Informative),WeekUploads2:new pg("Week Uploads 2",at.Sunday,0,24," - powspominaj sw\xf3j tydzie\u0144 drugi raz.",rg,1,lg.Interactive),MorningShot:new pg("Morning-Shot",null,8,12," - wake up! Jeden z twoich wczorajszych post\xf3w, na dzie\u0144 dobry.",rg,2,lg.Full),OneShot:new pg("One-Shot",null,19,20," - wieczorny podgl\u0105d jedenego z dzisiejszych post\xf3w uczestnik\xf3w.",ig,1,lg.Full),DayUploads:new pg("Day Uploads",null,22,24," - powspominaj sw\xf3j dzie\u0144, na koniec dnia.",rg,0,lg.Interactive),Upload:new dg("Upload","- uchwy\u0107 chwil\u0119.",rg,lg.Interactive,(function(){return!Tg.DeadLine.isTime()&&!Tg.STHere.isTime()&&(!lt(at.Monday)||Tg.ClearMind.isTime())})),RnShot:new dg("Rn-Shot","- z ostatniej chwili! Najnowszy post innego uczestnika do 15min po jego dodaniu.",ig,lg.Full,(function(e){return e&&mt(e.date,15)}),1,sg),ManageUploads:new dg("Manage Uploads","- zarz\u0105dzaj swoimi uploadami.",rg,lg.Interactive,(function(){return!0})),Screenka:new dg("Screenka Tygodnia","- w sk\xf3rcie ST, lokalna gazeta cotygodniowych wspomnie\u0144.",ag,lg.Interactive,(function(e){var t;return e&&(Tg.STHere.isTime()||(null===(t=e.week)||void 0===t?void 0:t.force_st))}),1,og)},Ig={getAvailableDayEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.values(Tg).filter((function(e){return e.constructor===pg})),i=Ng(r,e,t,n);return i.filter((function(e,t){return i.findIndex((function(t){return t.name===e.name}))===t}))},getAvailableCustomEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.values(Tg).filter((function(e){return e.constructor===dg}));return Ng(r,e,t,n)}},Ng=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?e:e.filter((function(e){return e.isAvailable(t,n)}))},Dg={getApp:function(e){var t=Object.values(Eg).find((function(t){return t.name===e}));return t||(t=Sg.Default),t},getBuildInApps:function(){return Cg}},Ag=!1,Pg=t.createContext(),Rg=function(e){var n,r,i=e.children,a=e.demo,o=function(e){return e?Yy:Qy}(a),u=o.getUser,l=o.getUserByFunnyname,f=o.getUserSrcUrl,h=o.trySetUsername,d=o.trySetPersonalizedApps,p=o.changeUserPreferences,v=function(e){return e?Ky:Gy}(a),m=v.getHost,y=v.getCurrentWeekNumber,g=function(e){return e?Xy:$y}(a),k=g.getWeek,b=g.trySetHostWeekScreenkaView,w=g.onWeekSnapshot,x=g.getHostLastWeekName,_=function(e){return e?Zy:Jy}(a),S=_.getUserCurrentDayPosts,E=_.getUserCurrentWeekPosts,C=_.getPostTicketsUsed,T=_.changePostPermissions,I=_.postPost,N=_.getUserLatestPost,D=_.getUserCurrentDayRandomPost,A=_.getUserPastWeekPosts,P=_.getPost,R=_.getPostAndTrySetView,j=_.getPathPostContentUrl,L=_.getUserYesterdayRandomPost,O=Ig,M=O.getAvailableDayEvents,U=O.getAvailableCustomEvents,F=Dg,z=F.getApp,V=F.getBuildInApps,B=s((0,t.useState)(Ag),2),H=B[0],W=B[1],q=s((0,t.useState)(Ag),2),G=q[0],K=q[1],Q=s((0,t.useState)(Ag),2),Y=Q[0],$=Q[1],X=H?H.fullname:H,J=G?G.id:G,Z=G?G.subscribers:G,ee=Y?Y.name:Y,te=H===Ag,ne=G===Ag,re=Y===Ag,ie=(0,t.useMemo)((function(){return te||ne||re}),[te,ne,re]),ae=(0,t.useRef)(null),oe=(0,t.useRef)(null),ue=(0,t.useRef)(null),se=function(){return ue.current},le=(0,t.useRef)(null),ce=(0,t.useRef)([]),fe=function(e,t){e&&t&&(ue.current=t.id,le.current=t.popular_apps,ce.current=t.getFriends(e.fullname))},he=(0,t.useRef)(0),de=(0,t.useRef)(0),pe=function(){return de.current},ve=(0,t.useRef)(null),me=(0,t.useRef)(null);(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("fullname"),e.next=3,u(t);case 3:if((n=e.sent)&&(oe.current=n.funnyname),n&&n.preferences.me){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();H===Ag&&e().then(W)}),[]),(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,m(null===t||void 0===t||null===(n=t.hosts)||void 0===n?void 0:n.at(0));case 4:if((r=e.sent)&&r.subscribers.has(t.fullname)){e.next=7;break}return e.abrupt("return",null);case 7:return t.preferences.friends&&(null==(i=r.subscribers.get(t.fullname).leave_date)||i>tt())&&fe(t,r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();H!==Ag&&G===Ag&&e(H).then(K)}),[X]),(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.fullname,n.id);case 2:return i=e.sent,de.current=null!==r&&void 0!==r&&r.max_tickets?r.max_tickets:null!==n&&void 0!==n&&n.max_tickets?n.max_tickets:0,he.current=Math.max(de.current-i,0),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t&&n){e.next=3;break}return e.abrupt("return",null);case 3:if(!(null==(i=n.subscribers.get(t.fullname).join_date)||i>tt())){e.next=6;break}return e.abrupt("return",null);case 6:if(a=k(n.id,null,!0),!t.preferences.screenka){e.next=10;break}return e.next=10,r(t,n,a);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();H!==Ag&&G!==Ag&&Y===Ag&&e(H,G).then($)}),[J]),(0,t.useEffect)((function(){if(G&&Y){var e=w(G.id,Y.name,$);return function(){return e()}}}),[J,ee]);var ye=(0,t.useMemo)((function(){var e;if(!G||!H||null===G||void 0===G||!G.subscribers||null===H||void 0===H||!H.fullname||null===G||void 0===G||null===(e=G.subscribers)||void 0===e||!e.has(H.fullname))return!0;var t=G.subscribers.get(H.fullname);return!(null==t.leave_date||t.leave_date>tt())}),[X,Z]),ge=(0,t.useMemo)((function(){if(!G||!H||!G.subscribers||!H.fullname||!G.subscribers.has(H.fullname))return!0;var e=G.subscribers.get(H.fullname);return!(null!=e.join_date&&e.join_date<tt()&&!(null!=e.leave_date&&e.leave_date<tt()))}),[X,Z]),ke=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t).then((function(e){return null!=e&&(ae.current=e,!0)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(ae.current.fullname,t).then((function(e){return ae.current.username=t,e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(ae.current.fullname,t).then((function(e){return ae.current.personalized_apps=t,e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye&&(t.friends=!0),ge&&(t.screenka=!0),e.abrupt("return",p(H.fullname,t).then((function(){var e=Ke({},H);e.preferences=t,e.preferences.me?W(e):W(null)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=We(Be().mark((function e(t,n){var r,i,a,o,u=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){return ce.current.includes(e)},r(n)||n===H.fullname){e.next=3;break}return e.abrupt("return",null);case 3:for(i=u.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=u[o];return e.abrupt("return",t.apply(void 0,[n].concat(a)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(u,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(f,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(N,t,ue.current,!0,[].concat(c(H.personalized_apps),c(le.current))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(D,t,ue.current,!0,[].concat(c(H.personalized_apps),c(le.current))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(A,t,n,ue.current,!0,[].concat(c(H.personalized_apps),c(le.current)),!0));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=We(Be().mark((function e(t){var n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(r.length>1&&void 0!==r[1]?r[1]:null)&&Ye()?null:ue.current,e.abrupt("return",S(t,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=We(Be().mark((function e(t){var n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(r.length>1&&void 0!==r[1]?r[1]:null)&&Ye()?null:ue.current,e.abrupt("return",E(t,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=(0,t.useMemo)((function(){return y(null===G||void 0===G?void 0:G.start_date)}),[null===G||void 0===G?void 0:G.start_date]),Pe=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",b(t,n,H.fullname));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(ue.current));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return e.filter((function(e){return e.permissions.screenka})).length},e.abrupt("return",S(t,n).then((function(e){ve.current=e,he.current=Math.max(pe()-r(e),0)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null!=ve.current){e.next=4;break}return e.next=4,t(H.fullname,null===G||void 0===G?void 0:G.id);case 4:return e.abrupt("return",ve.current.filter((function(e){return!0===e.permissions.me})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(t,n).then((function(e){me.current=e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null!=me.current){e.next=4;break}return e.next=4,t(H.fullname,G.id);case 4:return e.abrupt("return",me.current.filter((function(e){return!0===e.permissions.me})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=We(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se(),e.abrupt("return",A(H.fullname,t,n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L(H.fullname,G.id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=We(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,je();case 4:return t=e.sent,n={},null===t||void 0===t||t.forEach((function(e){n[e.app]=(n[e.app]||0)+1})),e.abrupt("return",new Map(Object.entries(n)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T(H.fullname,t,n).then((function(){null!=ve.current&&(ve.current=ve.current.map((function(e){return e.id===t&&(e.permissions=xt(n,e.permissions)),e}))),null!=me.current&&(me.current=me.current.map((function(e){return e.id===t&&(e.permissions=xt(n,e.permissions)),e})))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G&&(t.host_id=G.id),Y&&(t.week_name=Y.name),t.upload_date=tt(),t.permissions={me:t.permissions.me&&H.preferences.me,friends:t.permissions.friends&&!ye&&H.preferences.friends,screenka:t.permissions.screenka&&!ge&&H.preferences.screenka&&he.current>0},t.week_tag=t.week_tag&&t.week_name,e.abrupt("return",I(H.fullname,t,n).then((function(e){he.current=Math.max(he.current-1,0),t.id=e,null!=ve.current&&ve.current.push(t),null!=me.current&&me.current.push(t)})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=s((0,t.useState)(),2),qe=He[0],Ge=He[1],Qe=function(){var e=We(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(t,n,!ye&&null!==H&&void 0!==H&&H.preferences.friends?H.fullname:null));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){return!!H&&(null===G||void 0===G?void 0:G.fullname)===H.fullname},$e=(0,t.useMemo)((function(){if(!H)return[];var e={me:H.preferences.me,friends:H.preferences.friends&&!ye,screenka:H.preferences.screenka&&!ge};return M(Ae,e)}),[Ae,null===H||void 0===H?void 0:H.preferences,ye,ge]),Xe=(0,t.useMemo)((function(){return M(Ae,{friends:ye,screenka:ge})}),[Ae,ye,ge]),Je=(0,t.useMemo)((function(){if(!H)return[];var e={me:H.preferences.me,friends:H.preferences.friends&&!ye,screenka:H.preferences.screenka&&!ge};return U(Ae,e)}),[Ae,null===H||void 0===H?void 0:H.preferences,ye,ge]),Ze={user:H,host:null!==H&&void 0!==H&&null!==(n=H.preferences)&&void 0!==n&&n.me?G:null,week:null!==H&&void 0!==H&&null!==(r=H.preferences)&&void 0!==r&&r.me?Y:null,friendsDisabled:ye,screenkaDisabled:ge,AM_I_HOST:Ye,GET_HOST_ID:function(){return Ye()?G.id:null},UserService:{getMyFunnyname:function(){return oe.current},getTempMe:function(){return ae.current},trySetMyUsername:be,trySetMyPersonalizedApps:we,changeMyPreferences:xe,tryLogMeInTemporarly:ke,saveMe:function(){if(!ae.current)throw new Error("Cannot save. User is null");localStorage.setItem("fullname",ae.current.fullname),$(Ag),K(Ag),W(ae.current)},getFriend:Se,getFriendSrcUrl:Ee,getUserUsername:function(e){return u(e).then((function(e){return null===e||void 0===e?void 0:e.username}))},getUserSrcUrl:f},HostService:{weekNumber:Ae,getMyHostId:se,getMyFriends:function(){return ce.current},getMyFriendsWithHostId:function(){return[ce.current,ue.current]},getMyGroups:function(){return null===G||void 0===G?void 0:G.getMyGroups(null===H||void 0===H?void 0:H.fullname)},getHostPersonalizedApps:function(e){return m(e).then((function(e){return e?e.personalized_apps:[]}))}},WeekService:{getMyHostLastWeekName:Re,trySetMyScreenkaView:Pe,getWeekAppsCounts:function(e,t){return k(e,t).then((function(e){return e?e.apps_counts:new Map}))}},PostService:{getMyPastWeekPosts:Oe,getMyDayUploads:je,getMyWeekUploads:Le,getMyYesterdayRandomPost:Me,hideIfAppsState:qe,getTickets:function(){return he.current},getMaxTickets:pe,getMyAppsCounts:Ue,getPostAndTrySetMyView:Qe,setHideIfAppsState:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return!e.personalized_apps.includes(t)}));Ge(t)},postMyPost:Ve,changeMyPostPermissions:Fe,getFriendLatestPost:Ce,getFriendCurrentDayRandomPost:Te,getFriendPastWeekPosts:Ie,getUserCurrentDayPostsHOST:Ne,getUserCurrentWeekPostsHOST:De,getPost:P,getPathPostContentUrl:j},AppService:{getApp:z,getBuildInApps:V},EventService:{myDayEvents:$e,disabledDayEvents:Xe,myCustomEvents:Je,getMyInteractiveEvent:function(e){return[].concat(c($e),c(Je)).find((function(t){return t.toString()===e&&t.isInteractive()}))}}};return(0,ze.jsx)(Pg.Provider,{value:Ze,children:ie?(0,ze.jsx)(St,{logo:!0}):i})},jg=function(e){var n=e.onTempLogin,r=(0,t.useContext)(Pg),i=r.user,a=r.UserService,o=s((0,t.useState)(nt("default_profile_picture.png")),2),u=o[0],l=o[1],c=(0,t.useRef)(),f=s((0,t.useState)(!1),2),h=f[0],d=f[1],p=s((0,t.useState)(!1),2),v=p[0],m=p[1];(0,t.useEffect)((function(){var e=setTimeout((function(){var e=a.getMyFunnyname();e&&(c.current.value=e),i&&a.getUserSrcUrl(i.fullname).then(l)}),500);return function(){return clearTimeout(e)}}),[]);var y=function(){var e=We(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),a.tryLogMeInTemporarly(c.current.value).then((function(e){d(!e),e&&n()})).catch((function(e){e instanceof zy?window.alert("Multiple users with same username. Contact the host."):window.alert(e.message)})).then((function(){return m(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ze.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,ze.jsx)("div",{className:"login flex-center",children:(0,ze.jsxs)("div",{className:"login-user",children:[(0,ze.jsx)("img",{src:u,alt:"profile"}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{children:"Enter Secret Name:"}),(0,ze.jsx)(et,{autofocus:!0,reff:c,onEnter:y,isRed:h,isLoading:v})]})]})}),(0,ze.jsx)("footer",{className:"center",children:"Tip: Click enter while typing"})]})},Lg=function(e){var t=e.value,n=e.orange,r=e.onClick,i=void 0===r?void 0:r,a=function(e){return"string"===typeof e&&1===e.length};return(0,ze.jsxs)("span",{onClick:i,className:"noti-dot noselect"+(n?" bcolor-orange":" bcolor-red")+(i?" clickable":""),children:[a(t)&&(0,ze.jsx)("div",{style:"*"===t?{fontSize:"27px",paddingTop:"7px"}:{fontSize:"27px",marginTop:"-3px"},children:t}),!a(t)&&(0,ze.jsx)("div",{children:t})]})},Og=function(e){var t=e.application,n=void 0===t?Sg.Default:t,r=e.isUploadMode,i=void 0!==r&&r,a=e.notificationText,o=void 0===a?null:a,u=e.disabled,s=void 0!==u&&u,l=e.notificationOrange,c=void 0!==l&&l,f=e.onClick,h=void 0===f?void 0:f,d=e.height,p=void 0===d?70:d;return null!=n&&"object"===typeof n&&n.constructor===Sg||(n=Sg.Default),(0,ze.jsxs)("div",{className:"shadow fromdown"+(s?" opacity":""),style:{position:"relative",height:p+"px",borderRadius:Math.ceil(13*p/60)+"px"},children:[(0,ze.jsx)("button",{onClick:s||i?void 0:h,style:i||!h?{cursor:" initial"}:void 0,children:(0,ze.jsx)("img",{src:rt(n.name,p),alt:n.name,style:{height:p+"px",borderRadius:Math.ceil(13*p/60)+"px"}})}),(null!=o||i)&&(0,ze.jsx)(Lg,{onClick:s?void 0:h,orange:c,value:i?"+":o})]})},Mg=Og,Ug=function e(t){var n=t.defaultChecked,r=t.checked,i=t.disabled,a=t.onChange,o=t.name,u=void 0===o?"":o,s=t.mini,l=t.children,c=t.hide;return i=i||!a,l?(0,ze.jsxs)("span",{style:{display:"flex",marginTop:"-5px",opacity:c?"0":r?"0.8":"0.6"},children:[(0,ze.jsx)(e,{defaultChecked:n,checked:r,disabled:i,onChange:a,name:u,mini:s}),(0,ze.jsx)("span",{className:i?" opacity":"",style:{margin:"0 0 0 5px",fontSize:s?"15px":"20px"},children:l})]}):(0,ze.jsxs)("label",{className:"container"+(s?" mini":""),children:[(0,ze.jsx)("input",{type:"checkbox",name:u,defaultChecked:n,checked:r,disabled:i,onChange:a}),(0,ze.jsx)("span",{className:"checkmark"+(s?" mini":"")})]})},Fg=function(e){var n=e.onSetup,r=(0,t.useContext)(Pg),i=r.UserService,a=r.HostService,o=r.AppService,u=s((0,t.useState)(nt("default_profile_picture.png")),2),l=u[0],c=u[1],f=s((0,t.useState)(null),2),h=f[0],d=f[1],p=s((0,t.useState)(null),2),v=p[0],m=p[1],y=s((0,t.useState)(!0),2),g=y[0],k=y[1],b=s((0,t.useState)(!1),2),w=b[0],x=b[1];(0,t.useEffect)((function(){i.getUserSrcUrl(i.getTempMe().fullname).then(c),_(i.getTempMe()).then((function(e){d(e);var t=S(i.getTempMe(),e);m(t),k(!1)}))}),[]),(0,t.useEffect)((function(){g||(E.current.value=i.getTempMe().username)}),[g]);var _=function(){var e=We(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Set,null!=t.hosts){e.next=3;break}throw new Error("me.hosts error");case 3:r=0;case 4:if(!(r<t.hosts.length)){e.next=12;break}return e.next=7,a.getHostPersonalizedApps(t.hosts[r]);case 7:e.sent.forEach((function(e){n.add(e)}));case 9:r++,e.next=4;break;case 12:return e.abrupt("return",Array.from(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){var n=new Array(t.length).fill(!1);return t.forEach((function(t,r){e.personalized_apps.includes(t)&&(n[r]=!0)})),n},E=(0,t.useRef)(),C=s((0,t.useState)(!1),2),T=C[0],I=C[1],N=s((0,t.useState)(!1),2),D=N[0],A=N[1],P=s((0,t.useState)(!1),2),R=P[0],j=P[1],L=function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),t=[],h.forEach((function(e,n){v[n]&&t.push(e)})),!(t.length>0||window.confirm("You haven't selected any app you're interested in. Continue?"))){e.next=8;break}return e.next=6,i.trySetMyPersonalizedApps(t);case 6:e.sent&&(i.saveMe(),n());case 8:x(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?(0,ze.jsx)(St,{}):(0,ze.jsxs)("div",{className:"setup noscroll",children:[(0,ze.jsxs)("h2",{className:"color-gray-solid",style:{marginLeft:"15px"},children:["Welcome, ",i.getTempMe().getName(),"!",(0,ze.jsx)("span",{role:"img","aria-label":"emoji",children:" \u270b\ud83c\udffc"})]}),(0,ze.jsxs)("div",{className:"setup-user",children:[(0,ze.jsx)("img",{src:l,alt:"profile"}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{children:"Change Your Username:"}),(0,ze.jsx)(et,{reff:E,readOnly:R,onEnter:function(){A(!0),E.current.blur(),i.trySetMyUsername(E.current.value).then((function(e){I(!e),e&&j(!0),A(!1)}))},isRed:T,isInputLoading:D})]})]}),(null===h||void 0===h?void 0:h.length)>0&&(0,ze.jsxs)("div",{className:"setup-apps",children:[(0,ze.jsx)("h4",{children:"Select apps you interested in:"}),(0,ze.jsx)("div",{className:"setup-apps-list",children:h.map((function(e,t){var n=o.getApp(e);return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ug,{disabled:w,defaultChecked:null!==v&&v[t],onChange:function(e){return function(e,t){v[e]!==t&&m(v.map((function(t,n){return n===e?!t:t})))}(t,e.target.checked)}}),(0,ze.jsx)(Og,{application:n},e),(0,ze.jsxs)("div",{className:"setup-app-description",children:[(0,ze.jsx)("div",{children:(0,ze.jsx)("b",{children:n.name})}),(0,ze.jsxs)("p",{children:["- ",n.description," "]})]})]},t)}))})]}),(0,ze.jsx)("div",{className:"flex-center-v",children:(0,ze.jsx)(Ye,{disabled:w,onClick:L})})]})},zg=function(){var e=ge(),n=s((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,ze.jsxs)("div",{children:[!r&&(0,ze.jsx)(jg,{onTempLogin:function(){return i(!0)}}),r&&(0,ze.jsx)(Fg,{onSetup:function(){e("/",{replace:!0})}})]})},Vg=function(e){var t=e.title,n=e.subtitle,r=e.image,i=e.children,a=e.footer,o=e.onClose,u=e.footerCenter,s=e.maxHeight;return(0,ze.jsxs)("div",{className:"bottom-tab bcolor-dark-gray-solid",style:s?{height:"calc(100% + (-100px))",minHeight:"400px"}:{minHeight:"350px"},children:[(0,ze.jsxs)("div",{className:"head",children:[r&&(0,ze.jsx)("img",{src:r,alt:"main",style:{marginBottom:"5px"}}),(0,ze.jsxs)("h3",{style:r?{marginBottom:"5px"}:{},className:"color-white",children:[t,r?(0,ze.jsx)("br",{}):"",(0,ze.jsxs)("span",{style:r?{marginTop:"0"}:{},className:r?"subtitle":"subtitle opacity",children:[" ",n]})]})]}),i&&(0,ze.jsx)("div",{className:"bottom-tab-content",children:i}),a&&(0,ze.jsx)("footer",{className:"light",children:a}),u&&(0,ze.jsx)("footer",{className:"light center",children:u}),(0,ze.jsx)("div",{className:"bottom-tab-close",children:(0,ze.jsx)(Qe,{onClick:o})})]})},Bg=function(e){var n=(0,t.useRef)(e);(0,t.useEffect)((function(){n.current=e}),[e]),(0,t.useEffect)((function(){var e=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[])},Hg=function(e){var t=e.className,n=void 0===t?"":t,r=e.bold,i=e.underline,a=e.red,o=void 0!==a&&a,u=e.orange,s=void 0!==u&&u,l=e.nocolor,c=void 0!==l&&l,f=e.onClick,h=e.disabled,d=void 0!==h&&h,p=e.active,v=void 0===p||p,m=e.children;return c=c||!f,(0,ze.jsx)("span",{className:"A noselect "+n+(c?"":o?" color-red ":s?" color-orange ":" color ")+(i?" underline":" ")+(d||!v?" opacity":"")+(f?"":" noclick"),style:r?{fontWeight:"bold"}:{},onClick:!f||d?void 0:function(){return f()},children:m})},Wg=function(e){var n=e.onClose,r=(0,t.useContext)(Pg),i=r.friendsDisabled,a=r.screenkaDisabled,o=r.UserService,u=r.user,l=r.HostService,c=(0,t.useRef)(u),f=s((0,t.useState)(),2),h=f[0],d=f[1],p=s((0,t.useState)(),2),v=p[0],m=p[1],y=s((0,t.useState)(),2),g=y[0],k=y[1],b=s((0,t.useState)(!1),2),w=b[0],x=b[1],_=s((0,t.useState)(!1),2),S=_[0],E=_[1],C=(0,t.useRef)(l.getMyGroups());(0,t.useEffect)((function(){w||(d(c.current.preferences.me),m(c.current.preferences.friends),k(c.current.preferences.screenka))}),[w]);return(0,t.useEffect)((function(){!h&&v&&m(!1),!h&&g&&k(!1)}),[h,v,g]),(0,ze.jsxs)(Vg,{maxHeight:!0,onClose:S?function(){}:n,title:"Screenka",subtitle:"app",children:[(0,ze.jsxs)("h4",{className:w&&!h?"text-shine":"",style:{fontWeight:"bold",marginTop:"30px",textAlign:"center"},children:[(0,ze.jsx)(Hg,{active:h,onClick:!S&&w?function(){return d(!h)}:void 0,children:"You."}),(0,ze.jsx)(Hg,{active:v,onClick:S||!w||i?void 0:function(){v||d(!0),m(!v)},disabled:i,children:" Friends."}),(0,ze.jsx)(Hg,{active:g,onClick:S||!w||a?void 0:function(){g||d(!0),k(!g)},disabled:a,children:" and Screenka Tygodnia."})]}),(0,ze.jsxs)("div",{className:"margin",style:{marginTop:"auto"},children:[(0,ze.jsxs)("p",{style:h?void 0:{opacity:0},children:[(0,ze.jsx)("b",{children:"You. "})," Capture the happiness. Upload posts and preview them at the end of the day."]}),!i&&(0,ze.jsxs)("p",{style:v&&h?void 0:{opacity:0},children:[(0,ze.jsx)("b",{children:"Friends. "})," Have fun with your friends. Participate in the events during the week. ",C.current?(0,ze.jsxs)("span",{children:["Your groups: ",(0,ze.jsx)("span",{style:{fontStyle:"italic"},children:C.current.join(", ")})]}):""]}),!a&&(0,ze.jsxs)("p",{style:g&&h?void 0:{opacity:0},children:[(0,ze.jsx)("b",{children:"Screenka Tygodnia. "}),"Join the story. Submit posts to the weekly gazette."]})]}),(0,ze.jsxs)("footer",{className:"center",style:{marginTop:0},children:["You can change the tagline by your own.",(0,ze.jsx)("br",{}),!(c.current.preferences.me===h&&c.current.preferences.friends===v&&c.current.preferences.screenka===g)&&(0,ze.jsx)(Hg,{disabled:S,onClick:function(){E(!0),Promise.all([o.changeMyPreferences({me:h,friends:v,screenka:g}),it(1e3)]).then((function(){return n()}))},bold:!0,children:"Change "}),(0,ze.jsx)(Hg,{className:c.current.preferences.me||w?void 0:"text-shine",onClick:function(){return x(!w)},disabled:S,children:w?"Cancel":"Edit"})]})]})},qg=function(e){var t=e.app,n=e.onClose,r=e.totalUploads;return(0,ze.jsx)(Vg,{onClose:n,title:t.name,subtitle:"app",footer:"Total uploads: ".concat(r),children:(0,ze.jsx)("h4",{children:" - "+t.description})})},Gg=function(e){var n=e.app,r=(e.appType,e.onClose),i=(0,t.useContext)(Pg),a=i.PostService,o=i.user,u=(i.week,i.screenkaDisabled),l=o,c=s((0,t.useState)(),2),f=c[0],h=c[1],d=(0,t.useRef)(),p=(0,t.useRef)(),v=s((0,t.useState)(!1),2),m=v[0],y=v[1],g=s((0,t.useState)(a.getTickets()),2),k=g[0],b=g[1],w=(0,t.useRef)(a.getTickets()),x=s((0,t.useState)(!1),2),_=x[0],S=x[1];Bg((function(e){e.preventDefault(),e.returnValue=""}));var E=(0,t.useRef)(null);return(0,ze.jsxs)(Vg,{onClose:m?function(){}:r,title:n.name,subtitle:n.miniDescription,footerCenter:w.current>0||!l.preferences.screenka||u?"You can manage uploads till end of the day.":"You can manage tickets later.",maxHeight:!0,children:[(0,ze.jsx)("h4",{children:" - "+n.description}),(0,ze.jsxs)("div",{style:{marginTop:"auto"},className:"margin",children:[n.format===bg&&(0,ze.jsx)("h2",{style:{textAlign:"center"},children:f}),n.format===bg&&(0,ze.jsx)(et,{isRed:_,isLoading:m,onChange:function(e){E.current&&clearTimeout(E.current),E.current=setTimeout((function(){h(e.target.value)}),1e3)},reff:d,placeholder:"content..."}),n.format===wg&&(0,ze.jsx)(et,{isRed:_,isLoading:m,reff:d,placeholder:"content...",longer:!0}),n.format===xg&&(0,ze.jsx)(et,{isRed:_,isLoading:m,reff:d,placeholder:"content...",paste:!0}),n.format===_g&&(0,ze.jsx)(et,{isRed:_,isLoading:m,onChange:function(e){var t=e.target.files[0];d.current=t,d.current&&(d.current.value=null===t||void 0===t?void 0:t.name)},file:!0}),(0,ze.jsx)(et,{isLoading:m,reff:p,placeholder:"context... (optional)",longer:!0}),(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,ze.jsx)($e,{hashtaged:!1,disabled:m,onClick:function(){var e;_&&S(!1),y(!0);var t=n.format===_g?d.current:null,i=new Et(null,null,null,null,n.name,null===(e=d.current)||void 0===e?void 0:e.value,p.current.value,{me:!0,friends:!0,screenka:!0});Promise.all([a.postMyPost(i,t),it(1500)]).then((function(){return b(Math.max(0,k-1))})).then((function(){return it(1e3)})).then(r).catch((function(e){e.message&&window.alert(e.message),S(!0)})).then((function(){return y(!1)}))},tickets:k,noTicketAnimation:!l.preferences.screenka||u})}),!u&&l.preferences.screenka&&w.current<=0&&(0,ze.jsx)("footer",{className:"light center",style:{marginBottom:"0px"},children:"* - upload without ticket."})]})]})},Kg=function(e){var t=e.event,n=e.onClose;return(0,ze.jsx)(Vg,{onClose:n,title:t.name,subtitle:t.getSubtitle(),footer:t.getNote(),children:(0,ze.jsx)("h4",{style:{fontSize:"19px"},children:t.description})})},Qg=function(e){var n=e.user_fullname,r=e.since_week,i=e.onClose,a=(0,t.useContext)(Pg),o=a.UserService,u=a.AM_I_HOST,l=a.GET_HOST_ID,c=ge(),f=s((0,t.useState)(nt("default_profile_picture.png")),2),h=f[0],d=f[1],p=s((0,t.useState)(null),2),v=p[0],m=p[1];(0,t.useEffect)((function(){o.getFriendSrcUrl(n).then((function(e){return e?d(e):null})),o.getFriend(n).then(m)}),[]);return(0,ze.jsx)(Vg,{title:wt(n),subtitle:"Also known as ".concat(v?v.username:"____ ___"),footer:"Since: #".concat(r," week"),image:h,onClose:i,children:u()&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Hg,{bold:!0,onClick:function(){c("/posts/".concat(n,"/").concat(l(),"/dayuploads"))},children:"DAY"}),",",(0,ze.jsx)(Hg,{bold:!0,onClick:function(){c("/posts/".concat(n,"/").concat(l(),"/weekuploads"))},children:" WEEK"})]})})},Yg=t.createContext(),$g=function(e){var n=e.children,r=s((0,t.useState)(null),2),i=r[0],a=r[1],o=function(){null!==i&&a(null)},u={setBottomTab:function(e){a(e)},closeBottomTab:o,isBottomTab:function(){return null!==i},getObject:function(){return null===i||void 0===i?void 0:i.object},equalObject:function(e){return(null===i||void 0===i?void 0:i.object)===e}};return(0,ze.jsxs)(Yg.Provider,{value:u,children:[(0,ze.jsx)("div",{onClick:function(){return o()},children:n}),i&&0===i.id&&(0,ze.jsx)(qg,{app:i.object,totalUploads:i.total_uploads,onClose:function(){return a(null)}}),i&&1===i.id&&(0,ze.jsx)(Gg,{app:i.object,appType:i.app_type,onClose:function(){return a(null)}}),i&&2===i.id&&(0,ze.jsx)(Qg,{user_fullname:i.object,since_week:i.since_week,role:i.role,onClose:function(){return a(null)}}),i&&3===i.id&&(0,ze.jsx)(Kg,{event:i.object,onClose:function(){return a(null)}}),i&&4===i.id&&(0,ze.jsx)(Wg,{onClose:function(){return a(null)}})]})},Xg=function(e){var t=e.style,n=e.disabled,r=e.onClick,i=e.text;return(0,ze.jsx)("button",{disabled:n,className:"bcolor-blue button-week-uploads shadow",style:t,onClick:r,children:(0,ze.jsx)("h2",{style:{margin:"5px",fontSize:"30px",lineHeight:"28px",color:"white"},children:i.toUpperCase()})})},Jg=function(e){var t=e.style,n=e.onClick,r=e.text;return(0,ze.jsx)("button",{className:"bcolor-orange button-week-uploads shadow",style:t,onClick:n,children:(0,ze.jsx)("h2",{style:{margin:"5px",fontSize:"30px",lineHeight:"28px",color:"white"},children:r.toUpperCase()})})},Zg=function(e){var t=e.style,n=e.onClick,r=e.disabled;return(0,ze.jsxs)("button",{className:"button-screenka focus shadow ",style:t,onClick:n,disabled:r,children:[(0,ze.jsx)("img",{src:nt("screenka-border-top.png"),alt:"decorative drawing"}),(0,ze.jsxs)("h2",{children:["SCREENKA",(0,ze.jsx)("span",{}),(0,ze.jsx)("br",{}),(0,ze.jsx)("span",{}),"TYGODNIA"]}),(0,ze.jsx)("img",{src:nt("screenka-border-bottom.png"),alt:"decorative drawing"})]})},ek=function(e){var t=e.style,n=e.onClick,r=e.isRotate,i=void 0!==r&&r,a=e.disabled;return(0,ze.jsx)("button",{className:"bcolor-dark-gray-solid"+(i?" button-plus-red":"")+" button-plus shadow"+(a?" opacity":""),style:t,onClick:n,children:(0,ze.jsx)("div",{className:i?"rotate":"",children:"+"})})},tk=function(e){var t=e.apps,n=e.notificationCountsMap,r=void 0===n?new Map:n,i=e.disabled,a=e.appHeight,o=void 0===a?70:a,u=e.onAppClick,s=void 0===u?null:u,l=e.appClassName,c=void 0===l?"":l,f=e.specialAppName,h=void 0===f?null:f,d=e.specialClassName,p=void 0===d?"":d,v=e.notSpecialClassName,m=void 0===v?"":v,y=e.orangeAppName,g=void 0===y?null:y,k=e.isUploadMode,b=void 0!==k&&k;if(t&&r)return(0,ze.jsx)("div",{className:"app-conteiner"+(i?" opacity noclick":""),style:{gridTemplateColumns:"repeat(auto-fill, "+o+"px)"},children:t.map((function(e,t){return(0,ze.jsx)("div",{className:c+" "+(n=e.name,null===h?"":h===n?p:m),children:(0,ze.jsx)(Mg,{onClick:s?function(){return s(e)}:void 0,isUploadMode:b,notificationText:r.get(e.name),notificationOrange:g===e.name,application:e,height:o})},t);var n}))})},nk=function(e){var n=e.user_fullname,r=e.count,i=void 0===r?null:r,a=e.onClick,o=e.height,u=void 0===o?32:o,l=e.disabled,c=(0,t.useContext)(Pg).UserService,f=s((0,t.useState)(nt("default_profile_picture.png")),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){null==i&&c.getUserSrcUrl(n).then(d)}),[n]),null!=i?(0,ze.jsx)("div",{className:"fromdown "+(l?"opacity":""),onClick:a&&!l?a:function(){},children:(0,ze.jsx)("span",{className:"bcolor-dark-gray shadow",style:{display:"block",height:u+"px",width:u+"px",borderRadius:Math.floor(u/2)+"px"},children:(0,ze.jsxs)("div",{style:{fontSize:"18px",paddingTop:"6px",textAlign:"center",fontWeight:"bold"},children:["+",i]})})}):(0,ze.jsx)("button",{className:"fromdown "+(l?"opacity":""),onClick:a&&!l?a:function(){},children:(0,ze.jsx)("img",{alt:"user",className:"shadow",style:{height:u+"px",width:u+"px",borderRadius:Math.floor(u/2)+"px"},src:h})})},rk=function(e){var t=e.user_fullnames,n=e.more,r=void 0===n?0:n,i=e.userHeight,a=void 0===i?30:i,o=e.onUserClick,u=void 0===o?function(){}:o,s=e.userClassName,l=void 0===s?"":s,c=e.specialUserFullname,f=void 0===c?null:c,h=e.specialClassName,d=void 0===h?"":h,p=e.notSpecialClassName,v=void 0===p?"":p;return(0,ze.jsxs)("div",{className:"home-user-conteiner",children:[r>0&&(0,ze.jsx)("div",{className:l,children:(0,ze.jsx)(nk,{count:r,height:a})}),t.map((function(e){return(0,ze.jsx)("div",{className:l+" "+(t=e,null===f?"":f===t?d:v),children:(0,ze.jsx)(nk,{user_fullname:e,height:a,onClick:function(){return u(e)}})},e);var t}))]})},ik="rnshot",ak="screenkatygodnia",ok="upload",uk="manageuploads",sk={height:"70px",borderRadius:"15px"},lk=function(e){var n=e.onAboutWeekClick,r=(0,t.useContext)(Pg),i=r.user,a=r.host,o=r.week,u=r.HostService,l=r.PostService,f=r.EventService,h=r.AppService,d=(0,t.useContext)(Yg),p=d.setBottomTab,v=d.isBottomTab,m=d.getObject,y=ge(),g=null!=a,k=(0,t.useMemo)((function(){if(!g)return h.getBuildInApps();var e=[].concat(c(a.popular_apps),c(i.personalized_apps),c(i.super_personalized_apps));return o&&null!=(null===o||void 0===o?void 0:o.extra_apps)&&(e=e.concat(o.extra_apps)),o&&null!=(null===o||void 0===o?void 0:o.blocked_apps)&&(e=e.filter((function(e){return!o.blocked_apps.includes(e)}))),e=e.map((function(e){return h.getApp(e)})),e.sort((function(e,t){return e.label-t.label})),e}),[g]),b=s((0,t.useState)(k),2),w=b[0],x=b[1],_=s((0,t.useState)(0),2),S=_[0],E=_[1],C=s((0,t.useState)([]),2),T=C[0],I=C[1],N=s((0,t.useState)(new Map),2),D=N[0],A=N[1],P=s((0,t.useState)(!1),2),R=P[0],j=P[1],L=(0,t.useMemo)((function(){var e;return null===(e=f.myDayEvents.filter((function(e){return e.isInteractive()&&e.isTime()})))||void 0===e?void 0:e.at(0)}),[f.myDayEvents]),O=(0,t.useMemo)((function(){return!fg.canInteract(L)}),[L]),M=s((0,t.useState)(),2),U=M[0],F=M[1],z=s((0,t.useState)(!1),2),V=z[0],B=z[1],H=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(ik)}),[f.getMyInteractiveEvent]),W=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(ak)}),[f.getMyInteractiveEvent]),q=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(ok)}),[f.getMyInteractiveEvent]),G=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(uk)}),[f.getMyInteractiveEvent]);(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:i=r.filter((function(e){return n.includes(e)})),r.includes(t.fullname)&&i.push(t.fullname),I(i),E(r.length);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();e(i,u.getMyFriends(),null===o||void 0===o?void 0:o.today_participants)}),[null===o||void 0===o?void 0:o.today_participants]);var K=null!=(null===o||void 0===o?void 0:o.latest);(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=2;break}return e.abrupt("return");case 2:if(null!=(r=null===n||void 0===n?void 0:n.user)){e.next=5;break}return e.abrupt("return");case 5:if(r!==t){e.next=7;break}return e.abrupt("return");case 7:if(fg.canInteract(H,{date:null===n||void 0===n?void 0:n.date})){e.next=9;break}return e.abrupt("return");case 9:if(u.getMyFriends().includes(r)){e.next=11;break}return e.abrupt("return");case 11:l.getFriendLatestPost(r).then((function(e){e&&F({user_fullname:r,post_id:e.id})}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();null!==o&&void 0!==o&&o.latest&&H&&e(i.fullname,o.latest)}),[K,null===o||void 0===o?void 0:o.latest,H]);var Q=(0,t.useMemo)((function(){var e,t;return H&&H.isTime({date:null===o||void 0===o||null===(e=o.latest)||void 0===e?void 0:e.date})?null===o||void 0===o||null===(t=o.latest)||void 0===t?void 0:t.app:null}),[K,null===o||void 0===o?void 0:o.latest,H]);(0,t.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=k;if(t&&e){t=c(t).sort((function(t,n){return 100*(e.get(n.name)||0-e.get(t.name)||0)+(t.label-n.label)}));var n=c(t);n=n.filter((function(e){return function(e,t){var n=e.find((function(e){return e.getGroup()===t.getGroup()}));return n===t}(t,e)}));var r=6-(n=n.slice(0,6)).length;t.every((function(e){return 0!==r&&(n.includes(e)||(n.push(e),r--),!0)})),n.sort((function(e,t){return e.label-t.label})),x(n)}}(D)}),[D]),(0,t.useEffect)((function(){o&&A(o.today_apps_counts)}),[null===o||void 0===o?void 0:o.today_apps_counts]);var Y=function(){var e=We(Be().mark((function e(){var t,n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],o||!i||!(!v()&&R||t)){e.next=7;break}return e.next=4,l.getMyAppsCounts();case 4:n=e.sent,A(n),0!==n.size&&(E(1),I([i.fullname]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Y(!0)}),[]),(0,t.useEffect)((function(){Y()}),[v()]);var $=(0,t.useMemo)((function(){return!W||!fg.canInteract(W,{week:o})}),[null===a||void 0===a?void 0:a.id,W]);(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W.isTime({week:t})){e.next=5;break}if($){e.next=4;break}return e.next=4,it(2e3);case 4:B(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o&&W&&e(o)}),[o,W]);var X=(0,t.useMemo)((function(){return R?k:w.slice(0,6)}),[R,w]),J=(0,t.useMemo)((function(){return"home-blur-dark-pre "+(v()?"home-blur-dark":"")}),[v]),Z=(0,t.useMemo)((function(){var e,t;return(null===(e=m())||void 0===e?void 0:e.constructor)===Sg?m().name:(null===(t=m())||void 0===t?void 0:t.constructor)===Tt?m().fullname:m()?"other":null}),[m()]);return(0,ze.jsxs)("div",{className:"home "+(v()?"noclick":""),children:[(0,ze.jsx)("div",{className:J,children:(0,ze.jsxs)("h1",{className:"home-title",children:[(0,ze.jsx)("span",{children:"WEEK"}),(0,ze.jsxs)(Je,{disabled:null==o||null==u.weekNumber,onClick:n,children:["#",u.weekNumber?u.weekNumber:0]})]})}),L&&(0,ze.jsx)("div",{className:J+" home-button-effect",style:v()||R?{height:"0px",marginBottom:"0px",overflow:"hidden"}:{height:"70px"},children:(0,ze.jsx)(Xg,{disabled:O,onClick:function(){var e;(e=L)&&y("/dayevent/".concat(e.toString()))},style:sk,text:L.name.toUpperCase()})}),V&&(!L||O)&&(0,ze.jsx)("div",{className:J+" home-button-effect",style:v()||R?{height:"0px",marginBottom:"0px",overflow:"hidden"}:{height:"70px"},children:(0,ze.jsx)(Zg,{disabled:$,onClick:function(){if(null!=a){var e=localStorage.getItem("screenka_count_"+a.id),t="Are you sure you want to see this content?";e&&0===Number(e)&&(t="You will see this content for the last time. Continue?"),t="You can see this content only once. Continue?",window.confirm(t)&&y("/screenka/"+a.id)}},style:sk})}),U&&(0,ze.jsx)("div",{className:J+" home-button-effect",style:v()||R?{height:"0px",marginBottom:"0px",overflow:"hidden"}:{height:"70px"},children:(0,ze.jsx)(Jg,{onClick:function(){y("/post/".concat(U.user_fullname,"/").concat(U.post_id,"/").concat(H),{state:{showMyRefPosts:!0,showFriendsRefPosts:!1}})},style:sk,text:"RIGHT NOW!"})}),(0,ze.jsx)("div",{className:J,children:(0,ze.jsx)(ek,{disabled:!q||!q.isTime(),style:sk,onClick:function(){return j(!R)},isRotate:R})}),(0,ze.jsx)(tk,{apps:X,notificationCountsMap:D,disabled:!i.preferences.me,appHeight:70,onAppClick:function(e){p(R?{id:1,object:e,app_type:function(e,t){return t?t.personalized_apps.includes(e.name)?vg:t.popular_apps.includes(e.name)?mg:t.group_apps.includes(e.name)?yg:gg:mg}(e,a)}:{id:0,object:e,total_uploads:D.get(e.name)?D.get(e.name):0})},appClassName:"home-blur-dark-pre",specialAppName:Z,notSpecialClassName:"home-blur-dark",orangeAppName:Q,isUploadMode:R}),i.preferences.me&&!R&&(0,ze.jsx)(rk,{user_fullnames:T,more:S-T.length,userHeight:32,onUserClick:function(e){if(null==a)p({id:2,object:e,since_week:0});else{var t,n,r=vt(a.start_date,null===(t=a.subscribers.get(e))||void 0===t?void 0:t.join_date);p({id:2,object:e,since_week:r,role:null===(n=a.subscribers.get(e))||void 0===n?void 0:n.role})}},userClassName:"home-blur-dark-pre",specialUserFullname:Z,notSpecialClassName:"home-blur-dark"}),!R&&v()&&(0,ze.jsx)("div",{style:{height:"290px"}}),!R&&!v()&&(0,ze.jsx)("footer",{className:"center "+(i.preferences.me?"":" text-shine"),children:(0,ze.jsx)(Hg,{nocolor:!0,onClick:function(){return p({id:4})},children:"SCREENKA \u24c7"})}),R&&G&&(0,ze.jsx)("footer",{className:"center",children:(0,ze.jsx)(Hg,{underline:!0,onClick:function(){return y("/uploads/manage")},children:"manage uploads"})})]})},ck=function(e){var t=e.children;return(0,ze.jsx)("div",{className:"scrolldiv-pre",children:(0,ze.jsx)("div",{className:"noscroll scrolldiv",children:t})})},fk=function(e){var n=e.children,r=e.disabled,i=e.onClick,a=void 0===i?void 0:i,o=e.orange,u=void 0!==o&&o,l=e.style,c=s((0,t.useState)(!1),2),f=c[0],h=c[1];return(0,ze.jsx)("span",{className:"noselect circle"+(r?" bcolor-dark-gray-solid":" color-black clickable"+(u?" bcolor-orange":" bcolor-green-solid"))+(f?" opacity":""),onClick:r?void 0:a||function(){return h(!f)},style:l,children:n})},hk=function(e){var n,r,i,a,o=e.onClose,u=(0,t.useContext)(Yg),l=u.setBottomTab,c=u.isBottomTab,f=(0,t.useContext)(Pg),h=f.week,d=f.HostService,p=f.EventService,v=(0,t.useMemo)((function(){return Object.entries(at).map((function(e){var t=s(e,2),n=t[0],r=t[1];return{day_name:n,events:p.myDayEvents.filter((function(e){return e.weekDay===r})).filter((function(e){return e.isInformative()})),disabled_events:p.disabledDayEvents.filter((function(e){return e.weekDay===r})).filter((function(e){return e.isInformative()}))}}))}),[null===(n=p.myDayEvents)||void 0===n?void 0:n.length,null===(r=p.disabledDayEvents)||void 0===r?void 0:r.length]),m=(0,t.useMemo)((function(){return p.myDayEvents.filter((function(e){return null===e.weekDay})).filter((function(e){return e.isInformative()}))}),[null===(i=p.myDayEvents)||void 0===i?void 0:i.length]),y=(0,t.useMemo)((function(){return p.disabledDayEvents.filter((function(e){return null===e.weekDay})).filter((function(e){return e.isInformative()}))}),[null===(a=p.disabledDayEvents)||void 0===a?void 0:a.length]),g=(0,t.useMemo)((function(){return p.myCustomEvents.filter((function(e){return e.isInformative()}))}),[p.myCustomEvents]),k=s((0,t.useState)(!0),2),b=k[0],w=k[1],x=function(e){if(b||!h)return e.charAt(0);var t=ct(h.start_date);return t.setDate(t.getDate()+at[e]),t.getDate()},_=(0,t.useMemo)((function(){if(!h)return"";var e=ct(h.start_date),t=st[e.getMonth()].toUpperCase()+" "+e.getFullYear();return(0,ze.jsxs)("footer",{children:[t,(0,ze.jsx)("br",{}),"TOTAL UPLOADS: ",h.total_uploads]})}),[null===h||void 0===h?void 0:h.total_uploads]);return(0,ze.jsxs)("div",{className:"aweek "+(c()?"noclick aweek-blur-dark":""),children:[(0,ze.jsx)(ck,{children:(0,ze.jsxs)("h1",{children:[(0,ze.jsx)(Ze,{onClick:o,children:"#"+(d.weekNumber?d.weekNumber:0)}),(0,ze.jsx)("span",{className:"color-blue-highlight",children:h?h.name.toUpperCase():"WEEK"}),h&&(0,ze.jsx)("span",{role:"img","aria-label":"emoji",children:h.emoji})]})}),(0,ze.jsx)("div",{className:"description initial-letter",children:h?h.description:""}),(0,ze.jsxs)("div",{className:"aweek-calendar",children:[(0,ze.jsxs)("div",{className:"aweek-rows",children:[v.map((function(e){var t=e.day_name,n=e.events,r=e.disabled_events;return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{children:[n.map((function(e,n){return(0,ze.jsxs)(Hg,{active:!e.isAfterTime(),onClick:lt(at[t])?function(){return l({id:3,object:e})}:void 0,children:[0!==n&&", ",e.name.toUpperCase()]},n)})),r.map((function(e,t){return(0,ze.jsxs)(Hg,{disabled:!0,children:[0!==t&&", ",e.name.toUpperCase()]},t)}))]}),(0,ze.jsx)(fk,{disabled:!lt(at[t]),onClick:h&&lt(at[t])?function(){return w(!b)}:void 0,children:x(t)})]},t)})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("div",{}),(0,ze.jsx)(fk,{style:{opacity:"0"},disabled:!0})]}),(m.length>0||y.length>0)&&(0,ze.jsxs)("div",{style:{maxWidth:"100%"},children:[(0,ze.jsxs)(ck,{children:[m.map((function(e,t){return(0,ze.jsxs)(Hg,{active:!e.isAfterTime(),onClick:function(){return l({id:3,object:e})},children:[0!==t&&", ",e.name.toUpperCase()]},t)})),y.map((function(e,t){return(0,ze.jsxs)(Hg,{disabled:!0,children:[0!==t&&", ",e.name.toUpperCase()]},t)}))]}),(0,ze.jsx)(fk,{})]}),g.length>0&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)(ck,{children:g.map((function(e,t){return(0,ze.jsxs)(Hg,{orange:!0,onClick:function(){return l({id:3,object:e})},children:[0!==t&&", ",e.name.toUpperCase()]},t)}))}),(0,ze.jsx)(fk,{orange:!0})]})]}),(0,ze.jsx)("div",{className:"bcolor-dark-gray-solid"})]}),_]})},dk=function(){var e=ge(),n=(0,t.useContext)(Pg).user,r=s((0,t.useState)(!1),2),i=r[0],a=r[1],o=s((0,t.useState)(!1),2),u=o[0],l=o[1];return(0,t.useEffect)((function(){var e=setTimeout((function(){l(i)}),200);return function(){return clearTimeout(e)}}),[i]),(0,t.useEffect)((function(){null!=n||e("/login",{replace:!0})}),[n]),(0,ze.jsx)("div",{className:"start",children:(0,ze.jsx)($g,{children:(0,ze.jsxs)("div",{className:"start-pages",style:u&&i?{transform:"translateX(-50%)"}:{},children:[(0,ze.jsx)("div",{children:n&&(0,ze.jsx)(lk,{onAboutWeekClick:function(){return a(!0)}})}),(0,ze.jsx)("div",{children:(i||u)&&(0,ze.jsx)(hk,{onClose:function(){return a(!1)}})})]})})})},pk=function(e){var t=e.goback,n=void 0!==t&&t,r=ge();return(0,ze.jsx)("div",{children:(0,ze.jsxs)("div",{className:"centered",style:{textAlign:"center"},children:[(0,ze.jsx)("div",{className:"opacity",children:"Nothing to show."}),(0,ze.jsx)("br",{}),n&&(0,ze.jsx)(Hg,{onClick:function(){return r(-1)},children:"go back"})]})})},vk=function(e){var n=e.post,r=void 0===n?null:n,i=e.id,a=e.user_fullname,o=e.onLoad,u=e.hideNickname,l=void 0!==u&&u,c=e.trySetView,f=(0,t.useContext)(Pg),h=f.PostService,d=f.UserService,p=f.AppService,v=s((0,t.useState)(r),2),m=v[0],y=v[1],g=s((0,t.useState)(null),2),k=g[0],b=g[1],w=s((0,t.useState)(!1),2),x=w[0],_=w[1],S=s((0,t.useState)(!0),2),E=S[0],C=S[1],T=s((0,t.useState)(""),2),I=T[0],N=T[1];(0,t.useEffect)((function(){if(l||d.getUserUsername(a).then(b),!r){var e=setTimeout((function(){(c?h.getPostAndTrySetMyView(a,i):h.getPost(a,i)).then((function(e){e&&(y(e),o&&o(e))}))}),200);return function(){return clearTimeout(e)}}}),[]),(0,t.useEffect)((function(){var e=function(){var e=We(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:n=p.getApp(t.app),r=t.content,e.t0=null===n||void 0===n?void 0:n.format,e.next=e.t0===wg?6:e.t0===bg?7:e.t0===xg?8:e.t0===_g?11:15;break;case 6:return e.abrupt("return",(0,ze.jsx)("h4",{style:{padding:"3px"},children:r}));case 7:case 10:return e.abrupt("return",(0,ze.jsx)("h3",{children:r}));case 8:if(null===r||void 0===r||!r.startsWith("https://")){e.next=10;break}return e.abrupt("return",(0,ze.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:"OPEN LINK"}));case 11:return e.next=13,h.getPathPostContentUrl(a,r);case 13:return i=e.sent,e.abrupt("return",(0,ze.jsx)("img",{alt:"post content",src:i}));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();E||x||I||!m||e(m).then(N)}),[E,x,m]),(0,t.useEffect)((function(){if(null!=m&&!x){var e=setTimeout((function(){var e;null!==(e=h.hideIfAppsState)&&void 0!==e&&e.includes(m.app)&&_(!0)}),500);return function(){return clearTimeout(e)}}}),[null===m||void 0===m?void 0:m.app]);return(0,ze.jsxs)("div",{className:"pre-pre-post",children:[!l&&(0,ze.jsxs)("div",{className:"nickname",children:[(0,ze.jsx)(nk,{user_fullname:a}),(0,ze.jsx)("h4",{className:"color-gray",children:k||"_______"})]}),(0,ze.jsx)("div",{className:"pre-post",children:(0,ze.jsxs)("div",{className:"bcolor-dark-gray post",children:[(0,ze.jsxs)("h3",{className:"date",children:[null!==m&&void 0!==m&&m.week_name?m.week_name.toUpperCase()+" | ":"",function(){if(!m)return"------- --:--";var e=m.upload_date;return"".concat(ut(e).toUpperCase()," ").concat(pt(e))}()]}),(0,ze.jsxs)("div",{className:"head",children:[(0,ze.jsx)(Mg,{application:p.getApp(null===m||void 0===m?void 0:m.app),notificationText:null!==m&&void 0!==m&&m.top_number?"#"+m.top_number:null!==m&&void 0!==m&&m.is_highlighted?"*":null}),x&&(0,ze.jsx)(Hg,{bold:!0,onClick:function(){x&&_(!1)},children:"tap"})]}),(0,ze.jsxs)("div",{className:"pre-body",style:x?{height:"0px"}:{},children:[(0,ze.jsxs)("div",{className:"body",style:E?{opacity:"0"}:{},children:[(0,ze.jsx)("div",{className:"content flex-center",children:null!==I?I:(0,ze.jsx)(pk,{})}),(0,ze.jsxs)("h4",{children:[null===m||void 0===m?void 0:m.context,null!==m&&void 0!==m&&m.week_tag&&m.week_name?" #".concat(m.week_name.replace(" ","")):""]})]}),E&&(0,ze.jsx)(Hg,{bold:!0,className:"centered",onClick:function(){E&&C(!1)},children:"tap"})]})]})})]})},mk=function(e){var n=e.host_id,r=e.week_name,i=(0,t.useContext)(Pg),a=i.WeekService,o=i.AppService,u=s((0,t.useState)(new Map),2),l=u[0],c=u[1];(0,t.useEffect)((function(){r&&n&&a.getWeekAppsCounts(n,r).then((function(e){return c(e)}))}),[r,n]);var f=(0,t.useMemo)((function(){for(var e=Array.from(l).sort((function(e,t){return t[1]-e[1]})).slice(0,4).map((function(e){var t=s(e,1)[0];return o.getApp(t)}));4>e.length;)e.push(Sg.Default);return e}),[l]);return(0,ze.jsx)(tk,{apps:f,notificationCountsMap:l})},yk=function(e){var n=e.onLoad;return(0,t.useEffect)((function(){var e=setTimeout((function(){return n("First Week")}),1e3);return function(){return clearTimeout(e)}}),[]),(0,ze.jsxs)("div",{className:"Screenka",children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,ze.jsxs)("h1",{style:{opacity:"0.2"},children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]}),(0,ze.jsxs)("h1",{children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]}),(0,ze.jsxs)("h1",{style:{opacity:"0.2"},children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]})]}),(0,ze.jsxs)("h5",{style:{textAlign:"center",opacity:"0.6"},children:["#1 GLASSY WEEK",(0,ze.jsx)("br",{}),"APRIL 2023"]}),(0,ze.jsx)("br",{}),"      ",(0,ze.jsx)("br",{}),(0,ze.jsx)("h3",{children:"Witamy! Nastepny tydzien za nami, a co za tym idzie kolejne wydanie Screenki! Kazdy w okularach? Nie sadzilismy ze u wszystkich tak zle ze wzrokiem..."}),(0,ze.jsx)("h2",{children:"Oto nasze wyniki:"}),(0,ze.jsx)("br",{}),(0,ze.jsx)("br",{}),(0,ze.jsx)("br",{}),(0,ze.jsx)("h2",{children:"Poniedzia\u0142ek"}),(0,ze.jsx)("h4",{children:"A wszystko zacz\u0119lo sie od..."}),(0,ze.jsx)("footer",{style:{marginTop:"50px"},children:"Screenka Tygodnia \u2122"})]})},gk=function(){return(0,ze.jsxs)("div",{className:"Screenka",children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,ze.jsxs)("h1",{style:{opacity:"0.2",marginRight:"3px"},children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]}),(0,ze.jsxs)("h1",{children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]}),(0,ze.jsxs)("h1",{style:{opacity:"0.2",marginLeft:"3px"},children:["Screenka",(0,ze.jsx)("br",{}),"Tygodnia"]})]}),(0,ze.jsxs)("h5",{style:{textAlign:"center",opacity:"0.6"},children:["#1 GLASSY WEEK",(0,ze.jsx)("br",{}),"APRIL 2023"]}),(0,ze.jsx)("br",{}),"      ",(0,ze.jsx)("br",{}),(0,ze.jsx)("h3",{children:"Witamy! Nastepny tydzien za nami, a co za tym idzie kolejne wydanie Screenki! Kazdy w okularach? Nie sadzilismy ze u wszystkich tak zle ze wzrokiem..."}),(0,ze.jsx)("br",{}),(0,ze.jsx)("h2",{children:"Oto nasze wyniki:"}),(0,ze.jsx)(mk,{host_id:"-1",week_name:"Glassy Week"}),(0,ze.jsx)("br",{}),(0,ze.jsx)("br",{}),(0,ze.jsx)("h2",{children:"Poniedzia\u0142ek"}),(0,ze.jsx)("h4",{children:"A wszystko zacz\u0119lo sie od..."}),(0,ze.jsx)(vk,{id:"dsnanaaiaocsn",user_fullname:Dt}),(0,ze.jsx)("h4",{children:"To co dzis przygotowalismy jest genialne! SmiSAMdiasmd isamdsa iasmd isadasnd ldsanf mdsafsadvinafdsg agf lorem"}),(0,ze.jsx)(vk,{id:"123123",user_fullname:"Tola Bajka"}),(0,ze.jsx)("footer",{style:{marginTop:"50px"},children:"Screenka Tygodnia \u2122"})]})},kk=function(){var e=ke().host_id,n=ge(),r=(0,t.useContext)(Pg),i=r.user,a=r.week,o=r.WeekService,u=r.PostService,s=r.HostService,l=r.EventService,c=function(){var t=We(Be().mark((function t(r){var c,f;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r===(null===a||void 0===a?void 0:a.name)){t.next=3;break}return n("/"),t.abrupt("return");case 3:if(f=l.getMyInteractiveEvent("screenkatygodnia"),fg.canInteract(f,{week:a})){t.next=7;break}return n("/"),t.abrupt("return");case 7:if(i&&null!==(c=i.hosts)&&void 0!==c&&c.includes(e)){t.next=10;break}return n("/"),t.abrupt("return");case 10:return s.getHostPersonalizedApps(e).then((function(e){u.setHideIfAppsState(i,e)})),t.abrupt("return",setTimeout((function(){fg.setInteraction(f)&&o.trySetMyScreenkaView(e,r).then((function(e){return console.log(e?"Screenka View has been set":"Screenka View hasnt been set")}))}),3e3));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,ze.jsx)("div",{className:"noselect",children:function(){switch(e){case"-1":return(0,ze.jsx)(gk,{});case"0":return(0,ze.jsx)(yk,{onLoad:c});default:return(0,ze.jsx)(pk,{})}}()})},bk="rnshot",wk="oneshot",xk="morningshot",_k=function(){var e,n,r=me(),i=null===(e=r.state)||void 0===e?void 0:e.nextPages,a=null===(n=r.state)||void 0===n?void 0:n.token,o=ge(),u=ke(),s=u.user_fullname,l=u.id,c=u.event,f=(0,t.useContext)(Pg).EventService,h=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(c)}),[c]);(0,t.useEffect)((function(){s&&l||o("/")}),[s,l]);var d=(0,t.useMemo)((function(){return h?h.name.toUpperCase():"User Post:"}),[h]);return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("h2",{children:[(0,ze.jsx)(Ze,{alert:(null===i||void 0===i?void 0:i.length)>0,onClick:function(){return o(-1,{state:{token:!0}})}}),d,(null===i||void 0===i?void 0:i.length)>0&&(0,ze.jsx)(Je,{focus:!0,onClick:function(){o(i[0],{replace:!0,state:{token:!0,nextPages:i.slice(1)}})}})]}),(0,ze.jsx)(vk,{id:l,user_fullname:s,trySetView:null!==h,onLoad:function(e){if(c){var t={};if((null===h||void 0===h?void 0:h.toString())===bk&&(t.date=e.upload_date),a||fg.canInteract(h,t)){if(!a)switch(null===h||void 0===h?void 0:h.toString()){case bk:case xk:case wk:fg.setInteraction(h);break;default:return void o("/")}}else o("/")}}})]})},Sk=function(e){var n,r=e.post,i=e.crossed_eye_only,a=void 0!==i&&i,o=e.no_eyes,u=void 0!==o&&o,l=e.hourDate,c=void 0!==l&&l,f=e.pretty_date,h=void 0!==f&&f,d=e.checkboxDisabled,p=e.uncheckedCheckboxDisabled,v=e.defaultChecked,m=void 0===v?null:v,y=e.onCheckboxChange,g=void 0===y?function(){}:y,k=e.onCheckboxChangeDelay,b=void 0===k?function(){}:k,w=(e.edit,e.onEdit,e.delete_),x=void 0!==w&&w,_=e.onDelete,S=void 0===_?function(){}:_,E=e.preview,C=void 0!==E&&E,T=e.onPreview,I=void 0===T?function(){}:T,N=(0,t.useContext)(Pg).AppService,D=function(){return null!==m?m:r.permissions.screenka},A=s((0,t.useState)(),2),P=A[0],R=A[1],j=P?P.target.checked:D(),L=(0,t.useRef)(D()),O=(0,t.useRef)(null);return(0,t.useEffect)((function(){null!==O.current&&clearTimeout(O.current),L.current!==j&&(O.current=setTimeout((function(){L.current=j,b(P)}),3e3))}),[j]),(0,ze.jsxs)("div",{className:"mini-post-pre",children:[(0,ze.jsx)(Ug,{name:r.id,disabled:d||!j&&p,checked:j,onChange:function(e){e.target.id=r.id,g(e),R(e)}}),(0,ze.jsxs)("div",{className:"mini-post",children:[(0,ze.jsx)(Mg,{application:N.getApp(r.app),height:50}),(0,ze.jsxs)("div",{className:"text",children:[(0,ze.jsx)("span",{children:(0,ze.jsx)("b",{children:r.app})}),r.context&&(0,ze.jsx)(ck,{children:(0,ze.jsx)("span",{children:r.context})})]}),(0,ze.jsxs)("div",{className:"infos abs",children:[C&&(0,ze.jsx)("div",{children:(0,ze.jsx)(Hg,{onClick:function(){return I(r.id)},children:"Link"})}),x&&(0,ze.jsx)("div",{children:(0,ze.jsx)(Hg,{red:!0,onClick:function(){return S(r.id)},children:"Delete"})}),!u&&(null==r.view||!a)&&(0,ze.jsx)("img",{alt:"view",style:{height:"16px",filter:"invert(0.6)"},src:nt(null!=r.view?"view16.png":"no_view16.png")}),(0,ze.jsx)("div",{className:h&&c&&mt(r.upload_date,15)?"color-orange":void 0,children:!0===c?pt(r.upload_date,h):null===(n=ut(r.upload_date))||void 0===n?void 0:n.slice(0,3).toUpperCase()})]})]})]})},Ek=function(e){var n=e.posts,r=e.title,i=e.checkboxesDisabled,a=void 0!==i&&i,o=e.maxChecks,u=void 0===o?null:o,l=e.customCheckboxes,c=void 0!==l&&l,f=e.onPostCheckboxChange,h=void 0===f?function(){}:f,d=e.onPostCheckboxChangeDelay,p=void 0===d?function(){}:d,v=e.hourDate,m=e.pretty_date,y=void 0!==m&&m,g=e.preview,k=void 0!==g&&g,b=e.onPostPreview,w=e.edit,x=void 0!==w&&w,_=e.onPostEdit,S=e.delete_,E=void 0!==S&&S,C=e.onPostDelete,T=e.hideFooter,I=void 0!==T&&T,N=e.hideTickets,D=void 0!==N&&N,A=e.crossed_eye_only,P=void 0!==A&&A,R=e.no_crossed_eye_funny_info,j=void 0!==R&&R,L=e.no_eyes,O=void 0!==L&&L,M=s((0,t.useState)(0),2),U=M[0],F=M[1];(0,t.useEffect)((function(){F(!n||c?0:n.filter((function(e){return!0===e.permissions.screenka})).length)}),[null===n||void 0===n?void 0:n.length]);var z=function(e){e.target.checked?F(U+1):F(U-1),h(e)};return null===n?(0,ze.jsx)(St,{}):0===n.length?(0,ze.jsx)(pk,{}):(0,ze.jsxs)("div",{className:"miniposts",children:[(0,ze.jsxs)("div",{className:"miniposts-legend",children:[r&&(0,ze.jsx)("h4",{style:{position:"absolute",marginTop:"0px",top:0,left:"50%",transform:"translate(-50%,0)"},children:r}),!c&&!D&&(0,ze.jsxs)("div",{className:"bar "+(a?"opacity":""),children:[(0,ze.jsx)("span",{style:{fontSize:"30px"},role:"img","aria-label":"ticket",children:"\ud83c\udf9f\ufe0f"}),(0,ze.jsx)("h5",{children:u?"".concat(U,"/").concat(u," used"):"".concat(U," used")})]}),c&&!D&&(0,ze.jsxs)("div",{className:"bar "+(a?"opacity":""),children:[(0,ze.jsxs)("h4",{children:["Choose up to ",u||0,":"]}),(0,ze.jsxs)("h5",{children:[U," checked"]})]})]}),null===n&&(0,ze.jsx)(St,{}),0===(null===n||void 0===n?void 0:n.length)&&(0,ze.jsx)(pk,{}),(null===n||void 0===n?void 0:n.length)>0&&(0,ze.jsxs)("div",{className:"miniposts-list noscroll",children:[null===n||void 0===n?void 0:n.map((function(e,t){return(0,ze.jsx)(Sk,{post:e,hourDate:v,no_eyes:O,crossed_eye_only:P,uncheckedCheckboxDisabled:U>=u,checkboxDisabled:a||!u,defaultChecked:!c&&null,onCheckboxChange:z,onCheckboxChangeDelay:p,edit:x,delete_:E,preview:k,onEdit:function(){return _(e.id)},onDelete:function(){return C(e.id)},onPreview:function(){return b(e.id)},pretty_date:y},e.id)})),!c&&!I&&!D&&(P||!j)&&(0,ze.jsxs)("footer",{className:"center"+(a?" opacity":""),children:["Uploads with tickets will apply for",(0,ze.jsx)("br",{}),"Screenka Tygodnia \u2122"]}),!I&&!P&&j&&(0,ze.jsxs)("footer",{className:"center",children:["Kto zobaczy\u0142, ten zobaczy\u0142.",(0,ze.jsx)("br",{}),"Teraz p\xf3jdzie w niepami\u0119\u0107. ",(0,ze.jsx)("span",{role:"img","aria-label":"ghost",children:"\ud83d\udc7b"})]})]})]})},Ck="dayuploads",Tk="weekuploads",Ik="manageuploads",Nk=function(){var e,n=ge(),r=(0,t.useContext)(Pg),i=r.user,a=r.PostService,o=r.screenkaDisabled,u=r.EventService,l=ke().type,f=null===(e=me().state)||void 0===e?void 0:e.token,h=s((0,t.useState)(null),2),d=h[0],p=h[1];(0,t.useEffect)((function(){var e=u.getMyInteractiveEvent("week"===l?Tk:"day"===l?Ck:"manage"===l?Ik:null);f||fg.canInteract(e)?function(e){switch(e.toString()){case Ik:return a.getMyDayUploads().then((function(e){var t=c(e);return t.reverse(),t}));case Ck:return a.getMyDayUploads();case Tk:return a.getMyWeekUploads();default:return Promise.reject()}}(e).then((function(t){p(t),(null===t||void 0===t?void 0:t.length)>0&&!f&&fg.setInteraction(e)})).catch((function(){return n("/")})):n("/")}),[]);return(0,ze.jsxs)("div",{children:["manage"===l&&(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{}),"Manage Uploads:"]}),"day"===l&&(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{}),"Your Day Uploads:"]}),"week"===l&&(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{})," Your Week Uploads:"]}),(0,ze.jsx)(Ek,{posts:d,checkboxesDisabled:!i.preferences.screenka||o||"manage"!==l,maxChecks:"manage"===l?a.getMaxTickets():null,onPostCheckboxChangeDelay:function(e){a.changeMyPostPermissions(e.target.id,{screenka:e.target.checked})},hourDate:"day"===l||"manage"===l,pretty_date:"manage"===l,preview:"day"===l||"week"===l,onPostPreview:function(e){n("/post/".concat(i.fullname,"/").concat(e),{state:{showMyRefPosts:"manage"!==l,showFriendsRefPosts:"week"===l}})},delete_:"manage"===l,onPostDelete:function(e){d.find((function(t){return t.id===e}))&&window.confirm("Are you sure you want to delete this upload?")&&Promise.all([a.changeMyPostPermissions(e,{me:!1,friends:!1,screenka:!1}),it(100)]).then((function(){return p(d.filter((function(t){return t.id!==e})))}))},hideTickets:!i.preferences.screenka,crossed_eye_only:"manage"===l,no_crossed_eye_funny_info:"week"===l,no_eyes:"day"===l})]})},Dk=function(e){var n=e.children,r=e.onDemo,i=me(),a=ge(),o=(0,t.useRef)(i.pathname.startsWith("/demo"));return(0,t.useEffect)((function(){if(o.current){r();var e=setTimeout((function(){localStorage.setItem("fullname",Dt)}),500);return function(){return clearTimeout(e)}}}),[]),(0,t.useEffect)((function(){var e;o.current&&!i.pathname.startsWith("/demo")&&a("/demo".concat(i.pathname),{replace:!0,state:{token:null===(e=i.state)||void 0===e?void 0:e.token}})}),[a,i.pathname]),o.current?(0,ze.jsxs)(Rg,{demo:!0,children:[n,(0,ze.jsx)("h2",{className:"noselect",style:{position:"fixed",left:"10px",top:"13px",margin:0,opacity:"0.3",zIndex:-10},children:"DEMO"})]}):(0,ze.jsx)(Rg,{children:n})},Ak="dayuploads",Pk="weekuploads",Rk=function(){var e=ke(),n=e.user_fullname,r=e.host_id,i=e.event,a=ge(),o=(0,t.useContext)(Pg),u=o.AM_I_HOST,l=o.PostService,c=s((0,t.useState)(null),2),f=c[0],h=c[1];(0,t.useEffect)((function(){if(u||n)switch(i.toString()){case Ak:l.getUserCurrentDayPostsHOST(n,r).then((function(e){return null==e?a("/"):h(e)}));break;case Pk:l.getUserCurrentWeekPostsHOST(n,r).then((function(e){return null==e?a("/"):h(e)}));break;default:a("/")}else a("/")}),[]);return(0,ze.jsxs)("div",{children:[i.toString()===Ak&&(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{}),"User Day Uploads:"]}),i.toString()===Pk&&(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{}),"User Week Uploads:"]}),(0,ze.jsx)(Ek,{posts:f,title:n,checkboxesDisabled:!0,preview:!0,onPostPreview:function(e){a("/post/".concat(n,"/").concat(e),{state:{showMyRefPosts:!0,showFriendsRefPosts:!0}})},hideFooter:!0})]})},jk="dayuploads",Lk="weekuploads",Ok="weekuploads2",Mk="oneshot",Uk="morningshot",Fk="ohpreview",zk="throwback",Vk=function(){var e=ke().event,n=ge(),r=(0,t.useContext)(Pg),i=r.user,a=r.HostService,o=r.PostService,u=r.WeekService,l=r.EventService,c=s((0,t.useState)(!1),2),f=c[0],h=c[1];(0,t.useEffect)((function(){var t=l.getMyInteractiveEvent(e);if(fg.canInteract(t)){var r=setTimeout(We(Be().mark((function e(){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:null==(r=e.sent)?h(!0):(r.options=Ke({replace:!0},r.options),n(r.to,r.options));case 4:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(r)}}n("/")}),[]);var d=function(){var e=We(Be().mark((function e(t){var n,r,l,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=We(Be().mark((function e(){var t,n,r,i,u,l,c,f,h;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.getMyFriendsWithHostId(),n=s(t,1),r=n[0],i=r.sort((function(){return.5-Math.random()})),u=[],l=S(i),e.prev=4,l.s();case 6:if((c=l.n()).done){e.next=16;break}return f=c.value,e.next=10,o.getFriendCurrentDayRandomPost(f);case 10:if((h=e.sent)&&u.push("/post/".concat(f,"/").concat(h.id,"/").concat(Mk)),!(u.length>=3)){e.next=14;break}return e.abrupt("break",16);case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),l.e(e.t0);case 21:return e.prev=21,l.f(),e.finish(21);case 24:if(0!==u.length){e.next=26;break}return e.abrupt("return",null);case 26:return e.abrupt("return",{to:u[0],options:{state:{nextPages:u.slice(1),showMyRefPosts:!0}}});case 27:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=We(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getMyYesterdayRandomPost();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",{to:"/post/".concat(i.fullname,"/").concat(t.id,"/").concat(Uk),options:{state:{showMyRefPosts:!0,showFriendsRefPosts:!0}}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=We(Be().mark((function e(){var t,n,r,i,o,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getMyFriendsWithHostId(),n=s(t,2),r=n[0],i=n[1],o=kt(r),e.next=4,u.getMyHostLastWeekName();case 4:return l=e.sent,e.abrupt("return",{to:"/posts/".concat(o,"/").concat(i,"/").concat(l,"/").concat(Fk)});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=We(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getMyHostId(),e.next=3,u.getMyHostLastWeekName();case 3:return n=e.sent,e.abrupt("return",{to:"/posts/".concat(i.fullname,"/").concat(t,"/").concat(n,"/").concat(zk)});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.t0=t.toString(),e.next=e.t0===jk?7:e.t0===Lk?8:e.t0===Ok?9:e.t0===Mk?10:e.t0===Uk?11:e.t0===Fk?12:e.t0===zk?13:14;break;case 7:return e.abrupt("return",{to:"/uploads/day"});case 8:case 9:return e.abrupt("return",{to:"/uploads/week"});case 10:return e.abrupt("return",n());case 11:return e.abrupt("return",r());case 12:return e.abrupt("return",l());case 13:return e.abrupt("return",c());case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f?(0,ze.jsx)(pk,{goback:!0}):(0,ze.jsx)("div",{})},Bk="throwback",Hk="ohpreview",Wk=function(){var e,n,r=ke(),i=r.user_fullname,a=r.host_id,o=r.week_name,u=r.event,l=ge(),c=(0,t.useContext)(Pg),f=c.EventService,h=c.PostService,d=null===(e=me().state)||void 0===e?void 0:e.token,p=(0,t.useMemo)((function(){return f.getMyInteractiveEvent(u)}),[u]),v=s((0,t.useState)(null),2),m=v[0],y=v[1],g=(0,t.useRef)(new Map),k=s((0,t.useState)(0),2),b=k[0],w=k[1];(0,t.useEffect)((function(){if(i&&a&&o)if(d||fg.canInteract(p))switch(p.toString()){case Bk:h.getMyPastWeekPosts(o).then((function(e){return null==e?l("/"):y(e)}));break;case Hk:h.getFriendPastWeekPosts(i,o).then((function(e){return null==e?l("/"):y(e)}));break;default:return void l("/")}else l("/");else l("/")}),[]);var x=null!==m;(0,t.useEffect)((function(){x&&m.length>0&&!d&&fg.setInteraction(p)}),[x]);return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("h2",{children:[" ",(0,ze.jsx)(Ze,{}),null===(n=p.name)||void 0===n?void 0:n.toUpperCase(),(0,ze.jsx)(Je,{focus:!0,disabled:0===b,onClick:function(){var e=Array.from(g.current.keys()).map((function(e){return"/post/".concat(i,"/").concat(e,"/").concat(p)}));return l(e[0],{replace:!0,state:{token:!0,nextPages:e.slice(1),showMyRefPosts:!0,showFriendsRefPosts:!0}})}})]}),(0,ze.jsx)(Ek,{posts:m,title:"".concat(o),no_eyes:!0,maxChecks:3,customCheckboxes:!0,onPostCheckboxChange:function(e){g.current.has(e.target.name)?g.current.delete(e.target.name):g.current.set(e.target.name,e.target.checked),w(g.current.size)}})]})},qk=function(){var e=ge(),n=(0,t.useContext)(Pg).user;return(0,t.useEffect)((function(){n&&e("/")}),[]),(0,ze.jsxs)("div",{className:"flex-center",style:{alignItems:"center",textAlign:"center"},children:[(0,ze.jsx)("img",{className:"noselect opacity",alt:"add to home screen",src:nt("add_to_home_screen.png"),style:{objectFit:"cover",height:"100px",width:"100px",marginBottom:"30px"}}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{children:"1. Add to Home Screen"}),(0,ze.jsxs)("h4",{children:["2. ",(0,ze.jsx)(Hg,{onClick:function(){return e("/login")},children:"Login"})]})]})]})},Gk=function(){var e=s((0,t.useState)(!1),2),n=e[0],r=e[1],i=function(e){return n?"/demo".concat(e):e};return(0,ze.jsx)("div",{className:"app-flex-center-v",children:(0,ze.jsx)("div",{className:"app-max-mobile",children:(0,ze.jsx)(Me,{basename:"/",children:(0,ze.jsx)(Dk,{onDemo:function(){return r(!0)},children:(0,ze.jsxs)(je,{children:[(0,ze.jsx)(Pe,{exact:!0,path:i("/"),element:(0,ze.jsx)(dk,{})}),(0,ze.jsx)(Pe,{path:i("/login"),element:(0,ze.jsx)(zg,{})}),(0,ze.jsx)(Pe,{path:i("/bookmark"),element:(0,ze.jsx)(qk,{})}),(0,ze.jsx)(Pe,{path:i("/dayevent/:event"),element:(0,ze.jsx)(Vk,{})}),(0,ze.jsx)(Pe,{path:i("/uploads/:type"),element:(0,ze.jsx)(Nk,{})}),(0,ze.jsx)(Pe,{path:i("/screenka/:host_id"),element:(0,ze.jsx)(kk,{})}),(0,ze.jsx)(Pe,{path:i("/post/:user_fullname/:id"),element:(0,ze.jsx)(_k,{})})," ",(0,ze.jsx)(Pe,{path:i("/post/:user_fullname/:id/:event"),element:(0,ze.jsx)(_k,{})}),(0,ze.jsx)(Pe,{path:i("/posts/:user_fullname/:host_id/:event"),element:(0,ze.jsx)(Rk,{})})," ",(0,ze.jsx)(Pe,{path:i("/posts/:user_fullname/:host_id/:week_name/:event"),element:(0,ze.jsx)(Wk,{})}),(0,ze.jsx)(Pe,{path:"*",element:(0,ze.jsx)(Ve,{})})]})})})})})};r.createRoot(document.getElementById("root")).render((0,ze.jsx)(t.StrictMode,{children:(0,ze.jsx)(Gk,{})}))}()}();
//# sourceMappingURL=main.0445636a.js.map